(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const w4="modulepreload",b4=function(r){return"/tight-leash/"+r},bu={},_4=function(e,t,n){return!t||t.length===0?e():Promise.all(t.map(s=>{if(s=b4(s),s in bu)return;bu[s]=!0;const i=s.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":w4,i||(o.as="script",o.crossOrigin=""),o.href=s,document.head.appendChild(o),i)return new Promise((l,u)=>{o.addEventListener("load",l),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};function ve(){}const wa=r=>r;function F(r,e){for(const t in e)r[t]=e[t];return r}function k4(r){return r&&typeof r=="object"&&typeof r.then=="function"}function i1(r){return r()}function _u(){return Object.create(null)}function gr(r){r.forEach(i1)}function un(r){return typeof r=="function"}function Se(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function S4(r){return Object.keys(r).length===0}function a1(r,...e){if(r==null)return ve;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function T4(r,e,t){r.$$.on_destroy.push(a1(e,t))}function Ye(r,e,t,n){if(r){const s=o1(r,e,t,n);return r[0](s)}}function o1(r,e,t,n){return r[1]&&n?F(t.ctx.slice(),r[1](n(e))):t.ctx}function Xe(r,e,t,n){if(r[2]&&n){const s=r[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],a=Math.max(e.dirty.length,s.length);for(let o=0;o<a;o+=1)i[o]=e.dirty[o]|s[o];return i}return e.dirty|s}return e.dirty}function Qe(r,e,t,n,s,i){if(s){const a=o1(e,t,n,i);r.p(a,s)}}function Je(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function de(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function ku(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function x4(r){return r&&un(r.destroy)?r.destroy:ve}const l1=typeof window<"u";let ba=l1?()=>window.performance.now():()=>Date.now(),No=l1?r=>requestAnimationFrame(r):ve;const xn=new Set;function u1(r){xn.forEach(e=>{e.c(r)||(xn.delete(e),e.f())}),xn.size!==0&&No(u1)}function _a(r){let e;return xn.size===0&&No(u1),{promise:new Promise(t=>{xn.add(e={c:r,f:t})}),abort(){xn.delete(e)}}}function re(r,e){r.appendChild(e)}function c1(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function E4(r){const e=le("style");return I4(c1(r),e),e.sheet}function I4(r,e){return re(r.head||r,e),e.sheet}function A(r,e,t){r.insertBefore(e,t||null)}function I(r){r.parentNode.removeChild(r)}function Ro(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function le(r){return document.createElement(r)}function be(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Nn(r){return document.createTextNode(r)}function J(){return Nn(" ")}function Ne(){return Nn("")}function Ui(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function uw(r){return function(e){return e.preventDefault(),r.call(this,e)}}function E(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Su(r,e){for(const t in e)E(r,t,e[t])}function A4(r){return Array.from(r.childNodes)}function Vi(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function cw(r,e){r.value=e==null?"":e}function Bt(r,e,t,n){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Tu(r,e,t){r.classList[t?"add":"remove"](e)}function h1(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(r,t,n,e),s}const Hi=new Map;let ji=0;function M4(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function C4(r,e){const t={stylesheet:E4(e),rules:{}};return Hi.set(r,t),t}function ps(r,e,t,n,s,i,a,o=0){const l=16.666/n;let u=`{
`;for(let T=0;T<=1;T+=l){const x=e+(t-e)*i(T);u+=T*100+`%{${a(x,1-x)}}
`}const h=u+`100% {${a(t,1-t)}}
}`,d=`__svelte_${M4(h)}_${o}`,g=c1(r),{stylesheet:v,rules:w}=Hi.get(g)||C4(g,r);w[d]||(w[d]=!0,v.insertRule(`@keyframes ${d} ${h}`,v.cssRules.length));const k=r.style.animation||"";return r.style.animation=`${k?`${k}, `:""}${d} ${n}ms linear ${s}ms 1 both`,ji+=1,d}function gs(r,e){const t=(r.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=t.length-n.length;s&&(r.style.animation=n.join(", "),ji-=s,ji||D4())}function D4(){No(()=>{ji||(Hi.forEach(r=>{const{ownerNode:e}=r.stylesheet;e&&I(e)}),Hi.clear())})}function hw(r,e,t,n){if(!e)return ve;const s=r.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return ve;const{delay:i=0,duration:a=300,easing:o=wa,start:l=ba()+i,end:u=l+a,tick:h=ve,css:d}=t(r,{from:e,to:s},n);let g=!0,v=!1,w;function k(){d&&(w=ps(r,0,1,a,i,o,d)),i||(v=!0)}function T(){d&&gs(r,w),g=!1}return _a(x=>{if(!v&&x>=l&&(v=!0),v&&x>=u&&(h(1,0),T()),!g)return!1;if(v){const O=x-l,U=0+1*o(O/a);h(U,1-U)}return!0}),k(),h(0,1),T}function fw(r){const e=getComputedStyle(r);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,s=r.getBoundingClientRect();r.style.position="absolute",r.style.width=t,r.style.height=n,N4(r,s)}}function N4(r,e){const t=r.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(r),s=n.transform==="none"?"":n.transform;r.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let vs;function tr(r){vs=r}function zs(){if(!vs)throw new Error("Function called outside component initialization");return vs}function dw(r){zs().$$.on_mount.push(r)}function R4(r){zs().$$.after_update.push(r)}function O4(r){zs().$$.on_destroy.push(r)}function $4(){const r=zs();return(e,t,{cancelable:n=!1}={})=>{const s=r.$$.callbacks[e];if(s){const i=h1(e,t,{cancelable:n});return s.slice().forEach(a=>{a.call(r,i)}),!i.defaultPrevented}return!0}}function xu(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const rs=[],Eu=[],Ci=[],j0=[],f1=Promise.resolve();let G0=!1;function d1(){G0||(G0=!0,f1.then(Oo))}function m1(){return d1(),f1}function Rn(r){Ci.push(r)}function mw(r){j0.push(r)}const d0=new Set;let di=0;function Oo(){const r=vs;do{for(;di<rs.length;){const e=rs[di];di++,tr(e),L4(e.$$)}for(tr(null),rs.length=0,di=0;Eu.length;)Eu.pop()();for(let e=0;e<Ci.length;e+=1){const t=Ci[e];d0.has(t)||(d0.add(t),t())}Ci.length=0}while(rs.length);for(;j0.length;)j0.pop()();G0=!1,d0.clear(),tr(r)}function L4(r){if(r.fragment!==null){r.update(),gr(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Rn)}}let es;function $o(){return es||(es=Promise.resolve(),es.then(()=>{es=null})),es}function Qr(r,e,t){r.dispatchEvent(h1(`${e?"intro":"outro"}${t}`))}const Di=new Set;let Ut;function Ae(){Ut={r:0,c:[],p:Ut}}function Me(){Ut.r||gr(Ut.c),Ut=Ut.p}function M(r,e){r&&r.i&&(Di.delete(r),r.i(e))}function D(r,e,t,n){if(r&&r.o){if(Di.has(r))return;Di.add(r),Ut.c.push(()=>{Di.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}const Lo={duration:0};function pw(r,e,t){let n=e(r,t),s=!1,i,a,o=0;function l(){i&&gs(r,i)}function u(){const{delay:d=0,duration:g=300,easing:v=wa,tick:w=ve,css:k}=n||Lo;k&&(i=ps(r,0,1,g,d,v,k,o++)),w(0,1);const T=ba()+d,x=T+g;a&&a.abort(),s=!0,Rn(()=>Qr(r,!0,"start")),a=_a(O=>{if(s){if(O>=x)return w(1,0),Qr(r,!0,"end"),l(),s=!1;if(O>=T){const U=v((O-T)/g);w(U,1-U)}}return s})}let h=!1;return{start(){h||(h=!0,gs(r),un(n)?(n=n(),$o().then(u)):u())},invalidate(){h=!1},end(){s&&(l(),s=!1)}}}function gw(r,e,t){let n=e(r,t),s=!0,i;const a=Ut;a.r+=1;function o(){const{delay:l=0,duration:u=300,easing:h=wa,tick:d=ve,css:g}=n||Lo;g&&(i=ps(r,1,0,u,l,h,g));const v=ba()+l,w=v+u;Rn(()=>Qr(r,!1,"start")),_a(k=>{if(s){if(k>=w)return d(0,1),Qr(r,!1,"end"),--a.r||gr(a.c),!1;if(k>=v){const T=h((k-v)/u);d(1-T,T)}}return s})}return un(n)?$o().then(()=>{n=n(),o()}):o(),{end(l){l&&n.tick&&n.tick(1,0),s&&(i&&gs(r,i),s=!1)}}}function vw(r,e,t,n){let s=e(r,t),i=n?0:1,a=null,o=null,l=null;function u(){l&&gs(r,l)}function h(g,v){const w=g.b-i;return v*=Math.abs(w),{a:i,b:g.b,d:w,duration:v,start:g.start,end:g.start+v,group:g.group}}function d(g){const{delay:v=0,duration:w=300,easing:k=wa,tick:T=ve,css:x}=s||Lo,O={start:ba()+v,b:g};g||(O.group=Ut,Ut.r+=1),a||o?o=O:(x&&(u(),l=ps(r,i,g,w,v,k,x)),g&&T(0,1),a=h(O,w),Rn(()=>Qr(r,g,"start")),_a(U=>{if(o&&U>o.start&&(a=h(o,w),o=null,Qr(r,a.b,"start"),x&&(u(),l=ps(r,i,a.b,a.duration,0,k,s.css))),a){if(U>=a.end)T(i=a.b,1-i),Qr(r,a.b,"end"),o||(a.b?u():--a.group.r||gr(a.group.c)),a=null;else if(U>=a.start){const q=U-a.start;i=a.a+a.d*k(q/a.duration),T(i,1-i)}}return!!(a||o)}))}return{run(g){un(s)?$o().then(()=>{s=s(),d(g)}):d(g)},end(){u(),a=o=null}}}function z4(r,e){const t=e.token={};function n(s,i,a,o){if(e.token!==t)return;e.resolved=o;let l=e.ctx;a!==void 0&&(l=l.slice(),l[a]=o);const u=s&&(e.current=s)(l);let h=!1;e.block&&(e.blocks?e.blocks.forEach((d,g)=>{g!==i&&d&&(Ae(),D(d,1,1,()=>{e.blocks[g]===d&&(e.blocks[g]=null)}),Me())}):e.block.d(1),u.c(),M(u,1),u.m(e.mount(),e.anchor),h=!0),e.block=u,e.blocks&&(e.blocks[i]=u),h&&Oo()}if(k4(r)){const s=zs();if(r.then(i=>{tr(s),n(e.then,1,e.value,i),tr(null)},i=>{if(tr(s),n(e.catch,2,e.error,i),tr(null),!e.hasCatch)throw i}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,r),!0;e.resolved=r}}function P4(r,e,t){const n=e.slice(),{resolved:s}=r;r.current===r.then&&(n[r.value]=s),r.current===r.catch&&(n[r.error]=s),r.block.p(n,t)}const yw=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function B4(r,e){D(r,1,1,()=>{e.delete(r.key)})}function ww(r,e){r.f(),B4(r,e)}function bw(r,e,t,n,s,i,a,o,l,u,h,d){let g=r.length,v=i.length,w=g;const k={};for(;w--;)k[r[w].key]=w;const T=[],x=new Map,O=new Map;for(w=v;w--;){const P=d(s,i,w),Y=t(P);let ee=a.get(Y);ee?n&&ee.p(P,e):(ee=u(Y,P),ee.c()),x.set(Y,T[w]=ee),Y in k&&O.set(Y,Math.abs(w-k[Y]))}const U=new Set,q=new Set;function z(P){M(P,1),P.m(o,h),a.set(P.key,P),h=P.first,v--}for(;g&&v;){const P=T[v-1],Y=r[g-1],ee=P.key,ie=Y.key;P===Y?(h=P.first,g--,v--):x.has(ie)?!a.has(ee)||U.has(ee)?z(P):q.has(ie)?g--:O.get(ee)>O.get(ie)?(q.add(ee),z(P)):(U.add(ie),g--):(l(Y,a),g--)}for(;g--;){const P=r[g];x.has(P.key)||l(P,a)}for(;v;)z(T[v-1]);return T}function me(r,e){const t={},n={},s={$$scope:1};let i=r.length;for(;i--;){const a=r[i],o=e[i];if(o){for(const l in a)l in o||(n[l]=1);for(const l in o)s[l]||(t[l]=o[l],s[l]=1);r[i]=o}else for(const l in a)s[l]=1}for(const a in n)a in t||(t[a]=void 0);return t}function ge(r){return typeof r=="object"&&r!==null?r:{}}function _w(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function G(r){r&&r.c()}function H(r,e,t,n){const{fragment:s,on_mount:i,on_destroy:a,after_update:o}=r.$$;s&&s.m(e,t),n||Rn(()=>{const l=i.map(i1).filter(un);a?a.push(...l):gr(l),r.$$.on_mount=[]}),o.forEach(Rn)}function j(r,e){const t=r.$$;t.fragment!==null&&(gr(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function F4(r,e){r.$$.dirty[0]===-1&&(rs.push(r),d1(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function xe(r,e,t,n,s,i,a,o=[-1]){const l=vs;tr(r);const u=r.$$={fragment:null,ctx:null,props:i,update:ve,not_equal:s,bound:_u(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:_u(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};a&&a(u.root);let h=!1;if(u.ctx=t?t(r,e.props||{},(d,g,...v)=>{const w=v.length?v[0]:g;return u.ctx&&s(u.ctx[d],u.ctx[d]=w)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](w),h&&F4(r,d)),g}):[],u.update(),h=!0,gr(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const d=A4(e.target);u.fragment&&u.fragment.l(d),d.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&M(r.$$.fragment),H(r,e.target,e.anchor,e.customElement),Oo()}tr(l)}class Ee{$destroy(){j(this,1),this.$destroy=ve}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!S4(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},q4=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=r[t++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=r[t++],a=r[t++],o=r[t++],l=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=r[t++],a=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},g1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const i=r[s],a=s+1<r.length,o=a?r[s+1]:0,l=s+2<r.length,u=l?r[s+2]:0,h=i>>2,d=(i&3)<<4|o>>4;let g=(o&15)<<2|u>>6,v=u&63;l||(v=64,a||(g=64)),n.push(t[h],t[d],t[g],t[v])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(p1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):q4(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const i=t[r.charAt(s++)],o=s<r.length?t[r.charAt(s)]:0;++s;const u=s<r.length?t[r.charAt(s)]:64;++s;const d=s<r.length?t[r.charAt(s)]:64;if(++s,i==null||o==null||u==null||d==null)throw Error();const g=i<<2|o>>4;if(n.push(g),u!==64){const v=o<<4&240|u>>2;if(n.push(v),d!==64){const w=u<<6&192|d;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},U4=function(r){const e=p1(r);return g1.encodeByteArray(e,!0)},v1=function(r){return U4(r).replace(/\./g,"")},V4=function(r){try{return g1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function G4(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function W4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K4(){const r=ct();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Y4(){return typeof indexedDB=="object"}function X4(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="FirebaseError";class vr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Q4,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ps.prototype.create)}}class Ps{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?J4(i,n):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new vr(s,o,n)}}function J4(r,e){return r.replace(Z4,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Z4=/\{\$([^}]+)}/g;function ep(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Gi(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const i=r[s],a=e[s];if(Iu(i)&&Iu(a)){if(!Gi(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function Iu(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function tp(r,e){const t=new rp(r,e);return t.subscribe.bind(t)}class rp{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");np(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=m0),s.error===void 0&&(s.error=m0),s.complete===void 0&&(s.complete=m0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function np(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function m0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r){return r&&r._delegate?r._delegate:r}class tn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new H4;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ap(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&a.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!!n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ip(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ip(r){return r===Gr?void 0:r}function ap(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const lp={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},up=ke.INFO,cp={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},hp=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=cp[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zo{constructor(e){this.name=e,this._logLevel=up,this._logHandler=hp,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const fp=(r,e)=>e.some(t=>r instanceof t);let Au,Mu;function dp(){return Au||(Au=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mp(){return Mu||(Mu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y1=new WeakMap,W0=new WeakMap,w1=new WeakMap,p0=new WeakMap,Po=new WeakMap;function pp(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",a)},i=()=>{t(Mr(r.result)),s()},a=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&y1.set(t,r)}).catch(()=>{}),Po.set(e,r),e}function gp(r){if(W0.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",a),r.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",a),r.addEventListener("abort",a)});W0.set(r,e)}let K0={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return W0.get(r);if(e==="objectStoreNames")return r.objectStoreNames||w1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mr(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vp(r){K0=r(K0)}function yp(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(g0(this),e,...t);return w1.set(n,e.sort?e.sort():[e]),Mr(n)}:mp().includes(r)?function(...e){return r.apply(g0(this),e),Mr(y1.get(this))}:function(...e){return Mr(r.apply(g0(this),e))}}function wp(r){return typeof r=="function"?yp(r):(r instanceof IDBTransaction&&gp(r),fp(r,dp())?new Proxy(r,K0):r)}function Mr(r){if(r instanceof IDBRequest)return pp(r);if(p0.has(r))return p0.get(r);const e=wp(r);return e!==r&&(p0.set(r,e),Po.set(e,r)),e}const g0=r=>Po.get(r);function bp(r,e,{blocked:t,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(r,e),o=Mr(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Mr(a.result),l.oldVersion,l.newVersion,Mr(a.transaction))}),t&&a.addEventListener("blocked",()=>t()),o.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),o}const _p=["get","getKey","getAll","getAllKeys","count"],kp=["put","add","delete","clear"],v0=new Map;function Cu(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(v0.get(e))return v0.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=kp.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||_p.includes(t)))return;const i=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),s&&l.done]))[0]};return v0.set(e,i),i}vp(r=>({...r,get:(e,t,n)=>Cu(e,t)||r.get(e,t,n),has:(e,t)=>!!Cu(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Tp(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Tp(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y0="@firebase/app",Du="0.7.33";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new zo("@firebase/app"),xp="@firebase/app-compat",Ep="@firebase/analytics-compat",Ip="@firebase/analytics",Ap="@firebase/app-check-compat",Mp="@firebase/app-check",Cp="@firebase/auth",Dp="@firebase/auth-compat",Np="@firebase/database",Rp="@firebase/database-compat",Op="@firebase/functions",$p="@firebase/functions-compat",Lp="@firebase/installations",zp="@firebase/installations-compat",Pp="@firebase/messaging",Bp="@firebase/messaging-compat",Fp="@firebase/performance",qp="@firebase/performance-compat",Up="@firebase/remote-config",Vp="@firebase/remote-config-compat",Hp="@firebase/storage",jp="@firebase/storage-compat",Gp="@firebase/firestore",Wp="@firebase/firestore-compat",Kp="firebase",Yp="9.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="[DEFAULT]",Xp={[Y0]:"fire-core",[xp]:"fire-core-compat",[Ip]:"fire-analytics",[Ep]:"fire-analytics-compat",[Mp]:"fire-app-check",[Ap]:"fire-app-check-compat",[Cp]:"fire-auth",[Dp]:"fire-auth-compat",[Np]:"fire-rtdb",[Rp]:"fire-rtdb-compat",[Op]:"fire-fn",[$p]:"fire-fn-compat",[Lp]:"fire-iid",[zp]:"fire-iid-compat",[Pp]:"fire-fcm",[Bp]:"fire-fcm-compat",[Fp]:"fire-perf",[qp]:"fire-perf-compat",[Up]:"fire-rc",[Vp]:"fire-rc-compat",[Hp]:"fire-gcs",[jp]:"fire-gcs-compat",[Gp]:"fire-fst",[Wp]:"fire-fst-compat","fire-js":"fire-js",[Kp]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Map,X0=new Map;function Qp(r,e){try{r.container.addComponent(e)}catch(t){rn.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function On(r){const e=r.name;if(X0.has(e))return rn.debug(`There were multiple attempts to register component ${e}.`),!1;X0.set(e,r);for(const t of Wi.values())Qp(t,r);return!0}function Bo(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},nn=new Ps("app","Firebase",Jp);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=Yp;function e2(r,e={}){typeof e!="object"&&(e={name:e});const t=Object.assign({name:b1,automaticDataCollectionEnabled:!1},e),n=t.name;if(typeof n!="string"||!n)throw nn.create("bad-app-name",{appName:String(n)});const s=Wi.get(n);if(s){if(Gi(r,s.options)&&Gi(t,s.config))return s;throw nn.create("duplicate-app",{appName:n})}const i=new op(n);for(const o of X0.values())i.addComponent(o);const a=new Zp(r,t,i);return Wi.set(n,a),a}function _1(r=b1){const e=Wi.get(r);if(!e)throw nn.create("no-app",{appName:r});return e}function Cr(r,e,t){var n;let s=(n=Xp[r])!==null&&n!==void 0?n:r;t&&(s+=`-${t}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rn.warn(o.join(" "));return}On(new tn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebase-heartbeat-database",r2=1,ys="firebase-heartbeat-store";let y0=null;function k1(){return y0||(y0=bp(t2,r2,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ys)}}}).catch(r=>{throw nn.create("idb-open",{originalErrorMessage:r.message})})),y0}async function n2(r){var e;try{return(await k1()).transaction(ys).objectStore(ys).get(S1(r))}catch(t){if(t instanceof vr)rn.warn(t.message);else{const n=nn.create("idb-get",{originalErrorMessage:(e=t)===null||e===void 0?void 0:e.message});rn.warn(n.message)}}}async function Nu(r,e){var t;try{const s=(await k1()).transaction(ys,"readwrite");return await s.objectStore(ys).put(e,S1(r)),s.done}catch(n){if(n instanceof vr)rn.warn(n.message);else{const s=nn.create("idb-set",{originalErrorMessage:(t=n)===null||t===void 0?void 0:t.message});rn.warn(s.message)}}}function S1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1024,i2=30*24*60*60*1e3;class a2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new l2(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Ru();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(s=>s.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=i2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ru(),{heartbeatsToSend:t,unsentEntries:n}=o2(this._heartbeatsCache.heartbeats),s=v1(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ru(){return new Date().toISOString().substring(0,10)}function o2(r,e=s2){const t=[];let n=r.slice();for(const s of r){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Ou(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ou(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class l2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y4()?X4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await n2(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Nu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Nu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ou(r){return v1(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){On(new tn("platform-logger",e=>new Sp(e),"PRIVATE")),On(new tn("heartbeat",e=>new a2(e),"PRIVATE")),Cr(Y0,Du,r),Cr(Y0,Du,"esm2017"),Cr("fire-js","")}u2("");var c2="firebase",h2="9.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(c2,h2,"app");function $u(r){if(!r)throw Error("Parameter args is required");if(!r.component==!r.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(r.component&&(r.asyncComponent=()=>Promise.resolve(r.component)),typeof r.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(r.conditions){Array.isArray(r.conditions)||(r.conditions=[r.conditions]);for(let t=0;t<r.conditions.length;t++)if(!r.conditions[t]||typeof r.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return r.loadingComponent&&(r.asyncComponent.loading=r.loadingComponent,r.asyncComponent.loadingParams=r.loadingParams||void 0),{component:r.asyncComponent,userData:r.userData,conditions:r.conditions&&r.conditions.length?r.conditions:void 0,props:r.props&&Object.keys(r.props).length?r.props:{},_sveltesparouter:!0}}const bn=[];function T1(r,e){return{subscribe:x1(r,e).subscribe}}function x1(r,e=ve){let t;const n=new Set;function s(o){if(Se(r,o)&&(r=o,t)){const l=!bn.length;for(const u of n)u[1](),bn.push(u,r);if(l){for(let u=0;u<bn.length;u+=2)bn[u][0](bn[u+1]);bn.length=0}}}function i(o){s(o(r))}function a(o,l=ve){const u=[o,l];return n.add(u),n.size===1&&(t=e(s)||ve),o(r),()=>{n.delete(u),n.size===0&&(t(),t=null)}}return{set:s,update:i,subscribe:a}}function E1(r,e,t){const n=!Array.isArray(r),s=n?[r]:r,i=e.length<2;return T1(t,a=>{let o=!1;const l=[];let u=0,h=ve;const d=()=>{if(u)return;h();const v=e(n?l[0]:l,a);i?a(v):h=un(v)?v:ve},g=s.map((v,w)=>a1(v,k=>{l[w]=k,u&=~(1<<w),o&&d()},()=>{u|=1<<w}));return o=!0,d(),function(){gr(g),h()}})}function f2(r,e){if(r instanceof RegExp)return{keys:!1,pattern:r};var t,n,s,i,a=[],o="",l=r.split("/");for(l[0]||l.shift();s=l.shift();)t=s[0],t==="*"?(a.push("wild"),o+="/(.*)"):t===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~n?n:~i?i:s.length)),o+=!!~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+s.substring(i))):o+="/"+s;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function d2(r){let e,t,n;const s=[r[2]];var i=r[0];function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a()),e.$on("routeEvent",r[7])),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&4?me(s,[ge(o[2])]):{};if(i!==(i=o[0])){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),e.$on("routeEvent",o[7]),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function m2(r){let e,t,n;const s=[{params:r[1]},r[2]];var i=r[0];function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a()),e.$on("routeEvent",r[6])),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&6?me(s,[l&2&&{params:o[1]},l&4&&ge(o[2])]):{};if(i!==(i=o[0])){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),e.$on("routeEvent",o[6]),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function p2(r){let e,t,n,s;const i=[m2,d2],a=[];function o(l,u){return l[1]?0:1}return e=o(r),t=a[e]=i[e](r),{c(){t.c(),n=Ne()},m(l,u){a[e].m(l,u),A(l,n,u),s=!0},p(l,[u]){let h=e;e=o(l),e===h?a[e].p(l,u):(Ae(),D(a[h],1,1,()=>{a[h]=null}),Me(),t=a[e],t?t.p(l,u):(t=a[e]=i[e](l),t.c()),M(t,1),t.m(n.parentNode,n))},i(l){s||(M(t),s=!0)},o(l){D(t),s=!1},d(l){a[e].d(l),l&&I(n)}}}function Lu(){const r=window.location.href.indexOf("#/");let e=r>-1?window.location.href.substr(r+1):"/";const t=e.indexOf("?");let n="";return t>-1&&(n=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:n}}const Fo=T1(null,function(e){e(Lu());const t=()=>{e(Lu())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}),g2=E1(Fo,r=>r.location);E1(Fo,r=>r.querystring);const zu=x1(void 0);async function $n(r){if(!r||r.length<1||r.charAt(0)!="/"&&r.indexOf("#/")!==0)throw Error("Invalid parameter location");await m1();const e=(r.charAt(0)=="#"?"":"#")+r;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function v2(r,e){if(e=Bu(e),!r||!r.tagName||r.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Pu(r,e),{update(t){t=Bu(t),Pu(r,t)}}}function y2(r){r?window.scrollTo(r.__svelte_spa_router_scrollX,r.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Pu(r,e){let t=e.href||r.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);r.setAttribute("href",t),r.addEventListener("click",n=>{n.preventDefault(),e.disabled||w2(n.currentTarget.getAttribute("href"))})}function Bu(r){return r&&typeof r=="string"?{href:r}:r||{}}function w2(r){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=r}function b2(r,e,t){let{routes:n={}}=e,{prefix:s=""}=e,{restoreScrollState:i=!1}=e;class a{constructor(z,P){if(!P||typeof P!="function"&&(typeof P!="object"||P._sveltesparouter!==!0))throw Error("Invalid component object");if(!z||typeof z=="string"&&(z.length<1||z.charAt(0)!="/"&&z.charAt(0)!="*")||typeof z=="object"&&!(z instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:Y,keys:ee}=f2(z);this.path=z,typeof P=="object"&&P._sveltesparouter===!0?(this.component=P.component,this.conditions=P.conditions||[],this.userData=P.userData,this.props=P.props||{}):(this.component=()=>Promise.resolve(P),this.conditions=[],this.props={}),this._pattern=Y,this._keys=ee}match(z){if(s){if(typeof s=="string")if(z.startsWith(s))z=z.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const ie=z.match(s);if(ie&&ie[0])z=z.substr(ie[0].length)||"/";else return null}}const P=this._pattern.exec(z);if(P===null)return null;if(this._keys===!1)return P;const Y={};let ee=0;for(;ee<this._keys.length;){try{Y[this._keys[ee]]=decodeURIComponent(P[ee+1]||"")||null}catch{Y[this._keys[ee]]=null}ee++}return Y}async checkConditions(z){for(let P=0;P<this.conditions.length;P++)if(!await this.conditions[P](z))return!1;return!0}}const o=[];n instanceof Map?n.forEach((q,z)=>{o.push(new a(z,q))}):Object.keys(n).forEach(q=>{o.push(new a(q,n[q]))});let l=null,u=null,h={};const d=$4();async function g(q,z){await m1(),d(q,z)}let v=null,w=null;i&&(w=q=>{q.state&&(q.state.__svelte_spa_router_scrollY||q.state.__svelte_spa_router_scrollX)?v=q.state:v=null},window.addEventListener("popstate",w),R4(()=>{y2(v)}));let k=null,T=null;const x=Fo.subscribe(async q=>{k=q;let z=0;for(;z<o.length;){const P=o[z].match(q.location);if(!P){z++;continue}const Y={route:o[z].path,location:q.location,querystring:q.querystring,userData:o[z].userData,params:P&&typeof P=="object"&&Object.keys(P).length?P:null};if(!await o[z].checkConditions(Y)){t(0,l=null),T=null,g("conditionsFailed",Y);return}g("routeLoading",Object.assign({},Y));const ee=o[z].component;if(T!=ee){ee.loading?(t(0,l=ee.loading),T=ee,t(1,u=ee.loadingParams),t(2,h={}),g("routeLoaded",Object.assign({},Y,{component:l,name:l.name,params:u}))):(t(0,l=null),T=null);const ie=await ee();if(q!=k)return;t(0,l=ie&&ie.default||ie),T=ee}P&&typeof P=="object"&&Object.keys(P).length?t(1,u=P):t(1,u=null),t(2,h=o[z].props),g("routeLoaded",Object.assign({},Y,{component:l,name:l.name,params:u})).then(()=>{zu.set(u)});return}t(0,l=null),T=null,zu.set(void 0)});O4(()=>{x(),w&&window.removeEventListener("popstate",w)});function O(q){xu.call(this,r,q)}function U(q){xu.call(this,r,q)}return r.$$set=q=>{"routes"in q&&t(3,n=q.routes),"prefix"in q&&t(4,s=q.prefix),"restoreScrollState"in q&&t(5,i=q.restoreScrollState)},r.$$.update=()=>{r.$$.dirty&32&&(history.scrollRestoration=i?"manual":"auto")},[l,u,h,n,s,i,O,U]}class _2 extends Ee{constructor(e){super(),xe(this,e,b2,p2,Se,{routes:3,prefix:4,restoreScrollState:5})}}var k2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,qo=qo||{},oe=k2||self;function Ki(){}function ka(r){var e=typeof r;return e=e!="object"?e:r?Array.isArray(r)?"array":e:"null",e=="array"||e=="object"&&typeof r.length=="number"}function qs(r){var e=typeof r;return e=="object"&&r!=null||e=="function"}function S2(r){return Object.prototype.hasOwnProperty.call(r,w0)&&r[w0]||(r[w0]=++T2)}var w0="closure_uid_"+(1e9*Math.random()>>>0),T2=0;function x2(r,e,t){return r.call.apply(r.bind,arguments)}function E2(r,e,t){if(!r)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,n),r.apply(e,s)}}return function(){return r.apply(e,arguments)}}function lt(r,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?lt=x2:lt=E2,lt.apply(null,arguments)}function mi(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),r.apply(this,n)}}function at(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(n,s,i){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return e.prototype[s].apply(n,a)}}function Br(){this.s=this.s,this.o=this.o}var I2=0;Br.prototype.s=!1;Br.prototype.na=function(){!this.s&&(this.s=!0,this.M(),I2!=0)&&S2(this)};Br.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const I1=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if(typeof r=="string")return typeof e!="string"||e.length!=1?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Uo(r){const e=r.length;if(0<e){const t=Array(e);for(let n=0;n<e;n++)t[n]=r[n];return t}return[]}function Fu(r,e){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(ka(n)){const s=r.length||0,i=n.length||0;r.length=s+i;for(let a=0;a<i;a++)r[s+a]=n[a]}else r.push(n)}}function ut(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var A2=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{oe.addEventListener("test",Ki,e),oe.removeEventListener("test",Ki,e)}catch{}return r}();function Yi(r){return/^[\s\xa0]*$/.test(r)}var qu=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function b0(r,e){return r<e?-1:r>e?1:0}function Sa(){var r=oe.navigator;return r&&(r=r.userAgent)?r:""}function qt(r){return Sa().indexOf(r)!=-1}function Vo(r){return Vo[" "](r),r}Vo[" "]=Ki;function M2(r){var e=N2;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}var C2=qt("Opera"),Ln=qt("Trident")||qt("MSIE"),A1=qt("Edge"),Q0=A1||Ln,M1=qt("Gecko")&&!(Sa().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge"))&&!(qt("Trident")||qt("MSIE"))&&!qt("Edge"),D2=Sa().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge");function C1(){var r=oe.document;return r?r.documentMode:void 0}var Xi;e:{var _0="",k0=function(){var r=Sa();if(M1)return/rv:([^\);]+)(\)|;)/.exec(r);if(A1)return/Edge\/([\d\.]+)/.exec(r);if(Ln)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(D2)return/WebKit\/(\S+)/.exec(r);if(C2)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(k0&&(_0=k0?k0[1]:""),Ln){var S0=C1();if(S0!=null&&S0>parseFloat(_0)){Xi=String(S0);break e}}Xi=_0}var N2={};function R2(){return M2(function(){let r=0;const e=qu(String(Xi)).split("."),t=qu("9").split("."),n=Math.max(e.length,t.length);for(let a=0;r==0&&a<n;a++){var s=e[a]||"",i=t[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s[0].length==0&&i[0].length==0)break;r=b0(s[1].length==0?0:parseInt(s[1],10),i[1].length==0?0:parseInt(i[1],10))||b0(s[2].length==0,i[2].length==0)||b0(s[2],i[2]),s=s[3],i=i[3]}while(r==0)}return 0<=r})}var J0;if(oe.document&&Ln){var Uu=C1();J0=Uu||parseInt(Xi,10)||void 0}else J0=void 0;var O2=J0;function ws(r,e){if(ut.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,n=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(M1){e:{try{Vo(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else t=="mouseover"?e=r.fromElement:t=="mouseout"&&(e=r.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:$2[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&ws.X.h.call(this)}}at(ws,ut);var $2={2:"touch",3:"pen",4:"mouse"};ws.prototype.h=function(){ws.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Us="closure_listenable_"+(1e6*Math.random()|0),L2=0;function z2(r,e,t,n,s){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!n,this.ha=s,this.key=++L2,this.ba=this.ea=!1}function Ta(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function Ho(r,e,t){for(const n in r)e.call(t,r[n],n,r)}function D1(r){const e={};for(const t in r)e[t]=r[t];return e}const Vu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N1(r,e){let t,n;for(let s=1;s<arguments.length;s++){n=arguments[s];for(t in n)r[t]=n[t];for(let i=0;i<Vu.length;i++)t=Vu[i],Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}}function xa(r){this.src=r,this.g={},this.h=0}xa.prototype.add=function(r,e,t,n,s){var i=r.toString();r=this.g[i],r||(r=this.g[i]=[],this.h++);var a=eo(r,e,n,s);return-1<a?(e=r[a],t||(e.ea=!1)):(e=new z2(e,this.src,i,!!n,s),e.ea=t,r.push(e)),e};function Z0(r,e){var t=e.type;if(t in r.g){var n=r.g[t],s=I1(n,e),i;(i=0<=s)&&Array.prototype.splice.call(n,s,1),i&&(Ta(e),r.g[t].length==0&&(delete r.g[t],r.h--))}}function eo(r,e,t,n){for(var s=0;s<r.length;++s){var i=r[s];if(!i.ba&&i.listener==e&&i.capture==!!t&&i.ha==n)return s}return-1}var jo="closure_lm_"+(1e6*Math.random()|0),T0={};function R1(r,e,t,n,s){if(n&&n.once)return $1(r,e,t,n,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)R1(r,e[i],t,n,s);return null}return t=Ko(t),r&&r[Us]?r.N(e,t,qs(n)?!!n.capture:!!n,s):O1(r,e,t,!1,n,s)}function O1(r,e,t,n,s,i){if(!e)throw Error("Invalid event type");var a=qs(s)?!!s.capture:!!s,o=Wo(r);if(o||(r[jo]=o=new xa(r)),t=o.add(e,t,n,a,i),t.proxy)return t;if(n=P2(),t.proxy=n,n.src=r,n.listener=t,r.addEventListener)A2||(s=a),s===void 0&&(s=!1),r.addEventListener(e.toString(),n,s);else if(r.attachEvent)r.attachEvent(z1(e.toString()),n);else if(r.addListener&&r.removeListener)r.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return t}function P2(){function r(t){return e.call(r.src,r.listener,t)}const e=B2;return r}function $1(r,e,t,n,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)$1(r,e[i],t,n,s);return null}return t=Ko(t),r&&r[Us]?r.O(e,t,qs(n)?!!n.capture:!!n,s):O1(r,e,t,!0,n,s)}function L1(r,e,t,n,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)L1(r,e[i],t,n,s);else n=qs(n)?!!n.capture:!!n,t=Ko(t),r&&r[Us]?(r=r.i,e=String(e).toString(),e in r.g&&(i=r.g[e],t=eo(i,t,n,s),-1<t&&(Ta(i[t]),Array.prototype.splice.call(i,t,1),i.length==0&&(delete r.g[e],r.h--)))):r&&(r=Wo(r))&&(e=r.g[e.toString()],r=-1,e&&(r=eo(e,t,n,s)),(t=-1<r?e[r]:null)&&Go(t))}function Go(r){if(typeof r!="number"&&r&&!r.ba){var e=r.src;if(e&&e[Us])Z0(e.i,r);else{var t=r.type,n=r.proxy;e.removeEventListener?e.removeEventListener(t,n,r.capture):e.detachEvent?e.detachEvent(z1(t),n):e.addListener&&e.removeListener&&e.removeListener(n),(t=Wo(e))?(Z0(t,r),t.h==0&&(t.src=null,e[jo]=null)):Ta(r)}}}function z1(r){return r in T0?T0[r]:T0[r]="on"+r}function B2(r,e){if(r.ba)r=!0;else{e=new ws(e,this);var t=r.listener,n=r.ha||r.src;r.ea&&Go(r),r=t.call(n,e)}return r}function Wo(r){return r=r[jo],r instanceof xa?r:null}var x0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(r){return typeof r=="function"?r:(r[x0]||(r[x0]=function(e){return r.handleEvent(e)}),r[x0])}function et(){Br.call(this),this.i=new xa(this),this.P=this,this.I=null}at(et,Br);et.prototype[Us]=!0;et.prototype.removeEventListener=function(r,e,t,n){L1(this,r,e,t,n)};function st(r,e){var t,n=r.I;if(n)for(t=[];n;n=n.I)t.push(n);if(r=r.P,n=e.type||e,typeof e=="string")e=new ut(e,r);else if(e instanceof ut)e.target=e.target||r;else{var s=e;e=new ut(n,r),N1(e,s)}if(s=!0,t)for(var i=t.length-1;0<=i;i--){var a=e.g=t[i];s=pi(a,n,!0,e)&&s}if(a=e.g=r,s=pi(a,n,!0,e)&&s,s=pi(a,n,!1,e)&&s,t)for(i=0;i<t.length;i++)a=e.g=t[i],s=pi(a,n,!1,e)&&s}et.prototype.M=function(){if(et.X.M.call(this),this.i){var r=this.i,e;for(e in r.g){for(var t=r.g[e],n=0;n<t.length;n++)Ta(t[n]);delete r.g[e],r.h--}}this.I=null};et.prototype.N=function(r,e,t,n){return this.i.add(String(r),e,!1,t,n)};et.prototype.O=function(r,e,t,n){return this.i.add(String(r),e,!0,t,n)};function pi(r,e,t,n){if(e=r.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.ba&&a.capture==t){var o=a.listener,l=a.ha||a.src;a.ea&&Z0(r.i,a),s=o.call(l,n)!==!1&&s}}return s&&!n.defaultPrevented}var Yo=oe.JSON.stringify;function F2(){var r=F1;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}class q2{constructor(){this.h=this.g=null}add(e,t){const n=P1.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var P1=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new U2,r=>r.reset());class U2{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function V2(r){oe.setTimeout(()=>{throw r},0)}function B1(r,e){to||H2(),ro||(to(),ro=!0),F1.add(r,e)}var to;function H2(){var r=oe.Promise.resolve(void 0);to=function(){r.then(j2)}}var ro=!1,F1=new q2;function j2(){for(var r;r=F2();){try{r.h.call(r.g)}catch(t){V2(t)}var e=P1;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ro=!1}function Ea(r,e){et.call(this),this.h=r||1,this.g=e||oe,this.j=lt(this.kb,this),this.l=Date.now()}at(Ea,et);X=Ea.prototype;X.ca=!1;X.R=null;X.kb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),st(this,"tick"),this.ca&&(Xo(this),this.start()))}};X.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xo(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}X.M=function(){Ea.X.M.call(this),Xo(this),delete this.g};function Qo(r,e,t){if(typeof r=="function")t&&(r=lt(r,t));else if(r&&typeof r.handleEvent=="function")r=lt(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(r,e||0)}function q1(r){r.g=Qo(()=>{r.g=null,r.i&&(r.i=!1,q1(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}class G2 extends Br{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:q1(this)}M(){super.M(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(r){Br.call(this),this.h=r,this.g={}}at(bs,Br);var Hu=[];function U1(r,e,t,n){Array.isArray(t)||(t&&(Hu[0]=t.toString()),t=Hu);for(var s=0;s<t.length;s++){var i=R1(e,t[s],n||r.handleEvent,!1,r.h||r);if(!i)break;r.g[i.key]=i}}function V1(r){Ho(r.g,function(e,t){this.g.hasOwnProperty(t)&&Go(e)},r),r.g={}}bs.prototype.M=function(){bs.X.M.call(this),V1(this)};bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ia(){this.g=!0}Ia.prototype.Aa=function(){this.g=!1};function W2(r,e,t,n,s,i){r.info(function(){if(r.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var h=u[0];u=u[1];var d=h.split("_");a=2<=d.length&&d[1]=="type"?a+(h+"="+u+"&"):a+(h+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+n+") [attempt "+s+"]: "+e+`
`+t+`
`+a})}function K2(r,e,t,n,s,i,a){r.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+s+"]: "+e+`
`+t+`
`+i+" "+a})}function Sn(r,e,t,n){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+X2(r,t)+(n?" "+n:"")})}function Y2(r,e){r.info(function(){return"TIMEOUT: "+e})}Ia.prototype.info=function(){};function X2(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var n=t[r];if(!(2>n.length)){var s=n[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Yo(t)}catch{return e}}var cn={},ju=null;function Aa(){return ju=ju||new et}cn.Oa="serverreachability";function H1(r){ut.call(this,cn.Oa,r)}at(H1,ut);function _s(r){const e=Aa();st(e,new H1(e))}cn.STAT_EVENT="statevent";function j1(r,e){ut.call(this,cn.STAT_EVENT,r),this.stat=e}at(j1,ut);function ft(r){const e=Aa();st(e,new j1(e,r))}cn.Pa="timingevent";function G1(r,e){ut.call(this,cn.Pa,r),this.size=e}at(G1,ut);function Vs(r,e){if(typeof r!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){r()},e)}var Ma={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},W1={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Jo(){}Jo.prototype.h=null;function Gu(r){return r.h||(r.h=r.i())}function K1(){}var Hs={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Zo(){ut.call(this,"d")}at(Zo,ut);function el(){ut.call(this,"c")}at(el,ut);var no;function Ca(){}at(Ca,Jo);Ca.prototype.g=function(){return new XMLHttpRequest};Ca.prototype.i=function(){return{}};no=new Ca;function js(r,e,t,n){this.l=r,this.j=e,this.m=t,this.U=n||1,this.S=new bs(this),this.O=Q2,r=Q0?125:void 0,this.T=new Ea(r),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Y1}function Y1(){this.i=null,this.g="",this.h=!1}var Q2=45e3,so={},Qi={};X=js.prototype;X.setTimeout=function(r){this.O=r};function io(r,e,t){r.K=1,r.v=Na(lr(e)),r.s=t,r.P=!0,X1(r,null)}function X1(r,e){r.F=Date.now(),Gs(r),r.A=lr(r.v);var t=r.A,n=r.U;Array.isArray(n)||(n=[String(n)]),sf(t.i,"t",n),r.C=0,t=r.l.H,r.h=new Y1,r.g=Ef(r.l,t?e:null,!r.s),0<r.N&&(r.L=new G2(lt(r.Ka,r,r.g),r.N)),U1(r.S,r.g,"readystatechange",r.hb),e=r.H?D1(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),_s(),W2(r.j,r.u,r.A,r.m,r.U,r.s)}X.hb=function(r){r=r.target;const e=this.L;e&&rr(r)==3?e.l():this.Ka(r)};X.Ka=function(r){try{if(r==this.g)e:{const h=rr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>h)&&(h!=3||Q0||this.g&&(this.h.h||this.g.fa()||Xu(this.g)))){this.I||h!=4||e==7||(e==8||0>=d?_s(3):_s(2)),Da(this);var t=this.g.aa();this.Y=t;t:if(Q1(this)){var n=Xu(this.g);r="";var s=n.length,i=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),ls(this);var a="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,r+=this.h.i.decode(n[e],{stream:i&&e==s-1});n.splice(0,s),this.h.g+=r,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=t==200,K2(this.j,this.u,this.A,this.m,this.U,h,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yi(o)){var u=o;break t}}u=null}if(t=u)Sn(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ao(this,t);else{this.i=!1,this.o=3,ft(12),Wr(this),ls(this);break e}}this.P?(J1(this,h,a),Q0&&this.i&&h==3&&(U1(this.S,this.T,"tick",this.gb),this.T.start())):(Sn(this.j,this.m,a,null),ao(this,a)),h==4&&Wr(this),this.i&&!this.I&&(h==4?kf(this.l,this):(this.i=!1,Gs(this)))}else t==400&&0<a.indexOf("Unknown SID")?(this.o=3,ft(12)):(this.o=0,ft(13)),Wr(this),ls(this)}}}catch{}finally{}};function Q1(r){return r.g?r.u=="GET"&&r.K!=2&&r.l.Da:!1}function J1(r,e,t){let n=!0,s;for(;!r.I&&r.C<t.length;)if(s=J2(r,t),s==Qi){e==4&&(r.o=4,ft(14),n=!1),Sn(r.j,r.m,null,"[Incomplete Response]");break}else if(s==so){r.o=4,ft(15),Sn(r.j,r.m,t,"[Invalid Chunk]"),n=!1;break}else Sn(r.j,r.m,s,null),ao(r,s);Q1(r)&&s!=Qi&&s!=so&&(r.h.g="",r.C=0),e!=4||t.length!=0||r.h.h||(r.o=1,ft(16),n=!1),r.i=r.i&&n,n?0<t.length&&!r.$&&(r.$=!0,e=r.l,e.g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ol(e),e.K=!0,ft(11))):(Sn(r.j,r.m,t,"[Invalid Chunked Response]"),Wr(r),ls(r))}X.gb=function(){if(this.g){var r=rr(this.g),e=this.g.fa();this.C<e.length&&(Da(this),J1(this,r,e),this.i&&r!=4&&Gs(this))}};function J2(r,e){var t=r.C,n=e.indexOf(`
`,t);return n==-1?Qi:(t=Number(e.substring(t,n)),isNaN(t)?so:(n+=1,n+t>e.length?Qi:(e=e.substr(n,t),r.C=n+t,e)))}X.cancel=function(){this.I=!0,Wr(this)};function Gs(r){r.V=Date.now()+r.O,Z1(r,r.O)}function Z1(r,e){if(r.B!=null)throw Error("WatchDog timer not null");r.B=Vs(lt(r.fb,r),e)}function Da(r){r.B&&(oe.clearTimeout(r.B),r.B=null)}X.fb=function(){this.B=null;const r=Date.now();0<=r-this.V?(Y2(this.j,this.A),this.K!=2&&(_s(),ft(17)),Wr(this),this.o=2,ls(this)):Z1(this,this.V-r)};function ls(r){r.l.G==0||r.I||kf(r.l,r)}function Wr(r){Da(r);var e=r.L;e&&typeof e.na=="function"&&e.na(),r.L=null,Xo(r.T),V1(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function ao(r,e){try{var t=r.l;if(t.G!=0&&(t.g==r||oo(t.h,r))){if(!r.J&&oo(t.h,r)&&t.G==3){try{var n=t.Fa.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var s=n;if(s[0]==0){e:if(!t.u){if(t.g)if(t.g.F+3e3<r.F)ea(t),$a(t);else break e;al(t),ft(18)}}else t.Ba=s[1],0<t.Ba-t.T&&37500>s[2]&&t.L&&t.A==0&&!t.v&&(t.v=Vs(lt(t.bb,t),6e3));if(1>=lf(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Kr(t,11)}else if((r.J||t.g==r)&&ea(t),!Yi(e))for(s=t.Fa.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(t.T=u[0],u=u[1],t.G==2)if(u[0]=="c"){t.I=u[1],t.ka=u[2];const h=u[3];h!=null&&(t.ma=h,t.j.info("VER="+t.ma));const d=u[4];d!=null&&(t.Ca=d,t.j.info("SVER="+t.Ca));const g=u[5];g!=null&&typeof g=="number"&&0<g&&(n=1.5*g,t.J=n,t.j.info("backChannelRequestTimeoutMs_="+n)),n=t;const v=r.g;if(v){const w=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var i=n.h;i.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(tl(i,i.h),i.h=null))}if(n.D){const k=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(n.za=k,Oe(n.F,n.D,k))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms")),n=t;var a=r;if(n.sa=xf(n,n.H?n.ka:null,n.V),a.J){uf(n.h,a);var o=a,l=n.J;l&&o.setTimeout(l),o.B&&(Da(o),Gs(o)),n.g=a}else bf(n);0<t.i.length&&La(t)}else u[0]!="stop"&&u[0]!="close"||Kr(t,7);else t.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Kr(t,7):il(t):u[0]!="noop"&&t.l&&t.l.wa(u),t.A=0)}}_s(4)}catch{}}function Z2(r){if(r.W&&typeof r.W=="function")return r.W();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if(typeof r=="string")return r.split("");if(ka(r)){for(var e=[],t=r.length,n=0;n<t;n++)e.push(r[n]);return e}e=[],t=0;for(n in r)e[t++]=r[n];return e}function eg(r){if(r.oa&&typeof r.oa=="function")return r.oa();if(!r.W||typeof r.W!="function"){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ka(r)||typeof r=="string"){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const n in r)e[t++]=n;return e}}}function ef(r,e){if(r.forEach&&typeof r.forEach=="function")r.forEach(e,void 0);else if(ka(r)||typeof r=="string")Array.prototype.forEach.call(r,e,void 0);else for(var t=eg(r),n=Z2(r),s=n.length,i=0;i<s;i++)e.call(void 0,n[i],t&&t[i],r)}var tf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tg(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var n=r[t].indexOf("="),s=null;if(0<=n){var i=r[t].substring(0,n);s=r[t].substring(n+1)}else i=r[t];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Jr(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Jr){this.h=e!==void 0?e:r.h,Ji(this,r.j),this.s=r.s,this.g=r.g,Zi(this,r.m),this.l=r.l,e=r.i;var t=new ks;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Wu(this,t),this.o=r.o}else r&&(t=String(r).match(tf))?(this.h=!!e,Ji(this,t[1]||"",!0),this.s=ns(t[2]||""),this.g=ns(t[3]||"",!0),Zi(this,t[4]),this.l=ns(t[5]||"",!0),Wu(this,t[6]||"",!0),this.o=ns(t[7]||"")):(this.h=!!e,this.i=new ks(null,this.h))}Jr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ss(e,Ku,!0),":");var t=this.g;return(t||e=="file")&&(r.push("//"),(e=this.s)&&r.push(ss(e,Ku,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&r.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&r.push("/"),r.push(ss(t,t.charAt(0)=="/"?sg:ng,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ss(t,ag)),r.join("")};function lr(r){return new Jr(r)}function Ji(r,e,t){r.j=t?ns(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Zi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Wu(r,e,t){e instanceof ks?(r.i=e,og(r.i,r.h)):(t||(e=ss(e,ig)),r.i=new ks(e,r.h))}function Oe(r,e,t){r.i.set(e,t)}function Na(r){return Oe(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function ns(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ss(r,e,t){return typeof r=="string"?(r=encodeURI(r).replace(e,rg),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function rg(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Ku=/[#\/\?@]/g,ng=/[#\?:]/g,sg=/[#\?]/g,ig=/[#\?@]/g,ag=/#/g;function ks(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Fr(r){r.g||(r.g=new Map,r.h=0,r.i&&tg(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}X=ks.prototype;X.add=function(r,e){Fr(this),this.i=null,r=jn(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this};function rf(r,e){Fr(r),e=jn(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function nf(r,e){return Fr(r),e=jn(r,e),r.g.has(e)}X.forEach=function(r,e){Fr(this),this.g.forEach(function(t,n){t.forEach(function(s){r.call(e,s,n,this)},this)},this)};X.oa=function(){Fr(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let n=0;n<e.length;n++){const s=r[n];for(let i=0;i<s.length;i++)t.push(e[n])}return t};X.W=function(r){Fr(this);let e=[];if(typeof r=="string")nf(this,r)&&(e=e.concat(this.g.get(jn(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e};X.set=function(r,e){return Fr(this),this.i=null,r=jn(this,r),nf(this,r)&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this};X.get=function(r,e){return r?(r=this.W(r),0<r.length?String(r[0]):e):e};function sf(r,e,t){rf(r,e),0<t.length&&(r.i=null,r.g.set(jn(r,e),Uo(t)),r.h+=t.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var n=e[t];const i=encodeURIComponent(String(n)),a=this.W(n);for(n=0;n<a.length;n++){var s=i;a[n]!==""&&(s+="="+encodeURIComponent(String(a[n]))),r.push(s)}}return this.i=r.join("&")};function jn(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function og(r,e){e&&!r.j&&(Fr(r),r.i=null,r.g.forEach(function(t,n){var s=n.toLowerCase();n!=s&&(rf(this,n),sf(this,s,t))},r)),r.j=e}var lg=class{constructor(r,e){this.h=r,this.g=e}};function af(r){this.l=r||ug,oe.PerformanceNavigationTiming?(r=oe.performance.getEntriesByType("navigation"),r=0<r.length&&(r[0].nextHopProtocol=="hq"||r[0].nextHopProtocol=="h2")):r=!!(oe.g&&oe.g.Ga&&oe.g.Ga()&&oe.g.Ga().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ug=10;function of(r){return r.h?!0:r.g?r.g.size>=r.j:!1}function lf(r){return r.h?1:r.g?r.g.size:0}function oo(r,e){return r.h?r.h==e:r.g?r.g.has(e):!1}function tl(r,e){r.g?r.g.add(e):r.h=e}function uf(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}af.prototype.cancel=function(){if(this.i=cf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const r of this.g.values())r.cancel();this.g.clear()}};function cf(r){if(r.h!=null)return r.i.concat(r.h.D);if(r.g!=null&&r.g.size!==0){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Uo(r.i)}function rl(){}rl.prototype.stringify=function(r){return oe.JSON.stringify(r,void 0)};rl.prototype.parse=function(r){return oe.JSON.parse(r,void 0)};function cg(){this.g=new rl}function hg(r,e,t){const n=t||"";try{ef(r,function(s,i){let a=s;qs(s)&&(a=Yo(s)),e.push(n+i+"="+encodeURIComponent(a))})}catch(s){throw e.push(n+"type="+encodeURIComponent("_badmap")),s}}function fg(r,e){const t=new Ia;if(oe.Image){const n=new Image;n.onload=mi(gi,t,n,"TestLoadImage: loaded",!0,e),n.onerror=mi(gi,t,n,"TestLoadImage: error",!1,e),n.onabort=mi(gi,t,n,"TestLoadImage: abort",!1,e),n.ontimeout=mi(gi,t,n,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=r}else e(!1)}function gi(r,e,t,n,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(n)}catch{}}function Ws(r){this.l=r.$b||null,this.j=r.ib||!1}at(Ws,Jo);Ws.prototype.g=function(){return new Ra(this.l,this.j)};Ws.prototype.i=function(r){return function(){return r}}({});function Ra(r,e){et.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=nl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}at(Ra,et);var nl=0;X=Ra.prototype;X.open=function(r,e){if(this.readyState!=nl)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ss(this)};X.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||oe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=nl};X.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")r.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hf(this)}else r.text().then(this.Ua.bind(this),this.ga.bind(this))};function hf(r){r.j.read().then(r.Sa.bind(r)).catch(r.ga.bind(r))}X.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Ks(this):Ss(this),this.readyState==3&&hf(this)}};X.Ua=function(r){this.g&&(this.response=this.responseText=r,Ks(this))};X.Ta=function(r){this.g&&(this.response=r,Ks(this))};X.ga=function(){this.g&&Ks(this)};function Ks(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ss(r)}X.setRequestHeader=function(r,e){this.v.append(r,e)};X.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,r.push(t[0]+": "+t[1]),t=e.next();return r.join(`\r
`)};function Ss(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(r){this.m=r?"include":"same-origin"}});var dg=oe.JSON.parse;function Ue(r){et.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ff,this.K=this.L=!1}at(Ue,et);var ff="",mg=/^https?$/i,pg=["POST","PUT"];X=Ue.prototype;X.da=function(r,e,t,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():no.g(),this.C=this.u?Gu(this.u):Gu(no),this.g.onreadystatechange=lt(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(i){Yu(this,i);return}if(r=t||"",t=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var s in n)t.set(s,n[s]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(const i of n.keys())t.set(i,n.get(i));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(t.keys()).find(i=>i.toLowerCase()=="content-type"),s=oe.FormData&&r instanceof oe.FormData,!(0<=I1(pg,e))||n||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of t)this.g.setRequestHeader(i,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pf(this),0<this.B&&((this.K=gg(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lt(this.qa,this)):this.A=Qo(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(i){Yu(this,i)}};function gg(r){return Ln&&R2()&&typeof r.timeout=="number"&&r.ontimeout!==void 0}X.qa=function(){typeof qo<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,st(this,"timeout"),this.abort(8))};function Yu(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,df(r),Oa(r)}function df(r){r.D||(r.D=!0,st(r,"complete"),st(r,"error"))}X.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,st(this,"complete"),st(this,"abort"),Oa(this))};X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oa(this,!0)),Ue.X.M.call(this)};X.Ha=function(){this.s||(this.F||this.v||this.l?mf(this):this.eb())};X.eb=function(){mf(this)};function mf(r){if(r.h&&typeof qo<"u"&&(!r.C[1]||rr(r)!=4||r.aa()!=2)){if(r.v&&rr(r)==4)Qo(r.Ha,0,r);else if(st(r,"readystatechange"),rr(r)==4){r.h=!1;try{const o=r.aa();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var n;if(n=o===0){var s=String(r.H).match(tf)[1]||null;if(!s&&oe.self&&oe.self.location){var i=oe.self.location.protocol;s=i.substr(0,i.length-1)}n=!mg.test(s?s.toLowerCase():"")}t=n}if(t)st(r,"complete"),st(r,"success");else{r.m=6;try{var a=2<rr(r)?r.g.statusText:""}catch{a=""}r.j=a+" ["+r.aa()+"]",df(r)}}finally{Oa(r)}}}}function Oa(r,e){if(r.g){pf(r);const t=r.g,n=r.C[0]?Ki:null;r.g=null,r.C=null,e||st(r,"ready");try{t.onreadystatechange=n}catch{}}}function pf(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(oe.clearTimeout(r.A),r.A=null)}function rr(r){return r.g?r.g.readyState:0}X.aa=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}};X.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Ra=function(r){if(this.g){var e=this.g.responseText;return r&&e.indexOf(r)==0&&(e=e.substring(r.length)),dg(e)}};function Xu(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case ff:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}X.Ea=function(){return this.m};X.Na=function(){return typeof this.j=="string"?this.j:String(this.j)};function gf(r){let e="";return Ho(r,function(t,n){e+=n,e+=":",e+=t,e+=`\r
`}),e}function sl(r,e,t){e:{for(n in t){var n=!1;break e}n=!0}n||(t=gf(t),typeof r=="string"?t!=null&&encodeURIComponent(String(t)):Oe(r,e,t))}function ts(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function vf(r){this.Ca=0,this.i=[],this.j=new Ia,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=ts("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=ts("baseRetryDelayMs",5e3,r),this.ab=ts("retryDelaySeedMs",1e4,r),this.Za=ts("forwardChannelMaxRetries",2,r),this.ta=ts("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Yb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new af(r&&r.concurrentRequestLimit),this.Fa=new cg,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=r&&r.Wb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}X=vf.prototype;X.ma=8;X.G=1;function il(r){if(yf(r),r.G==3){var e=r.U++,t=lr(r.F);Oe(t,"SID",r.I),Oe(t,"RID",e),Oe(t,"TYPE","terminate"),Ys(r,t),e=new js(r,r.j,e,void 0),e.K=2,e.v=Na(lr(t)),t=!1,oe.navigator&&oe.navigator.sendBeacon&&(t=oe.navigator.sendBeacon(e.v.toString(),"")),!t&&oe.Image&&(new Image().src=e.v,t=!0),t||(e.g=Ef(e.l,null),e.g.da(e.v)),e.F=Date.now(),Gs(e)}Tf(r)}function $a(r){r.g&&(ol(r),r.g.cancel(),r.g=null)}function yf(r){$a(r),r.u&&(oe.clearTimeout(r.u),r.u=null),ea(r),r.h.cancel(),r.m&&(typeof r.m=="number"&&oe.clearTimeout(r.m),r.m=null)}function La(r){of(r.h)||r.m||(r.m=!0,B1(r.Ja,r),r.C=0)}function vg(r,e){return lf(r.h)>=r.h.j-(r.m?1:0)?!1:r.m?(r.i=e.D.concat(r.i),!0):r.G==1||r.G==2||r.C>=(r.Ya?0:r.Za)?!1:(r.m=Vs(lt(r.Ja,r,e),Sf(r,r.C)),r.C++,!0)}X.Ja=function(r){if(this.m)if(this.m=null,this.G==1){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const s=new js(this,this.j,r,void 0);let i=this.s;if(this.S&&(i?(i=D1(i),N1(i,this.S)):i=this.S),this.o!==null||this.N||(s.H=i,i=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){t:{var n=this.i[t];if("__data__"in n.g&&(n=n.g.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=t;break e}if(e===4096||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wf(this,s,e),t=lr(this.F),Oe(t,"RID",r),Oe(t,"CVER",22),this.D&&Oe(t,"X-HTTP-Session-Id",this.D),Ys(this,t),i&&(this.N?e="headers="+encodeURIComponent(String(gf(i)))+"&"+e:this.o&&sl(t,this.o,i)),tl(this.h,s),this.Xa&&Oe(t,"TYPE","init"),this.O?(Oe(t,"$req",e),Oe(t,"SID","null"),s.Z=!0,io(s,t,null)):io(s,t,e),this.G=2}}else this.G==3&&(r?Qu(this,r):this.i.length==0||of(this.h)||Qu(this))};function Qu(r,e){var t;e?t=e.m:t=r.U++;const n=lr(r.F);Oe(n,"SID",r.I),Oe(n,"RID",t),Oe(n,"AID",r.T),Ys(r,n),r.o&&r.s&&sl(n,r.o,r.s),t=new js(r,r.j,t,r.C+1),r.o===null&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=wf(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),tl(r.h,t),io(t,n,e)}function Ys(r,e){r.ia&&Ho(r.ia,function(t,n){Oe(e,n,t)}),r.l&&ef({},function(t,n){Oe(e,n,t)})}function wf(r,e,t){t=Math.min(r.i.length,t);var n=r.l?lt(r.l.Qa,r.l,r):null;e:{var s=r.i;let i=-1;for(;;){const a=["count="+t];i==-1?0<t?(i=s[0].h,a.push("ofs="+i)):i=0:a.push("ofs="+i);let o=!0;for(let l=0;l<t;l++){let u=s[l].h;const h=s[l].g;if(u-=i,0>u)i=Math.max(0,s[l].h-100),o=!1;else try{hg(h,a,"req"+u+"_")}catch{n&&n(h)}}if(o){n=a.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,n}function bf(r){r.g||r.u||(r.Z=1,B1(r.Ia,r),r.A=0)}function al(r){return r.g||r.u||3<=r.A?!1:(r.Z++,r.u=Vs(lt(r.Ia,r),Sf(r,r.A)),r.A++,!0)}X.Ia=function(){if(this.u=null,_f(this),this.$&&!(this.K||this.g==null||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=Vs(lt(this.cb,this),r)}};X.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ft(10),$a(this),_f(this))};function ol(r){r.B!=null&&(oe.clearTimeout(r.B),r.B=null)}function _f(r){r.g=new js(r,r.j,"rpc",r.Z),r.o===null&&(r.g.H=r.s),r.g.N=0;var e=lr(r.sa);Oe(e,"RID","rpc"),Oe(e,"SID",r.I),Oe(e,"CI",r.L?"0":"1"),Oe(e,"AID",r.T),Oe(e,"TYPE","xmlhttp"),Ys(r,e),r.o&&r.s&&sl(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=Na(lr(e)),t.s=null,t.P=!0,X1(t,r)}X.bb=function(){this.v!=null&&(this.v=null,$a(this),al(this),ft(19))};function ea(r){r.v!=null&&(oe.clearTimeout(r.v),r.v=null)}function kf(r,e){var t=null;if(r.g==e){ea(r),ol(r),r.g=null;var n=2}else if(oo(r.h,e))t=e.D,uf(r.h,e),n=1;else return;if(r.G!=0){if(r.pa=e.Y,e.i)if(n==1){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=r.C;n=Aa(),st(n,new G1(n,t)),La(r)}else bf(r);else if(s=e.o,s==3||s==0&&0<r.pa||!(n==1&&vg(r,e)||n==2&&al(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),s){case 1:Kr(r,5);break;case 4:Kr(r,10);break;case 3:Kr(r,6);break;default:Kr(r,2)}}}function Sf(r,e){let t=r.Wa+Math.floor(Math.random()*r.ab);return r.l||(t*=2),t*e}function Kr(r,e){if(r.j.info("Error code "+e),e==2){var t=null;r.l&&(t=null);var n=lt(r.jb,r);t||(t=new Jr("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||Ji(t,"https"),Na(t)),fg(t.toString(),n)}else ft(2);r.G=0,r.l&&r.l.va(e),Tf(r),yf(r)}X.jb=function(r){r?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Tf(r){if(r.G=0,r.la=[],r.l){const e=cf(r.h);(e.length!=0||r.i.length!=0)&&(Fu(r.la,e),Fu(r.la,r.i),r.h.i.length=0,Uo(r.i),r.i.length=0),r.l.ua()}}function xf(r,e,t){var n=t instanceof Jr?lr(t):new Jr(t,void 0);if(n.g!="")e&&(n.g=e+"."+n.g),Zi(n,n.m);else{var s=oe.location;n=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Jr(null,void 0);n&&Ji(i,n),e&&(i.g=e),s&&Zi(i,s),t&&(i.l=t),n=i}return t=r.D,e=r.za,t&&e&&Oe(n,t,e),Oe(n,"VER",r.ma),Ys(r,n),n}function Ef(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=t&&r.Da&&!r.ra?new Ue(new Ws({ib:!0})):new Ue(r.ra),e.L=r.H,e}function If(){}X=If.prototype;X.xa=function(){};X.wa=function(){};X.va=function(){};X.ua=function(){};X.Qa=function(){};function ta(){if(Ln&&!(10<=Number(O2)))throw Error("Environmental error: no available transport.")}ta.prototype.g=function(r,e){return new xt(r,e)};function xt(r,e){et.call(this),this.g=new vf(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Xb)&&!Yi(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yi(e)&&(this.g.D=e,r=this.h,r!==null&&e in r&&(r=this.h,e in r&&delete r[e])),this.j=new Gn(this)}at(xt,et);xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;ft(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=xf(r,null,r.V),La(r)};xt.prototype.close=function(){il(this.g)};xt.prototype.u=function(r){var e=this.g;if(typeof r=="string"){var t={};t.__data__=r,r=t}else this.v&&(t={},t.__data__=Yo(r),r=t);e.i.push(new lg(e.$a++,r)),e.G==3&&La(e)};xt.prototype.M=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,xt.X.M.call(this)};function Af(r){Zo.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=e!==null&&r in e?e[r]:void 0),this.data=e}else this.data=r}at(Af,Zo);function Mf(){el.call(this),this.status=1}at(Mf,el);function Gn(r){this.g=r}at(Gn,If);Gn.prototype.xa=function(){st(this.g,"a")};Gn.prototype.wa=function(r){st(this.g,new Af(r))};Gn.prototype.va=function(r){st(this.g,new Mf)};Gn.prototype.ua=function(){st(this.g,"b")};ta.prototype.createWebChannel=ta.prototype.g;xt.prototype.send=xt.prototype.u;xt.prototype.open=xt.prototype.m;xt.prototype.close=xt.prototype.close;Ma.NO_ERROR=0;Ma.TIMEOUT=8;Ma.HTTP_ERROR=6;W1.COMPLETE="complete";K1.EventType=Hs;Hs.OPEN="a";Hs.CLOSE="b";Hs.ERROR="c";Hs.MESSAGE="d";et.prototype.listen=et.prototype.N;Ue.prototype.listenOnce=Ue.prototype.O;Ue.prototype.getLastError=Ue.prototype.Na;Ue.prototype.getLastErrorCode=Ue.prototype.Ea;Ue.prototype.getStatus=Ue.prototype.aa;Ue.prototype.getResponseJson=Ue.prototype.Ra;Ue.prototype.getResponseText=Ue.prototype.fa;Ue.prototype.send=Ue.prototype.da;var yg=function(){return new ta},wg=function(){return Aa()},E0=Ma,bg=W1,_g=cn,Ju={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kg=Ws,vi=K1,Sg=Ue;const Zu="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wn="9.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new zo("@firebase/firestore");function ec(){return sn.logLevel}function Q(r,...e){if(sn.logLevel<=ke.DEBUG){const t=e.map(ll);sn.debug(`Firestore (${Wn}): ${r}`,...t)}}function ur(r,...e){if(sn.logLevel<=ke.ERROR){const t=e.map(ll);sn.error(`Firestore (${Wn}): ${r}`,...t)}}function tc(r,...e){if(sn.logLevel<=ke.WARN){const t=e.map(ll);sn.warn(`Firestore (${Wn}): ${r}`,...t)}}function ll(r){if(typeof r=="string")return r;try{return e=r,JSON.stringify(e)}catch{return r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(r="Unexpected state"){const e=`FIRESTORE (${Wn}) INTERNAL ASSERTION FAILED: `+r;throw ur(e),new Error(e)}function Ce(r,e){r||ce()}function he(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_t.UNAUTHENTICATED))}shutdown(){}}class Eg{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const s=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let i=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Dr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Dr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ce(typeof n.accessToken=="string"),new Tg(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new _t(e)}}class Ig{constructor(e,t,n,s){this.h=e,this.l=t,this.m=n,this.g=s,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ce(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ag{constructor(e,t,n,s){this.h=e,this.l=t,this.m=n,this.g=s}getToken(){return Promise.resolve(new Ig(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cg{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.A;return this.A=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.T.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.T.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ce(typeof t.token=="string"),this.A=t.token,new Mg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=Dg(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<t&&(n+=e.charAt(s[i]%e.length))}return n}}function Te(r,e){return r<e?-1:r>e?1:0}function zn(r,e,t){return r.length===e.length&&r.every((n,s)=>t(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new K(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new je(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new je(0,0))}static max(){return new pe(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,n){t===void 0?t=0:t>e.length&&ce(),n===void 0?n=e.length-t:n>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Ts.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const i=e.get(s),a=t.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Re extends Ts{construct(e,t,n){return new Re(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new K(C.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new Re(t)}static emptyPath(){return new Re([])}}const Ng=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Ts{construct(e,t,n){return new ot(e,t,n)}static isValidIdentifier(e){return Ng.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const t=[];let n="",s=0;const i=()=>{if(n.length===0)throw new K(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new K(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(n+=o,s++):(i(),s++)}if(i(),a)throw new K(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(t)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Re.fromString(e))}static fromName(e){return new Z(Re.fromString(e).popFirst(5))}static empty(){return new Z(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Re(e.slice()))}}function Rg(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(n===1e9?new je(t+1,0):new je(t,n));return new Rr(s,Z.empty(),e)}function Og(r){return new Rr(r.readTime,r.key,-1)}class Rr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Rr(pe.min(),Z.empty(),-1)}static max(){return new Rr(pe.max(),Z.empty(),-1)}}function $g(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Z.comparator(r.documentKey,e.documentKey),t!==0?t:Te(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(r){if(r.code!==C.FAILED_PRECONDITION||r.message!==Lg)throw r;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,n)=>{t(e)})}static reject(e){return new L((t,n)=>{n(e)})}static waitFor(e){return new L((t,n)=>{let s=0,i=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++i,a&&i===s&&t()},l=>n(l))}),a=!0,i===s&&t()})}static or(e){let t=L.resolve(!1);for(const n of e)t=t.next(s=>s?L.resolve(s):n());return t}static forEach(e,t){const n=[];return e.forEach((s,i)=>{n.push(t.call(this,s,i))}),this.waitFor(n)}static mapArray(e,t){return new L((n,s)=>{const i=e.length,a=new Array(i);let o=0;for(let l=0;l<i;l++){const u=l;t(e[u]).next(h=>{a[u]=h,++o,o===i&&n(a)},h=>s(h))}})}static doWhile(e,t){return new L((n,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):n()};i()})}}function Qs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ut(n),this.ct=n=>t.writeSequenceNumber(n))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function hn(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Df(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul.at=-1;class We{constructor(e,t){this.comparator=e,this.root=t||rt.EMPTY}insert(e,t){return new We(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yi(this.root,e,this.comparator,!1)}getReverseIterator(){return new yi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yi(this.root,e,this.comparator,!0)}}class yi{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,t,n,s,i){this.key=e,this.value=t,this.color=n!=null?n:rt.RED,this.left=s!=null?s:rt.EMPTY,this.right=i!=null?i:rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,i){return new rt(e!=null?e:this.key,t!=null?t:this.value,n!=null?n:this.color,s!=null?s:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,n),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return rt.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(r,e,t,n,s){return this}insert(r,e,t){return new rt(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nc(this.data.getIterator())}getIteratorFrom(e){return new nc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ge(this.comparator);return t.data=e,t}}class nc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Dt([])}unionWith(e){let t=new Ge(ot.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Dt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zn(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new it(t)}static fromUint8Array(e){const t=function(n){let s="";for(let i=0;i<n.length;++i)s+=String.fromCharCode(n[i]);return s}(e);return new it(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}it.EMPTY_BYTE_STRING=new it("");const Pg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(r){if(Ce(!!r),typeof r=="string"){let e=0;const t=Pg.exec(r);if(Ce(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:qe(r.seconds),nanos:qe(r.nanos)}}function qe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Pn(r){return typeof r=="string"?it.fromBase64String(r):it.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Rf(r){const e=r.mapValue.fields.__previous_value__;return Nf(e)?Rf(e):e}function xs(r){const e=Or(r.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,n,s,i,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.useFetchStreams=l}}class Es{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Es("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Es&&e.projectId===this.projectId&&e.database===this.database}}function za(r){return r==null}function ra(r){return r===0&&1/r==-1/0}function Fg(r){return typeof r=="number"&&Number.isInteger(r)&&!ra(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function an(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nf(r)?4:qg(r)?9007199254740991:10:ce()}function Wt(r,e){if(r===e)return!0;const t=an(r);if(t!==an(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xs(r).isEqual(xs(e));case 3:return function(n,s){if(typeof n.timestampValue=="string"&&typeof s.timestampValue=="string"&&n.timestampValue.length===s.timestampValue.length)return n.timestampValue===s.timestampValue;const i=Or(n.timestampValue),a=Or(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(n,s){return Pn(n.bytesValue).isEqual(Pn(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(n,s){return qe(n.geoPointValue.latitude)===qe(s.geoPointValue.latitude)&&qe(n.geoPointValue.longitude)===qe(s.geoPointValue.longitude)}(r,e);case 2:return function(n,s){if("integerValue"in n&&"integerValue"in s)return qe(n.integerValue)===qe(s.integerValue);if("doubleValue"in n&&"doubleValue"in s){const i=qe(n.doubleValue),a=qe(s.doubleValue);return i===a?ra(i)===ra(a):isNaN(i)&&isNaN(a)}return!1}(r,e);case 9:return zn(r.arrayValue.values||[],e.arrayValue.values||[],Wt);case 10:return function(n,s){const i=n.mapValue.fields||{},a=s.mapValue.fields||{};if(rc(i)!==rc(a))return!1;for(const o in i)if(i.hasOwnProperty(o)&&(a[o]===void 0||!Wt(i[o],a[o])))return!1;return!0}(r,e);default:return ce()}}function Is(r,e){return(r.values||[]).find(t=>Wt(t,e))!==void 0}function Bn(r,e){if(r===e)return 0;const t=an(r),n=an(e);if(t!==n)return Te(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(r.booleanValue,e.booleanValue);case 2:return function(s,i){const a=qe(s.integerValue||s.doubleValue),o=qe(i.integerValue||i.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(r,e);case 3:return sc(r.timestampValue,e.timestampValue);case 4:return sc(xs(r),xs(e));case 5:return Te(r.stringValue,e.stringValue);case 6:return function(s,i){const a=Pn(s),o=Pn(i);return a.compareTo(o)}(r.bytesValue,e.bytesValue);case 7:return function(s,i){const a=s.split("/"),o=i.split("/");for(let l=0;l<a.length&&l<o.length;l++){const u=Te(a[l],o[l]);if(u!==0)return u}return Te(a.length,o.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,i){const a=Te(qe(s.latitude),qe(i.latitude));return a!==0?a:Te(qe(s.longitude),qe(i.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(s,i){const a=s.values||[],o=i.values||[];for(let l=0;l<a.length&&l<o.length;++l){const u=Bn(a[l],o[l]);if(u)return u}return Te(a.length,o.length)}(r.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===wi.mapValue&&i===wi.mapValue)return 0;if(s===wi.mapValue)return 1;if(i===wi.mapValue)return-1;const a=s.fields||{},o=Object.keys(a),l=i.fields||{},u=Object.keys(l);o.sort(),u.sort();for(let h=0;h<o.length&&h<u.length;++h){const d=Te(o[h],u[h]);if(d!==0)return d;const g=Bn(a[o[h]],l[u[h]]);if(g!==0)return g}return Te(o.length,u.length)}(r.mapValue,e.mapValue);default:throw ce()}}function sc(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Te(r,e);const t=Or(r),n=Or(e),s=Te(t.seconds,n.seconds);return s!==0?s:Te(t.nanos,n.nanos)}function En(r){return lo(r)}function lo(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Or(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Pn(r.bytesValue).toBase64():"referenceValue"in r?(t=r.referenceValue,Z.fromName(t).toString()):"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(n){let s="[",i=!0;for(const a of n.values||[])i?i=!1:s+=",",s+=lo(a);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of s)a?a=!1:i+=",",i+=`${o}:${lo(n.fields[o])}`;return i+"}"}(r.mapValue):ce();var e,t}function ic(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function uo(r){return!!r&&"integerValue"in r}function cl(r){return!!r&&"arrayValue"in r}function ac(r){return!!r&&"nullValue"in r}function oc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ni(r){return!!r&&"mapValue"in r}function us(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return hn(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=us(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=us(r.arrayValue.values[t]);return e}return Object.assign({},r)}function qg(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ni(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=us(t)}setAll(e){let t=ot.emptyPath(),n={},s=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,n,s),n={},s=[],t=o.popLast()}a?n[o.lastSegment()]=us(a):s.push(o.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,s)}delete(e){const t=this.field(e.popLast());Ni(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Ni(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){hn(t,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new kt(us(this.value))}}function Of(r){const e=[];return hn(r.fields,(t,n)=>{const s=new ot([t]);if(Ni(n)){const i=Of(n.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Dt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t,n,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new nt(e,0,pe.min(),pe.min(),kt.empty(),0)}static newFoundDocument(e,t,n){return new nt(e,1,t,pe.min(),n,0)}static newNoDocument(e,t){return new nt(e,2,t,pe.min(),kt.empty(),0)}static newUnknownDocument(e,t){return new nt(e,3,t,pe.min(),kt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t=null,n=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.ht=null}}function lc(r,e=null,t=[],n=[],s=null,i=null,a=null){return new Ug(r,e,t,n,s,i,a)}function hl(r){const e=he(r);if(e.ht===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>{return(s=n).field.canonicalString()+s.op.toString()+En(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),za(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>En(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>En(n)).join(",")),e.ht=t}return e.ht}function Vg(r){let e=r.path.canonicalString();return r.collectionGroup!==null&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(t=>{return`${(n=t).field.canonicalString()} ${n.op} ${En(n.value)}`;var n}).join(", ")}]`),za(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(t=>function(n){return`${n.field.canonicalString()} (${n.dir})`}(t)).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(t=>En(t)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(t=>En(t)).join(",")),`Target(${e})`}function fl(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<r.orderBy.length;s++)if(!Qg(r.orderBy[s],e.orderBy[s]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let s=0;s<r.filters.length;s++)if(t=r.filters[s],n=e.filters[s],t.op!==n.op||!t.field.isEqual(n.field)||!Wt(t.value,n.value))return!1;var t,n;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cc(r.startAt,e.startAt)&&cc(r.endAt,e.endAt)}function co(r){return Z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dt extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.lt(e,t,n):new Hg(e,t,n):t==="array-contains"?new Wg(e,n):t==="in"?new Kg(e,n):t==="not-in"?new Yg(e,n):t==="array-contains-any"?new Xg(e,n):new dt(e,t,n)}static lt(e,t,n){return t==="in"?new jg(e,n):new Gg(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.ft(Bn(t,this.value)):t!==null&&an(this.value)===an(t)&&this.ft(Bn(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Hg extends dt{constructor(e,t,n){super(e,t,n),this.key=Z.fromName(n.referenceValue)}matches(e){const t=Z.comparator(e.key,this.key);return this.ft(t)}}class jg extends dt{constructor(e,t){super(e,"in",t),this.keys=$f("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gg extends dt{constructor(e,t){super(e,"not-in",t),this.keys=$f("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $f(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Z.fromName(n.referenceValue))}class Wg extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cl(t)&&Is(t.arrayValue,this.value)}}class Kg extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Is(this.value.arrayValue,t)}}class Yg extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Is(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Is(this.value.arrayValue,t)}}class Xg extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Is(this.value.arrayValue,n))}}class na{constructor(e,t){this.position=e,this.inclusive=t}}class In{constructor(e,t="asc"){this.field=e,this.dir=t}}function Qg(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function uc(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const i=e[s],a=r.position[s];if(i.field.isKeyField()?n=Z.comparator(Z.fromName(a.referenceValue),t.key):n=Bn(a,t.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function cc(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Wt(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t=null,n=[],s=[],i=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function Jg(r,e,t,n,s,i,a,o){return new Kn(r,e,t,n,s,i,a,o)}function dl(r){return new Kn(r)}function hc(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ml(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function pl(r){for(const e of r.filters)if(e.dt())return e.field;return null}function Lf(r){return r.collectionGroup!==null}function As(r){const e=he(r);if(e._t===null){e._t=[];const t=pl(e),n=ml(e);if(t!==null&&n===null)t.isKeyField()||e._t.push(new In(t)),e._t.push(new In(ot.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e._t.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new In(ot.keyField(),i))}}}return e._t}function cr(r){const e=he(r);if(!e.wt)if(e.limitType==="F")e.wt=lc(e.path,e.collectionGroup,As(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of As(e)){const a=i.dir==="desc"?"asc":"desc";t.push(new In(i.field,a))}const n=e.endAt?new na(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new na(e.startAt.position,e.startAt.inclusive):null;e.wt=lc(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}return e.wt}function ho(r,e,t){return new Kn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Pa(r,e){return fl(cr(r),cr(e))&&r.limitType===e.limitType}function zf(r){return`${hl(cr(r))}|lt:${r.limitType}`}function fo(r){return`Query(target=${Vg(cr(r))}; limitType=${r.limitType})`}function gl(r,e){return e.isFoundDocument()&&function(t,n){const s=n.key.path;return t.collectionGroup!==null?n.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Z.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(r,e)&&function(t,n){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&n.data.field(s.field)===null)return!1;return!0}(r,e)&&function(t,n){for(const s of t.filters)if(!s.matches(n))return!1;return!0}(r,e)&&function(t,n){return!(t.startAt&&!function(s,i,a){const o=uc(s,i,a);return s.inclusive?o<=0:o<0}(t.startAt,As(t),n)||t.endAt&&!function(s,i,a){const o=uc(s,i,a);return s.inclusive?o>=0:o>0}(t.endAt,As(t),n))}(r,e)}function Zg(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Pf(r){return(e,t)=>{let n=!1;for(const s of As(r)){const i=e5(s,e,t);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function e5(r,e,t){const n=r.field.isKeyField()?Z.comparator(e.key,t.key):function(s,i,a){const o=i.data.field(s),l=a.data.field(s);return o!==null&&l!==null?Bn(o,l):ce()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ra(e)?"-0":e}}function Ff(r){return{integerValue:""+r}}function t5(r,e){return Fg(e)?Ff(e):Bf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this._=void 0}}function r5(r,e,t){return r instanceof Ms?function(n,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return s&&(i.fields.__previous_value__=s),{mapValue:i}}(t,e):r instanceof Cs?Uf(r,e):r instanceof Ds?Vf(r,e):function(n,s){const i=qf(n,s),a=fc(i)+fc(n.yt);return uo(i)&&uo(n.yt)?Ff(a):Bf(n.It,a)}(r,e)}function n5(r,e,t){return r instanceof Cs?Uf(r,e):r instanceof Ds?Vf(r,e):t}function qf(r,e){return r instanceof sa?uo(t=e)||function(n){return!!n&&"doubleValue"in n}(t)?e:{integerValue:0}:null;var t}class Ms extends Ba{}class Cs extends Ba{constructor(e){super(),this.elements=e}}function Uf(r,e){const t=Hf(e);for(const n of r.elements)t.some(s=>Wt(s,n))||t.push(n);return{arrayValue:{values:t}}}class Ds extends Ba{constructor(e){super(),this.elements=e}}function Vf(r,e){let t=Hf(e);for(const n of r.elements)t=t.filter(s=>!Wt(s,n));return{arrayValue:{values:t}}}class sa extends Ba{constructor(e,t){super(),this.It=e,this.yt=t}}function fc(r){return qe(r.integerValue||r.doubleValue)}function Hf(r){return cl(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,t){this.field=e,this.transform=t}}function i5(r,e){return r.field.isEqual(e.field)&&function(t,n){return t instanceof Cs&&n instanceof Cs||t instanceof Ds&&n instanceof Ds?zn(t.elements,n.elements,Wt):t instanceof sa&&n instanceof sa?Wt(t.yt,n.yt):t instanceof Ms&&n instanceof Ms}(r.transform,e.transform)}class a5{constructor(e,t){this.version=e,this.transformResults=t}}class zt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zt}static exists(e){return new zt(void 0,e)}static updateTime(e){return new zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ri(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Fa{}function jf(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vl(r.key,zt.none()):new Js(r.key,r.data,zt.none());{const t=r.data,n=kt.empty();let s=new Ge(ot.comparator);for(let i of e.fields)if(!s.has(i)){let a=t.field(i);a===null&&i.length>1&&(i=i.popLast(),a=t.field(i)),a===null?n.delete(i):n.set(i,a),s=s.add(i)}return new qr(r.key,n,new Dt(s.toArray()),zt.none())}}function o5(r,e,t){r instanceof Js?function(n,s,i){const a=n.value.clone(),o=mc(n.fieldTransforms,s,i.transformResults);a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(r,e,t):r instanceof qr?function(n,s,i){if(!Ri(n.precondition,s))return void s.convertToUnknownDocument(i.version);const a=mc(n.fieldTransforms,s,i.transformResults),o=s.data;o.setAll(Gf(n)),o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(r,e,t):function(n,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,t)}function cs(r,e,t,n){return r instanceof Js?function(s,i,a,o){if(!Ri(s.precondition,i))return a;const l=s.value.clone(),u=pc(s.fieldTransforms,o,i);return l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(r,e,t,n):r instanceof qr?function(s,i,a,o){if(!Ri(s.precondition,i))return a;const l=pc(s.fieldTransforms,o,i),u=i.data;return u.setAll(Gf(s)),u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(r,e,t,n):function(s,i,a){return Ri(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(r,e,t)}function l5(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),i=qf(n.transform,s||null);i!=null&&(t===null&&(t=kt.empty()),t.set(n.field,i))}return t||null}function dc(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(t,n){return t===void 0&&n===void 0||!(!t||!n)&&zn(t,n,(s,i)=>i5(s,i))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Js extends Fa{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qr extends Fa{constructor(e,t,n,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Gf(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function mc(r,e,t){const n=new Map;Ce(r.length===t.length);for(let s=0;s<t.length;s++){const i=r[s],a=i.transform,o=e.data.field(i.field);n.set(i.field,n5(a,o,t[s]))}return n}function pc(r,e,t){const n=new Map;for(const s of r){const i=s.transform,a=t.data.field(s.field);n.set(s.field,r5(i,a,e))}return n}class vl extends Fa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u5 extends Fa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,we;function h5(r){switch(r){default:return ce();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function Wf(r){if(r===void 0)return ur("GRPC error has no .code"),C.UNKNOWN;switch(r){case Fe.OK:return C.OK;case Fe.CANCELLED:return C.CANCELLED;case Fe.UNKNOWN:return C.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return C.INTERNAL;case Fe.UNAVAILABLE:return C.UNAVAILABLE;case Fe.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Fe.NOT_FOUND:return C.NOT_FOUND;case Fe.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Fe.ABORTED:return C.ABORTED;case Fe.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Fe.DATA_LOSS:return C.DATA_LOSS;default:return ce()}}(we=Fe||(Fe={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hn(this.inner,(t,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return Df(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=new We(Z.comparator);function hr(){return f5}const Kf=new We(Z.comparator);function is(...r){let e=Kf;for(const t of r)e=e.insert(t.key,t);return e}function Yf(r){let e=Kf;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Yr(){return hs()}function Xf(){return hs()}function hs(){return new Yn(r=>r.toString(),(r,e)=>r.isEqual(e))}const d5=new We(Z.comparator),m5=new Ge(Z.comparator);function ye(...r){let e=m5;for(const t of r)e=e.add(t);return e}const p5=new Ge(Te);function Qf(){return p5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t,n,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Zs.createSynthesizedTargetChangeForCurrentChange(e,t)),new qa(pe.min(),n,Qf(),hr(),ye())}}class Zs{constructor(e,t,n,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Zs(it.EMPTY_BYTE_STRING,t,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,t,n,s){this.Tt=e,this.removedTargetIds=t,this.key=n,this.Et=s}}class Jf{constructor(e,t){this.targetId=e,this.At=t}}class Zf{constructor(e,t,n=it.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class gc{constructor(){this.Rt=0,this.bt=yc(),this.Pt=it.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ye(),t=ye(),n=ye();return this.bt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:ce()}}),new Zs(this.Pt,this.vt,e,t,n)}Nt(){this.Vt=!1,this.bt=yc()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class g5{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=hr(),this.qt=vc(),this.Kt=new Ge(Te)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const n=this.zt(t);switch(e.state){case 0:this.Ht(t)&&n.Ct(e.resumeToken);break;case 1:n.Ft(),n.St||n.Nt(),n.Ct(e.resumeToken);break;case 2:n.Ft(),n.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(n.$t(),n.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),n.Ct(e.resumeToken));break;default:ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((n,s)=>{this.Ht(s)&&t(s)})}Yt(e){const t=e.targetId,n=e.At.count,s=this.Xt(t);if(s){const i=s.target;if(co(i))if(n===0){const a=new Z(i.path);this.jt(t,a,nt.newNoDocument(a,pe.min()))}else Ce(n===1);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((i,a)=>{const o=this.Xt(a);if(o){if(i.current&&co(o.target)){const l=new Z(o.target.path);this.Ut.get(l)!==null||this.ee(a,l)||this.jt(a,l,nt.newNoDocument(l,e))}i.Dt&&(t.set(a,i.xt()),i.Nt())}});let n=ye();this.qt.forEach((i,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(o=!1,!1)}),o&&(n=n.add(i))}),this.Ut.forEach((i,a)=>a.setReadTime(e));const s=new qa(e,t,this.Kt,this.Ut,n);return this.Ut=hr(),this.qt=vc(),this.Kt=new Ge(Te),s}Qt(e,t){if(!this.Ht(e))return;const n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,n){if(!this.Ht(e))return;const s=this.zt(e);this.ee(e,t)?s.kt(t,1):s.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new gc,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Ge(Te),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=this.Xt(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new gc),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function vc(){return new We(Z.comparator)}function yc(){return new We(Z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),y5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class w5{constructor(e,t){this.databaseId=e,this.gt=t}}function ia(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ed(r,e){return r.gt?e.toBase64():e.toUint8Array()}function b5(r,e){return ia(r,e.toTimestamp())}function ir(r){return Ce(!!r),pe.fromTimestamp(function(e){const t=Or(e);return new je(t.seconds,t.nanos)}(r))}function yl(r,e){return function(t){return new Re(["projects",t.projectId,"databases",t.database])}(r).child("documents").child(e).canonicalString()}function td(r){const e=Re.fromString(r);return Ce(sd(e)),e}function mo(r,e){return yl(r.databaseId,e.path)}function I0(r,e){const t=td(e);if(t.get(1)!==r.databaseId.projectId)throw new K(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new K(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Z(rd(t))}function po(r,e){return yl(r.databaseId,e)}function _5(r){const e=td(r);return e.length===4?Re.emptyPath():rd(e)}function go(r){return new Re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rd(r){return Ce(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function wc(r,e,t){return{name:mo(r,e),fields:t.value.mapValue.fields}}function k5(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.gt?(Ce(u===void 0||typeof u=="string"),it.fromBase64String(u||"")):(Ce(u===void 0||u instanceof Uint8Array),it.fromUint8Array(u||new Uint8Array))}(r,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const u=l.code===void 0?C.UNKNOWN:Wf(l.code);return new K(u,l.message||"")}(a);t=new Zf(n,s,i,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=I0(r,n.document.name),i=ir(n.document.updateTime),a=new kt({mapValue:{fields:n.document.fields}}),o=nt.newFoundDocument(s,i,a),l=n.targetIds||[],u=n.removedTargetIds||[];t=new Oi(l,u,o.key,o)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=I0(r,n.document),i=n.readTime?ir(n.readTime):pe.min(),a=nt.newNoDocument(s,i),o=n.removedTargetIds||[];t=new Oi([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=I0(r,n.document),i=n.removedTargetIds||[];t=new Oi([],i,s,null)}else{if(!("filter"in e))return ce();{e.filter;const n=e.filter;n.targetId;const s=n.count||0,i=new c5(s),a=n.targetId;t=new Jf(a,i)}}return t}function S5(r,e){let t;if(e instanceof Js)t={update:wc(r,e.key,e.value)};else if(e instanceof vl)t={delete:mo(r,e.key)};else if(e instanceof qr)t={update:wc(r,e.key,e.data),updateMask:R5(e.fieldMask)};else{if(!(e instanceof u5))return ce();t={verify:mo(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(s,i){const a=i.transform;if(a instanceof Ms)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cs)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ds)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sa)return{fieldPath:i.field.canonicalString(),increment:a.yt};throw ce()}(0,n))),e.precondition.isNone||(t.currentDocument=function(n,s){return s.updateTime!==void 0?{updateTime:b5(n,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(r,e.precondition)),t}function T5(r,e){return r&&r.length>0?(Ce(e!==void 0),r.map(t=>function(n,s){let i=n.updateTime?ir(n.updateTime):ir(s);return i.isEqual(pe.min())&&(i=ir(s)),new a5(i,n.transformResults||[])}(t,e))):[]}function x5(r,e){return{documents:[po(r,e.path)]}}function E5(r,e){const t={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(t.parent=po(r,n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=po(r,n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);const s=function(l){if(l.length===0)return;const u=l.map(h=>function(d){if(d.op==="=="){if(oc(d.value))return{unaryFilter:{field:_n(d.field),op:"IS_NAN"}};if(ac(d.value))return{unaryFilter:{field:_n(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(oc(d.value))return{unaryFilter:{field:_n(d.field),op:"IS_NOT_NAN"}};if(ac(d.value))return{unaryFilter:{field:_n(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_n(d.field),op:C5(d.op),value:d.value}}}(h));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);s&&(t.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:_n(h.field),direction:M5(h.dir)}}(u))}(e.orderBy);i&&(t.structuredQuery.orderBy=i);const a=function(l,u){return l.gt||za(u)?u:{value:u}}(r,e.limit);var o;return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(o=e.startAt).inclusive,values:o.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t}function I5(r){let e=_5(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Ce(n===1);const h=t.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=nd(t.where));let a=[];t.orderBy&&(a=t.orderBy.map(h=>function(d){return new In(Tn(d.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(h)));let o=null;t.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,za(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,g=h.values||[];return new na(g,d)}(t.startAt));let u=null;return t.endAt&&(u=function(h){const d=!h.before,g=h.values||[];return new na(g,d)}(t.endAt)),Jg(e,s,a,i,o,"F",l,u)}function A5(r,e){const t=function(n,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ce()}}(0,e.purpose);return t==null?null:{"goog-listen-tags":t}}function nd(r){return r?r.unaryFilter!==void 0?[N5(r)]:r.fieldFilter!==void 0?[D5(r)]:r.compositeFilter!==void 0?r.compositeFilter.filters.map(e=>nd(e)).reduce((e,t)=>e.concat(t)):ce():[]}function M5(r){return v5[r]}function C5(r){return y5[r]}function _n(r){return{fieldPath:r.canonicalString()}}function Tn(r){return ot.fromServerFormat(r.fieldPath)}function D5(r){return dt.create(Tn(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(r.fieldFilter.op),r.fieldFilter.value)}function N5(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Tn(r.unaryFilter.field);return dt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Tn(r.unaryFilter.field);return dt.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Tn(r.unaryFilter.field);return dt.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Tn(r.unaryFilter.field);return dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}function R5(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sd(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&o5(i,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=cs(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=cs(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Xf();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(s.key)?null:o;const l=jf(a,o);l!==null&&n.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(pe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&zn(this.mutations,e.mutations,(t,n)=>dc(t,n))&&zn(this.baseMutations,e.baseMutations,(t,n)=>dc(t,n))}}class wl{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Ce(e.mutations.length===n.length);let s=d5;const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,n[a].version);return new wl(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,n,s,i=pe.min(),a=pe.min(),o=it.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.re=e}}function z5(r){const e=I5({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ho(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.Ye=new B5}addToCollectionParentIndex(e,t){return this.Ye.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Rr.min())}updateCollectionGroup(e,t,n){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class B5{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new Ge(Re.comparator),i=!s.has(n);return this.index[t]=s.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Ge(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Fn(0)}static vn(){return new Fn(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(){this.changes=new Yn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?L.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.getBaseDocument(e,t,n))).next(s=>(n!==null&&cs(n.mutation,s,Dt.empty(),je.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,ye()).next(()=>n))}getLocalViewOfDocuments(e,t,n=ye()){const s=Yr();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(i=>{let a=is();return i.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const n=Yr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ye()))}populateOverlays(e,t,n){const s=[];return n.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,n,s){let i=hr();const a=hs(),o=hs();return t.forEach((l,u)=>{const h=n.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof qr)?i=i.insert(u.key,u):h!==void 0&&(a.set(u.key,h.mutation.getFieldMask()),cs(h.mutation,u,h.mutation.getFieldMask(),je.now()))}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>a.set(u,h)),t.forEach((u,h)=>{var d;return o.set(u,new q5(h,(d=a.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,t){const n=hs();let s=new We((a,o)=>a-o),i=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let h=n.get(l)||Dt.empty();h=o.applyToLocalView(u,h),n.set(l,h);const d=(s.get(o.batchId)||ye()).add(l);s=s.insert(o.batchId,d)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,h=l.value,d=Xf();h.forEach(g=>{if(!i.has(g)){const v=jf(t.get(g),n.get(g));v!==null&&d.set(g,v),i=i.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return L.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-i.size):L.resolve(Yr());let o=-1,l=i;return a.next(u=>L.forEach(u,(h,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),i.get(h)?L.resolve():this.getBaseDocument(e,h,d).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ye())).next(h=>({batchId:o,changes:Yf(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Z(t)).next(n=>{let s=is();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const s=t.collectionGroup;let i=is();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,o=>{const l=function(u,h){return new Kn(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t,o.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n).next(u=>{u.forEach((h,d)=>{i=i.insert(h,d)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let s;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next(i=>(s=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId))).next(i=>{i.forEach((o,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,nt.newInvalidDocument(u)))});let a=is();return s.forEach((o,l)=>{const u=i.get(o);u!==void 0&&cs(u.mutation,l,Dt.empty(),je.now()),gl(t,l)&&(a=a.insert(o,l))}),a})}getBaseDocument(e,t,n){return n===null||n.mutation.type===1?this.remoteDocumentCache.getEntry(e,t):L.resolve(nt.newInvalidDocument(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return L.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:ir(n.createTime)}),L.resolve()}getNamedQuery(e,t){return L.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(n){return{name:n.name,query:z5(n.bundledQuery),readTime:ir(n.readTime)}}(t)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.overlays=new We(Z.comparator),this.es=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Yr();return L.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,i)=>{this.ue(e,t,i)}),L.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.es.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.es.delete(n)),L.resolve()}getOverlaysForCollection(e,t,n){const s=Yr(),i=t.length+1,a=new Z(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return L.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let i=new We((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){let h=i.get(u.largestBatchId);h===null&&(h=Yr(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const o=Yr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>o.set(u,h)),!(o.size()>=s)););return L.resolve(o)}ue(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.es.get(s.largestBatchId).delete(n.key);this.es.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new $5(t,n));let i=this.es.get(t);i===void 0&&(i=ye(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.ns=new Ge(Ze.ss),this.rs=new Ge(Ze.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new Ze(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.cs(new Ze(e,t))}hs(e,t){e.forEach(n=>this.removeReference(n,t))}ls(e){const t=new Z(new Re([])),n=new Ze(t,e),s=new Ze(t,e+1),i=[];return this.rs.forEachInRange([n,s],a=>{this.cs(a),i.push(a.key)}),i}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Z(new Re([])),n=new Ze(t,e),s=new Ze(t,e+1);let i=ye();return this.rs.forEachInRange([n,s],a=>{i=i.add(a.key)}),i}containsKey(e){const t=new Ze(e,0),n=this.ns.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Ze{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Z.comparator(e.key,t.key)||Te(e._s,t._s)}static os(e,t){return Te(e._s,t._s)||Z.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ge(Ze.ss)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new O5(i,t,n,s);this.mutationQueue.push(a);for(const o of s)this.gs=this.gs.add(new Ze(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,t){return L.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ps(n),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ze(t,0),s=new Ze(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,s],a=>{const o=this.ys(a._s);i.push(o)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ge(Te);return t.forEach(s=>{const i=new Ze(s,0),a=new Ze(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([i,a],o=>{n=n.add(o._s)})}),L.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let i=n;Z.isDocumentKey(i)||(i=i.child(""));const a=new Ze(new Z(i),0);let o=new Ge(Te);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===s&&(o=o.add(l._s)),!0)},a),L.resolve(this.Is(o))}Is(e){const t=[];return e.forEach(n=>{const s=this.ys(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ce(this.Ts(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.gs;return L.forEach(t.mutations,s=>{const i=new Ze(s.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.gs=n})}An(e){}containsKey(e,t){const n=new Ze(t,0),s=this.gs.firstAfterOrEqual(n);return L.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Ts(e,t){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.Es=e,this.docs=new We(Z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),i=s?s.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return L.resolve(n?n.document.mutableCopy():nt.newInvalidDocument(t))}getEntries(e,t){let n=hr();return t.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():nt.newInvalidDocument(s))}),L.resolve(n)}getAllFromCollection(e,t,n){let s=hr();const i=new Z(t.child("")),a=this.docs.getIteratorFrom(i);for(;a.hasNext();){const{key:o,value:{document:l}}=a.getNext();if(!t.isPrefixOf(o.path))break;o.path.length>t.length+1||$g(Og(l),n)<=0||(s=s.insert(l.key,l.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,t,n,s){ce()}As(e,t){return L.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new W5(this)}getSize(e){return L.resolve(this.size)}}class W5 extends F5{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(n)}),L.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.persistence=e,this.Rs=new Yn(t=>hl(t),fl),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.bs=0,this.Ps=new bl,this.targetCount=0,this.vs=Fn.Pn()}forEachTarget(e,t){return this.Rs.forEach((n,s)=>t(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),L.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Fn(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Dn(t),L.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,n){let s=0;const i=[];return this.Rs.forEach((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.Rs.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return L.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),L.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),L.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return L.resolve(n)}containsKey(e,t){return L.resolve(this.Ps.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ul(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new K5(this),this.indexManager=new P5,this.remoteDocumentCache=function(n){return new G5(n)}(n=>this.referenceDelegate.xs(n)),this.It=new L5(t),this.Ns=new V5(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new H5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new j5(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){Q("MemoryPersistence","Starting transaction:",e);const s=new X5(this.Ss.next());return this.referenceDelegate.ks(),n(s).next(i=>this.referenceDelegate.Ms(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Os(e,t){return L.or(Object.values(this.Vs).map(n=>()=>n.containsKey(e,t)))}}class X5 extends zg{constructor(e){super(),this.currentSequenceNumber=e}}class _l{constructor(e){this.persistence=e,this.Fs=new bl,this.$s=null}static Bs(e){return new _l(e)}get Ls(){if(this.$s)return this.$s;throw ce()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),L.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),L.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(s=>this.Ls.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Ls.add(i.toString()))}).next(()=>n.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ls,n=>{const s=Z.fromPath(n);return this.Us(e,s).next(i=>{i||t.removeEntry(s,pe.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(n=>{n?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return L.or([()=>L.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=s}static Ci(e,t){let n=ye(),s=ye();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new kl(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,s){return this.ki(e,t).next(i=>i||this.Mi(e,t,s,n)).next(i=>i||this.Oi(e,t))}ki(e,t){if(hc(t))return L.resolve(null);let n=cr(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ho(t,null,"F"),n=cr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const a=ye(...i);return this.Ni.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Fi(t,o);return this.$i(t,u,a,l.readTime)?this.ki(e,ho(t,null,"F")):this.Bi(e,u,t,l)}))})))}Mi(e,t,n,s){return hc(t)||s.isEqual(pe.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next(i=>{const a=this.Fi(t,i);return this.$i(t,a,n,s)?this.Oi(e,t):(ec()<=ke.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fo(t)),this.Bi(e,a,t,Rg(s,-1)))})}Fi(e,t){let n=new Ge(Pf(e));return t.forEach((s,i)=>{gl(e,i)&&(n=n.add(i))}),n}$i(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Oi(e,t){return ec()<=ke.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",fo(t)),this.Ni.getDocumentsMatchingQuery(e,t,Rr.min())}Bi(e,t,n,s){return this.Ni.getDocumentsMatchingQuery(e,n,s).next(i=>(t.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,t,n,s){this.persistence=e,this.Li=t,this.It=s,this.Ui=new We(Te),this.qi=new Yn(i=>hl(i),fl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U5(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Z5(r,e,t,n){return new J5(r,e,t,n)}async function id(r,e){const t=he(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,t.Qi(e),t.mutationQueue.getAllMutationBatches(n))).next(i=>{const a=[],o=[];let l=ye();for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(n,l).next(u=>({ji:u,removedBatchIds:a,addedBatchIds:o}))})})}function e3(r,e){const t=he(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=t.Gi.newChangeBuffer({trackRemovals:!0});return function(a,o,l,u){const h=l.batch,d=h.keys();let g=L.resolve();return d.forEach(v=>{g=g.next(()=>u.getEntry(o,v)).next(w=>{const k=l.docVersions.get(v);Ce(k!==null),w.version.compareTo(k)<0&&(h.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(o,h))}(t,n,e,i).next(()=>i.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let o=ye();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(o=o.add(a.batch.mutations[l].key));return o}(e))).next(()=>t.localDocuments.getDocuments(n,s))})}function ad(r){const e=he(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function t3(r,e){const t=he(r),n=e.snapshotVersion;let s=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=t.Gi.newChangeBuffer({trackRemovals:!0});s=t.Ui;const o=[];e.targetChanges.forEach((h,d)=>{const g=s.get(d);if(!g)return;o.push(t.Cs.removeMatchingKeys(i,h.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(i,h.addedDocuments,d)));let v=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(d)?v=v.withResumeToken(it.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,n)),s=s.insert(d,v),function(w,k,T){return w.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,v,h)&&o.push(t.Cs.updateTargetData(i,v))});let l=hr(),u=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))}),o.push(r3(i,a,e.documentUpdates).next(h=>{l=h.Wi,u=h.zi})),!n.isEqual(pe.min())){const h=t.Cs.getLastRemoteSnapshotVersion(i).next(d=>t.Cs.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(h)}return L.waitFor(o).next(()=>a.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(t.Ui=s,i))}function r3(r,e,t){let n=ye(),s=ye();return t.forEach(i=>n=n.add(i)),e.getEntries(r,n).next(i=>{let a=hr();return t.forEach((o,l)=>{const u=i.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Q("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Wi:a,zi:s}})}function n3(r,e){const t=he(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function s3(r,e){const t=he(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Cs.getTargetData(n,e).next(i=>i?(s=i,L.resolve(s)):t.Cs.allocateTargetId(n).next(a=>(s=new Zr(e,a,0,n.currentSequenceNumber),t.Cs.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=t.Ui.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(n.targetId,n),t.qi.set(e,n.targetId)),n})}async function vo(r,e,t){const n=he(r),s=n.Ui.get(e),i=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",i,a=>n.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Qs(a))throw a;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ui=n.Ui.remove(e),n.qi.delete(s.target)}function bc(r,e,t){const n=he(r);let s=pe.min(),i=ye();return n.persistence.runTransaction("Execute query","readonly",a=>function(o,l,u){const h=he(o),d=h.qi.get(u);return d!==void 0?L.resolve(h.Ui.get(d)):h.Cs.getTargetData(l,u)}(n,a,cr(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,n.Cs.getMatchingKeysForTargetId(a,o.targetId).next(l=>{i=l})}).next(()=>n.Li.getDocumentsMatchingQuery(a,e,t?s:pe.min(),t?i:ye())).next(o=>(i3(n,Zg(e),o),{documents:o,Hi:i})))}function i3(r,e,t){let n=pe.min();t.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),r.Ki.set(e,n)}class _c{constructor(){this.activeTargetIds=Qf()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a3{constructor(){this.Lr=new _c,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,n){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new _c,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,n,s,i){const a=this.ao(e,t);Q("RestConnection","Sending: ",a,n);const o={};return this.ho(o,s,i),this.lo(e,a,o,n).then(l=>(Q("RestConnection","Received: ",l),l),l=>{throw tc("RestConnection",`${e} failed with error: `,l,"url: ",a,"request:",n),l})}fo(e,t,n,s,i,a){return this.co(e,t,n,s,i)}ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,i)=>e[i]=s),n&&n.headers.forEach((s,i)=>e[i]=s)}ao(e,t){const n=l3[e];return`${this.oo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,n,s){return new Promise((i,a)=>{const o=new Sg;o.listenOnce(bg.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case E0.NO_ERROR:const u=o.getResponseJson();Q("Connection","XHR received:",JSON.stringify(u)),i(u);break;case E0.TIMEOUT:Q("Connection",'RPC "'+e+'" timed out'),a(new K(C.DEADLINE_EXCEEDED,"Request time out"));break;case E0.HTTP_ERROR:const h=o.getStatus();if(Q("Connection",'RPC "'+e+'" failed with status:',h,"response text:",o.getResponseText()),h>0){const d=o.getResponseJson().error;if(d&&d.status&&d.message){const g=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(w)>=0?w:C.UNKNOWN}(d.status);a(new K(g,d.message))}else a(new K(C.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new K(C.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Q("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(s);o.send(t,"POST",l,n,15)})}_o(e,t,n){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yg(),a=wg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new kg({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const l=s.join("");Q("Connection","Creating WebChannel: "+l,o);const u=i.createWebChannel(l,o);let h=!1,d=!1;const g=new u3({Hr:w=>{d?Q("Connection","Not sending because WebChannel is closed:",w):(h||(Q("Connection","Opening WebChannel transport."),u.open(),h=!0),Q("Connection","WebChannel sending:",w),u.send(w))},Jr:()=>u.close()}),v=(w,k,T)=>{w.listen(k,x=>{try{T(x)}catch(O){setTimeout(()=>{throw O},0)}})};return v(u,vi.EventType.OPEN,()=>{d||Q("Connection","WebChannel transport opened.")}),v(u,vi.EventType.CLOSE,()=>{d||(d=!0,Q("Connection","WebChannel transport closed"),g.io())}),v(u,vi.EventType.ERROR,w=>{d||(d=!0,tc("Connection","WebChannel transport errored:",w),g.io(new K(C.UNAVAILABLE,"The operation could not be completed")))}),v(u,vi.EventType.MESSAGE,w=>{var k;if(!d){const T=w.data[0];Ce(!!T);const x=T,O=x.error||((k=x[0])===null||k===void 0?void 0:k.error);if(O){Q("Connection","WebChannel received error:",O);const U=O.status;let q=function(P){const Y=Fe[P];if(Y!==void 0)return Wf(Y)}(U),z=O.message;q===void 0&&(q=C.INTERNAL,z="Unknown error status: "+U+" with message "+O.message),d=!0,g.io(new K(q,z)),u.close()}else Q("Connection","WebChannel received:",T),g.ro(T)}}),v(a,_g.STAT_EVENT,w=>{w.stat===Ju.PROXY?Q("Connection","Detected buffering proxy"):w.stat===Ju.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(()=>{g.so()},0),g}}function A0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(r){return new w5(r,!0)}class od{constructor(e,t,n=1e3,s=1.5,i=6e4){this.Hs=e,this.timerId=t,this.wo=n,this.mo=s,this.yo=i,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),s=Math.max(0,t-n);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,n,s,i,a,o,l){this.Hs=e,this.Po=n,this.vo=s,this.Vo=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new od(e,t)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):t&&t.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.So===t&&this.Go(n,s)},n=>{e(()=>{const s=new K(C.UNKNOWN,"Fetching auth token failed: "+n.message);return this.Qo(s)})})}Go(e,t){const n=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{n(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{n(()=>this.Qo(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h3 extends ld{constructor(e,t,n,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,a),this.It=i}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=k5(this.It,e),n=function(s){if(!("targetChange"in s))return pe.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?pe.min():i.readTime?ir(i.readTime):pe.min()}(e);return this.listener.Wo(t,n)}zo(e){const t={};t.database=go(this.It),t.addTarget=function(s,i){let a;const o=i.target;return a=co(o)?{documents:x5(s,o)}:{query:E5(s,o)},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?a.resumeToken=ed(s,i.resumeToken):i.snapshotVersion.compareTo(pe.min())>0&&(a.readTime=ia(s,i.snapshotVersion.toTimestamp())),a}(this.It,e);const n=A5(this.It,e);n&&(t.labels=n),this.Bo(t)}Ho(e){const t={};t.database=go(this.It),t.removeTarget=e,this.Bo(t)}}class f3 extends ld{constructor(e,t,n,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,a),this.It=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=T5(e.writeResults,e.commitTime),n=ir(e.commitTime);return this.listener.Zo(n,t)}return Ce(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=go(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>S5(this.It,n))};this.Bo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3 extends class{}{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=n,this.It=s,this.nu=!1}su(){if(this.nu)throw new K(C.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.Vo.co(e,t,n,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(C.UNKNOWN,s.toString())})}fo(e,t,n,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.fo(e,t,n,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(C.UNKNOWN,i.toString())})}terminate(){this.nu=!0}}class m3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ur(t),this.ou=!1):Q("OnlineStateTracker",t)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t,n,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.qr(a=>{n.enqueueAndForget(async()=>{fn(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=he(o);l._u.add(4),await ei(l),l.gu.set("Unknown"),l._u.delete(4),await Va(l)}(this))})}),this.gu=new m3(n,s)}}async function Va(r){if(fn(r))for(const e of r.wu)await e(!0)}async function ei(r){for(const e of r.wu)await e(!1)}function ud(r,e){const t=he(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),xl(t)?Tl(t):Xn(t).ko()&&Sl(t,e))}function cd(r,e){const t=he(r),n=Xn(t);t.du.delete(e),n.ko()&&hd(t,e),t.du.size===0&&(n.ko()?n.Fo():fn(t)&&t.gu.set("Unknown"))}function Sl(r,e){r.yu.Ot(e.targetId),Xn(r).zo(e)}function hd(r,e){r.yu.Ot(e),Xn(r).Ho(e)}function Tl(r){r.yu=new g5({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),Xn(r).start(),r.gu.uu()}function xl(r){return fn(r)&&!Xn(r).No()&&r.du.size>0}function fn(r){return he(r)._u.size===0}function fd(r){r.yu=void 0}async function g3(r){r.du.forEach((e,t)=>{Sl(r,e)})}async function v3(r,e){fd(r),xl(r)?(r.gu.hu(e),Tl(r)):r.gu.set("Unknown")}async function y3(r,e,t){if(r.gu.set("Online"),e instanceof Zf&&e.state===2&&e.cause)try{await async function(n,s){const i=s.cause;for(const a of s.targetIds)n.du.has(a)&&(await n.remoteSyncer.rejectListen(a,i),n.du.delete(a),n.yu.removeTarget(a))}(r,e)}catch(n){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await aa(r,n)}else if(e instanceof Oi?r.yu.Gt(e):e instanceof Jf?r.yu.Yt(e):r.yu.Wt(e),!t.isEqual(pe.min()))try{const n=await ad(r.localStore);t.compareTo(n)>=0&&await function(s,i){const a=s.yu.te(i);return a.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const u=s.du.get(l);u&&s.du.set(l,u.withResumeToken(o.resumeToken,i))}}),a.targetMismatches.forEach(o=>{const l=s.du.get(o);if(!l)return;s.du.set(o,l.withResumeToken(it.EMPTY_BYTE_STRING,l.snapshotVersion)),hd(s,o);const u=new Zr(l.target,o,1,l.sequenceNumber);Sl(s,u)}),s.remoteSyncer.applyRemoteEvent(a)}(r,t)}catch(n){Q("RemoteStore","Failed to raise snapshot:",n),await aa(r,n)}}async function aa(r,e,t){if(!Qs(e))throw e;r._u.add(1),await ei(r),r.gu.set("Offline"),t||(t=()=>ad(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await t(),r._u.delete(1),await Va(r)})}function dd(r,e){return e().catch(t=>aa(r,t,e))}async function Ha(r){const e=he(r),t=$r(e);let n=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;w3(e);)try{const s=await n3(e.localStore,n);if(s===null){e.fu.length===0&&t.Fo();break}n=s.batchId,b3(e,s)}catch(s){await aa(e,s)}md(e)&&pd(e)}function w3(r){return fn(r)&&r.fu.length<10}function b3(r,e){r.fu.push(e);const t=$r(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function md(r){return fn(r)&&!$r(r).No()&&r.fu.length>0}function pd(r){$r(r).start()}async function _3(r){$r(r).eu()}async function k3(r){const e=$r(r);for(const t of r.fu)e.Xo(t.mutations)}async function S3(r,e,t){const n=r.fu.shift(),s=wl.from(n,e,t);await dd(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Ha(r)}async function T3(r,e){e&&$r(r).Yo&&await async function(t,n){if(s=n.code,h5(s)&&s!==C.ABORTED){const i=t.fu.shift();$r(t).Oo(),await dd(t,()=>t.remoteSyncer.rejectFailedWrite(i.batchId,n)),await Ha(t)}var s}(r,e),md(r)&&pd(r)}async function Sc(r,e){const t=he(r);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const n=fn(t);t._u.add(3),await ei(t),n&&t.gu.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),await Va(t)}async function x3(r,e){const t=he(r);e?(t._u.delete(2),await Va(t)):e||(t._u.add(2),await ei(t),t.gu.set("Unknown"))}function Xn(r){return r.pu||(r.pu=function(e,t,n){const s=he(e);return s.su(),new h3(t,s.Vo,s.authCredentials,s.appCheckCredentials,s.It,n)}(r.datastore,r.asyncQueue,{Yr:g3.bind(null,r),Zr:v3.bind(null,r),Wo:y3.bind(null,r)}),r.wu.push(async e=>{e?(r.pu.Oo(),xl(r)?Tl(r):r.gu.set("Unknown")):(await r.pu.stop(),fd(r))})),r.pu}function $r(r){return r.Iu||(r.Iu=function(e,t,n){const s=he(e);return s.su(),new f3(t,s.Vo,s.authCredentials,s.appCheckCredentials,s.It,n)}(r.datastore,r.asyncQueue,{Yr:_3.bind(null,r),Zr:T3.bind(null,r),tu:k3.bind(null,r),Zo:S3.bind(null,r)}),r.wu.push(async e=>{e?(r.Iu.Oo(),await Ha(r)):(await r.Iu.stop(),r.fu.length>0&&(Q("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))})),r.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t,n,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,t,n,s,i){const a=Date.now()+n,o=new El(e,t,a,s,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Il(r,e){if(ur("AsyncQueue",`${e}: ${r}`),Qs(r))return new K(C.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Z.comparator(t.key,n.key):(t,n)=>Z.comparator(t.key,n.key),this.keyedMap=is(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new An(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new An;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.Tu=new We(Z.comparator)}track(e){const t=e.doc.key,n=this.Tu.get(t);n?e.type!==0&&n.type===3?this.Tu=this.Tu.insert(t,e):e.type===3&&n.type!==1?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Tu=this.Tu.remove(t):e.type===1&&n.type===2?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ce():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,n)=>{e.push(n)}),e}}class qn{constructor(e,t,n,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l}static fromInitialDocuments(e,t,n,s){const i=[];return t.forEach(a=>{i.push({type:0,doc:a})}),new qn(e,t,An.emptySet(t),i,n,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.Au=void 0,this.listeners=[]}}class I3{constructor(){this.queries=new Yn(e=>zf(e),Pa),this.onlineState="Unknown",this.Ru=new Set}}async function gd(r,e){const t=he(r),n=e.query;let s=!1,i=t.queries.get(n);if(i||(s=!0,i=new E3),s)try{i.Au=await t.onListen(n)}catch(a){const o=Il(a,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(o)}t.queries.set(n,i),i.listeners.push(e),e.bu(t.onlineState),i.Au&&e.Pu(i.Au)&&Al(t)}async function vd(r,e){const t=he(r),n=e.query;let s=!1;const i=t.queries.get(n);if(i){const a=i.listeners.indexOf(e);a>=0&&(i.listeners.splice(a,1),s=i.listeners.length===0)}if(s)return t.queries.delete(n),t.onUnlisten(n)}function A3(r,e){const t=he(r);let n=!1;for(const s of e){const i=s.query,a=t.queries.get(i);if(a){for(const o of a.listeners)o.Pu(s)&&(n=!0);a.Au=s}}n&&Al(t)}function M3(r,e,t){const n=he(r),s=n.queries.get(e);if(s)for(const i of s.listeners)i.onError(t);n.queries.delete(e)}function Al(r){r.Ru.forEach(e=>{e.next()})}class yd{constructor(e,t,n){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new qn(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const n=t!=="Offline";return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||t==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}xu(e){e=qn.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.key=e}}class bd{constructor(e){this.key=e}}class C3{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=ye(),this.mutatedKeys=ye(),this.Ku=Pf(e),this.Gu=new An(this.Ku)}get Qu(){return this.Lu}ju(e,t){const n=t?t.Wu:new Tc,s=t?t.Gu:this.Gu;let i=t?t.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const g=s.get(h),v=gl(this.query,d)?d:null,w=!!g&&this.mutatedKeys.has(g.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;g&&v?g.data.isEqual(v.data)?w!==k&&(n.track({type:3,doc:v}),T=!0):this.zu(g,v)||(n.track({type:2,doc:v}),T=!0,(l&&this.Ku(v,l)>0||u&&this.Ku(v,u)<0)&&(o=!0)):!g&&v?(n.track({type:0,doc:v}),T=!0):g&&!v&&(n.track({type:1,doc:g}),T=!0,(l||u)&&(o=!0)),T&&(v?(a=a.add(v),i=k?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Gu:a,Wu:n,$i:o,mutatedKeys:i}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const s=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const i=e.Wu.Eu();i.sort((u,h)=>function(d,g){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return v(d)-v(g)}(u.type,h.type)||this.Ku(u.doc,h.doc)),this.Hu(n);const a=t?this.Ju():[],o=this.qu.size===0&&this.current?1:0,l=o!==this.Uu;return this.Uu=o,i.length!==0||l?{snapshot:new qn(this.query,e.Gu,s,i,e.mutatedKeys,o===0,l,!1),Yu:a}:{Yu:a}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Tc,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=ye(),this.Gu.forEach(n=>{this.Xu(n.key)&&(this.qu=this.qu.add(n.key))});const t=[];return e.forEach(n=>{this.qu.has(n)||t.push(new bd(n))}),this.qu.forEach(n=>{e.has(n)||t.push(new wd(n))}),t}Zu(e){this.Lu=e.Hi,this.qu=ye();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return qn.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class D3{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class N3{constructor(e){this.key=e,this.ec=!1}}class R3{constructor(e,t,n,s,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.nc={},this.sc=new Yn(o=>zf(o),Pa),this.ic=new Map,this.rc=new Set,this.oc=new We(Z.comparator),this.uc=new Map,this.cc=new bl,this.ac={},this.hc=new Map,this.lc=Fn.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function O3(r,e){const t=H3(r);let n,s;const i=t.sc.get(e);if(i)n=i.targetId,t.sharedClientState.addLocalQueryTarget(n),s=i.view.tc();else{const a=await s3(t.localStore,cr(e));t.isPrimaryClient&&ud(t.remoteStore,a);const o=t.sharedClientState.addLocalQueryTarget(a.targetId);n=a.targetId,s=await $3(t,e,n,o==="current")}return s}async function $3(r,e,t,n){r.dc=(h,d,g)=>async function(v,w,k,T){let x=w.view.ju(k);x.$i&&(x=await bc(v.localStore,w.query,!1).then(({documents:q})=>w.view.ju(q,x)));const O=T&&T.targetChanges.get(w.targetId),U=w.view.applyChanges(x,v.isPrimaryClient,O);return Ec(v,w.targetId,U.Yu),U.snapshot}(r,h,d,g);const s=await bc(r.localStore,e,!0),i=new C3(e,s.Hi),a=i.ju(s.documents),o=Zs.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline"),l=i.applyChanges(a,r.isPrimaryClient,o);Ec(r,t,l.Yu);const u=new D3(e,t,i);return r.sc.set(e,u),r.ic.has(t)?r.ic.get(t).push(e):r.ic.set(t,[e]),l.snapshot}async function L3(r,e){const t=he(r),n=t.sc.get(e),s=t.ic.get(n.targetId);if(s.length>1)return t.ic.set(n.targetId,s.filter(i=>!Pa(i,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(n.targetId),t.sharedClientState.isActiveQueryTarget(n.targetId)||await vo(t.localStore,n.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(n.targetId),cd(t.remoteStore,n.targetId),yo(t,n.targetId)}).catch(Xs)):(yo(t,n.targetId),await vo(t.localStore,n.targetId,!0))}async function z3(r,e,t){const n=j3(r);try{const s=await function(i,a){const o=he(i),l=je.now(),u=a.reduce((g,v)=>g.add(v.key),ye());let h,d;return o.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=hr(),w=ye();return o.Gi.getEntries(g,u).next(k=>{v=k,v.forEach((T,x)=>{x.isValidDocument()||(w=w.add(T))})}).next(()=>o.localDocuments.getOverlayedDocuments(g,v)).next(k=>{h=k;const T=[];for(const x of a){const O=l5(x,h.get(x.key).overlayedDocument);O!=null&&T.push(new qr(x.key,O,Of(O.value.mapValue),zt.exists(!0)))}return o.mutationQueue.addMutationBatch(g,l,T,a)}).next(k=>{d=k;const T=k.applyToLocalDocumentSet(h,w);return o.documentOverlayCache.saveOverlays(g,k.batchId,T)})}).then(()=>({batchId:d.batchId,changes:Yf(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(i,a,o){let l=i.ac[i.currentUser.toKey()];l||(l=new We(Te)),l=l.insert(a,o),i.ac[i.currentUser.toKey()]=l}(n,s.batchId,t),await ti(n,s.changes),await Ha(n.remoteStore)}catch(s){const i=Il(s,"Failed to persist write");t.reject(i)}}async function _d(r,e){const t=he(r);try{const n=await t3(t.localStore,e);e.targetChanges.forEach((s,i)=>{const a=t.uc.get(i);a&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.ec=!0:s.modifiedDocuments.size>0?Ce(a.ec):s.removedDocuments.size>0&&(Ce(a.ec),a.ec=!1))}),await ti(t,n,e)}catch(n){await Xs(n)}}function xc(r,e,t){const n=he(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.sc.forEach((i,a)=>{const o=a.view.bu(e);o.snapshot&&s.push(o.snapshot)}),function(i,a){const o=he(i);o.onlineState=a;let l=!1;o.queries.forEach((u,h)=>{for(const d of h.listeners)d.bu(a)&&(l=!0)}),l&&Al(o)}(n.eventManager,e),s.length&&n.nc.Wo(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function P3(r,e,t){const n=he(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.uc.get(e),i=s&&s.key;if(i){let a=new We(Z.comparator);a=a.insert(i,nt.newNoDocument(i,pe.min()));const o=ye().add(i),l=new qa(pe.min(),new Map,new Ge(Te),a,o);await _d(n,l),n.oc=n.oc.remove(i),n.uc.delete(e),Ml(n)}else await vo(n.localStore,e,!1).then(()=>yo(n,e,t)).catch(Xs)}async function B3(r,e){const t=he(r),n=e.batch.batchId;try{const s=await e3(t.localStore,e);Sd(t,n,null),kd(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await ti(t,s)}catch(s){await Xs(s)}}async function F3(r,e,t){const n=he(r);try{const s=await function(i,a){const o=he(i);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return o.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ce(h!==null),u=h.keys(),o.mutationQueue.removeMutationBatch(l,h))).next(()=>o.mutationQueue.performConsistencyCheck(l)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>o.localDocuments.getDocuments(l,u))})}(n.localStore,e);Sd(n,e,t),kd(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await ti(n,s)}catch(s){await Xs(s)}}function kd(r,e){(r.hc.get(e)||[]).forEach(t=>{t.resolve()}),r.hc.delete(e)}function Sd(r,e,t){const n=he(r);let s=n.ac[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),n.ac[n.currentUser.toKey()]=s}}function yo(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.ic.get(e))r.sc.delete(n),t&&r.nc._c(n,t);r.ic.delete(e),r.isPrimaryClient&&r.cc.ls(e).forEach(n=>{r.cc.containsKey(n)||Td(r,n)})}function Td(r,e){r.rc.delete(e.path.canonicalString());const t=r.oc.get(e);t!==null&&(cd(r.remoteStore,t),r.oc=r.oc.remove(e),r.uc.delete(t),Ml(r))}function Ec(r,e,t){for(const n of t)n instanceof wd?(r.cc.addReference(n.key,e),q3(r,n)):n instanceof bd?(Q("SyncEngine","Document no longer in limbo: "+n.key),r.cc.removeReference(n.key,e),r.cc.containsKey(n.key)||Td(r,n.key)):ce()}function q3(r,e){const t=e.key,n=t.path.canonicalString();r.oc.get(t)||r.rc.has(n)||(Q("SyncEngine","New document in limbo: "+t),r.rc.add(n),Ml(r))}function Ml(r){for(;r.rc.size>0&&r.oc.size<r.maxConcurrentLimboResolutions;){const e=r.rc.values().next().value;r.rc.delete(e);const t=new Z(Re.fromString(e)),n=r.lc.next();r.uc.set(n,new N3(t)),r.oc=r.oc.insert(t,n),ud(r.remoteStore,new Zr(cr(dl(t.path)),n,2,ul.at))}}async function ti(r,e,t){const n=he(r),s=[],i=[],a=[];n.sc.isEmpty()||(n.sc.forEach((o,l)=>{a.push(n.dc(l,e,t).then(u=>{if(u){n.isPrimaryClient&&n.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),s.push(u);const h=kl.Ci(l.targetId,u);i.push(h)}}))}),await Promise.all(a),n.nc.Wo(s),await async function(o,l){const u=he(o);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(l,d=>L.forEach(d.Si,g=>u.persistence.referenceDelegate.addReference(h,d.targetId,g)).next(()=>L.forEach(d.Di,g=>u.persistence.referenceDelegate.removeReference(h,d.targetId,g)))))}catch(h){if(!Qs(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const d=h.targetId;if(!h.fromCache){const g=u.Ui.get(d),v=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(v);u.Ui=u.Ui.insert(d,w)}}}(n.localStore,i))}async function U3(r,e){const t=he(r);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const n=await id(t.localStore,e);t.currentUser=e,function(s,i){s.hc.forEach(a=>{a.forEach(o=>{o.reject(new K(C.CANCELLED,i))})}),s.hc.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ti(t,n.ji)}}function V3(r,e){const t=he(r),n=t.uc.get(e);if(n&&n.ec)return ye().add(n.key);{let s=ye();const i=t.ic.get(e);if(!i)return s;for(const a of i){const o=t.sc.get(a);s=s.unionWith(o.view.Qu)}return s}}function H3(r){const e=he(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_d.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P3.bind(null,e),e.nc.Wo=A3.bind(null,e.eventManager),e.nc._c=M3.bind(null,e.eventManager),e}function j3(r){const e=he(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F3.bind(null,e),e}class G3{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Ua(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Z5(this.persistence,new Q5,e.initialUser,this.It)}gc(e){return new Y5(_l.Bs,this.It)}mc(e){return new a3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class W3{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>xc(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=U3.bind(null,this.syncEngine),await x3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new I3}createDatastore(e){const t=Ua(e.databaseInfo.databaseId),n=(s=e.databaseInfo,new c3(s));var s;return function(i,a,o,l){return new d3(i,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,s=e.asyncQueue,i=o=>xc(this.syncEngine,o,0),a=kc.C()?new kc:new o3,new p3(t,n,s,i,a);var t,n,s,i,a}createSyncEngine(e,t){return function(n,s,i,a,o,l,u){const h=new R3(n,s,i,a,o,l);return u&&(h.fc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=he(e);Q("RemoteStore","RemoteStore shutting down."),t._u.add(5),await ei(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,t,n,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=_t.UNAUTHENTICATED,this.clientId=Cf.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async i=>{Q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(n,i=>(Q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Il(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Y3(r,e){r.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const t=await r.getConfiguration();await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await id(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}async function X3(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Q3(r);Q("FirestoreClient","Initializing OnlineComponentProvider");const n=await r.getConfiguration();await e.initialize(t,n),r.setCredentialChangeListener(s=>Sc(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,i)=>Sc(e.remoteStore,i)),r.onlineComponents=e}async function Q3(r){return r.offlineComponents||(Q("FirestoreClient","Using default OfflineComponentProvider"),await Y3(r,new G3)),r.offlineComponents}async function Ed(r){return r.onlineComponents||(Q("FirestoreClient","Using default OnlineComponentProvider"),await X3(r,new W3)),r.onlineComponents}function J3(r){return Ed(r).then(e=>e.syncEngine)}async function wo(r){const e=await Ed(r),t=e.eventManager;return t.onListen=O3.bind(null,e.syncEngine),t.onUnlisten=L3.bind(null,e.syncEngine),t}function Z3(r,e,t={}){const n=new Dr;return r.asyncQueue.enqueueAndForget(async()=>function(s,i,a,o,l){const u=new xd({next:d=>{i.enqueueAndForget(()=>vd(s,h)),d.fromCache&&o.source==="server"?l.reject(new K(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),h=new yd(a,u,{includeMetadataChanges:!0,Nu:!0});return gd(s,h)}(await wo(r),r.asyncQueue,e,t,n)),n.promise}const Ic=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(r,e,t){if(!t)throw new K(C.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function e6(r,e,t,n){if(e===!0&&n===!0)throw new K(C.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ac(r){if(!Z.isDocumentKey(r))throw new K(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Mc(r){if(Z.isDocumentKey(r))throw new K(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ja(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ce()}function Ht(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new K(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ja(r);throw new K(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){var t;if(e.host===void 0){if(e.ssl!==void 0)throw new K(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,e6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cc(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new xg;switch(t.type){case"gapi":const n=t.client;return new Ag(n,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new K(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ic.get(e);t&&(Q("ComponentProvider","Removing Datastore"),Ic.delete(e),t.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}}class dn{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new dn(this.firestore,e,this._query)}}class Nr extends dn{constructor(e,t,n){super(e,t,dl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new Z(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function Ga(r,e,...t){if(r=gt(r),Id("collection","path",e),r instanceof Cl){const n=Re.fromString(e,...t);return Mc(n),new Nr(r,null,n)}{if(!(r instanceof pt||r instanceof Nr))throw new K(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Re.fromString(e,...t));return Mc(n),new Nr(r.firestore,null,n)}}function kw(r,e,...t){if(r=gt(r),arguments.length===1&&(e=Cf.R()),Id("doc","path",e),r instanceof Cl){const n=Re.fromString(e,...t);return Ac(n),new pt(r,null,new Z(n))}{if(!(r instanceof pt||r instanceof Nr))throw new K(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Re.fromString(e,...t));return Ac(n),new pt(r.firestore,r instanceof Nr?r.converter:null,new Z(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new od(this,"async_queue_retry"),this.jc=()=>{const t=A0();t&&Q("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=A0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=A0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Dr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!Qs(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(n=>{this.qc=n,this.Kc=!1;const s=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(n);throw ur("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.Kc=!1,n))));return this.$c=t,t}enqueueAfterDelay(e,t,n){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const s=El.createAndSchedule(this,e,t,n,i=>this.Jc(i));return this.Uc.push(s),s}Wc(){this.qc&&ce()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Dc(r){return function(e,t){if(typeof e!="object"||e===null)return!1;const n=e;for(const s of t)if(s in n&&typeof n[s]=="function")return!0;return!1}(r,["next","error","complete"])}class on extends Cl{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new t6,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ad(this),this._firestoreClient.terminate()}}function r6(r,e){const t=typeof r=="object"?r:_1(),n=typeof r=="string"?r:e||"(default)";return Bo(t,"firestore").getImmediate({identifier:n})}function Dl(r){return r._firestoreClient||Ad(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Ad(r){var e;const t=r._freezeSettings(),n=function(s,i,a,o){return new Bg(s,i,a,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,t);r._firestoreClient=new K3(r._authCredentials,r._appCheckCredentials,r._queue,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(it.fromBase64String(e))}catch(t){throw new K(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Un(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=/^__.*__$/;class s6{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new qr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Js(e,this.data,t,this.fieldTransforms)}}class Md{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new qr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Cd(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Rl{constructor(e,t,n,s,i,a){this.settings=e,this.databaseId=t,this.It=n,this.ignoreUndefinedProperties=s,i===void 0&&this.ea(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Rl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.sa({path:n,ra:!1});return s.oa(e),s}ua(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.sa({path:n,ra:!1});return s.ea(),s}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return oa(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(Cd(this.na)&&n6.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class i6{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=n||Ua(e)}fa(e,t,n,s=!1){return new Rl({na:e,methodName:t,la:n,path:ot.emptyPath(),ra:!1,ha:s},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Ol(r){const e=r._freezeSettings(),t=Ua(r._databaseId);return new i6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function a6(r,e,t,n,s,i={}){const a=r.fa(i.merge||i.mergeFields?2:0,e,t,s);Ll("Data must be an object, but it was:",a,n);const o=Dd(n,a);let l,u;if(i.merge)l=new Dt(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const g=bo(e,d,t);if(!a.contains(g))throw new K(C.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Rd(h,g)||h.push(g)}l=new Dt(h),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new s6(new kt(o),l,u)}class Ya extends Ka{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ya}}class $l extends Ka{_toFieldTransform(e){return new s5(e.path,new Ms)}isEqual(e){return e instanceof $l}}function o6(r,e,t,n){const s=r.fa(1,e,t);Ll("Data must be an object, but it was:",s,n);const i=[],a=kt.empty();hn(n,(l,u)=>{const h=zl(e,l,t);u=gt(u);const d=s.ua(h);if(u instanceof Ya)i.push(h);else{const g=ri(u,d);g!=null&&(i.push(h),a.set(h,g))}});const o=new Dt(i);return new Md(a,o,s.fieldTransforms)}function l6(r,e,t,n,s,i){const a=r.fa(1,e,t),o=[bo(e,n,t)],l=[s];if(i.length%2!=0)throw new K(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)o.push(bo(e,i[g])),l.push(i[g+1]);const u=[],h=kt.empty();for(let g=o.length-1;g>=0;--g)if(!Rd(u,o[g])){const v=o[g];let w=l[g];w=gt(w);const k=a.ua(v);if(w instanceof Ya)u.push(v);else{const T=ri(w,k);T!=null&&(u.push(v),h.set(v,T))}}const d=new Dt(u);return new Md(h,d,a.fieldTransforms)}function u6(r,e,t,n=!1){return ri(t,r.fa(n?4:3,e))}function ri(r,e){if(Nd(r=gt(r)))return Ll("Unsupported field value:",e,r),Dd(r,e);if(r instanceof Ka)return function(t,n){if(!Cd(n.na))throw n.aa(`${t._methodName}() can only be used with update() and set()`);if(!n.path)throw n.aa(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(n);s&&n.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(t,n){const s=[];let i=0;for(const a of t){let o=ri(a,n.ca(i));o==null&&(o={nullValue:"NULL_VALUE"}),s.push(o),i++}return{arrayValue:{values:s}}}(r,e)}return function(t,n){if((t=gt(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return t5(n.It,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const s=je.fromDate(t);return{timestampValue:ia(n.It,s)}}if(t instanceof je){const s=new je(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ia(n.It,s)}}if(t instanceof Nl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Un)return{bytesValue:ed(n.It,t._byteString)};if(t instanceof pt){const s=n.databaseId,i=t.firestore._databaseId;if(!i.isEqual(s))throw n.aa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yl(t.firestore._databaseId||n.databaseId,t._key.path)}}throw n.aa(`Unsupported field value: ${ja(t)}`)}(r,e)}function Dd(r,e){const t={};return Df(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hn(r,(n,s)=>{const i=ri(s,e.ia(n));i!=null&&(t[n]=i)}),{mapValue:{fields:t}}}function Nd(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof je||r instanceof Nl||r instanceof Un||r instanceof pt||r instanceof Ka)}function Ll(r,e,t){if(!Nd(t)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(t)){const n=ja(t);throw n==="an object"?e.aa(r+" a custom object"):e.aa(r+" "+n)}}function bo(r,e,t){if((e=gt(e))instanceof Wa)return e._internalPath;if(typeof e=="string")return zl(r,e);throw oa("Field path arguments must be of type string or ",r,!1,void 0,t)}const c6=new RegExp("[~\\*/\\[\\]]");function zl(r,e,t){if(e.search(c6)>=0)throw oa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Wa(...e.split("."))._internalPath}catch{throw oa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function oa(r,e,t,n,s){const i=n&&!n.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${n}`),a&&(l+=` in document ${s}`),l+=")"),new K(C.INVALID_ARGUMENT,o+r+l)}function Rd(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,n,s,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xa("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class h6 extends Od{data(){return super.data()}}function Xa(r,e){return typeof e=="string"?zl(r,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $d extends Od{constructor(e,t,n,s,i,a){super(e,t,n,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $i(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Xa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class $i extends $d{data(e={}){return super.data(e)}}class Ld{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new as(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new $i(this._firestore,this._userDataWriter,n.key,n,new as(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(n,s){if(n._snapshot.oldDocs.isEmpty()){let i=0;return n._snapshot.docChanges.map(a=>({type:"added",doc:new $i(n._firestore,n._userDataWriter,a.doc.key,a.doc,new as(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:i++}))}{let i=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const o=new $i(n._firestore,n._userDataWriter,a.doc.key,a.doc,new as(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let l=-1,u=-1;return a.type!==0&&(l=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),u=i.indexOf(a.doc.key)),{type:f6(a.type),doc:o,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function f6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new K(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pd{}function Qa(r,...e){for(const t of e)r=t._apply(r);return r}class d6 extends Pd{constructor(e,t,n){super(),this.wa=e,this.ma=t,this.ga=n,this.type="where"}_apply(e){const t=Ol(e.firestore),n=function(s,i,a,o,l,u,h){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new K(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Rc(h,u);const v=[];for(const w of h)v.push(Nc(o,s,w));d={arrayValue:{values:v}}}else d=Nc(o,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Rc(h,u),d=u6(a,i,h,u==="in"||u==="not-in");const g=dt.create(l,u,d);return function(v,w){if(w.dt()){const T=pl(v);if(T!==null&&!T.isEqual(w.field))throw new K(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${T.toString()}' and '${w.field.toString()}'`);const x=ml(v);x!==null&&Bd(v,w.field,x)}const k=function(T,x){for(const O of T.filters)if(x.indexOf(O.op)>=0)return O.op;return null}(v,function(T){switch(T){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(w.op));if(k!==null)throw k===w.op?new K(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${w.op.toString()}' filter.`):new K(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${w.op.toString()}' filters with '${k.toString()}' filters.`)}(s,g),g}(e._query,"where",t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new dn(e.firestore,e.converter,function(s,i){const a=s.filters.concat([i]);return new Kn(s.path,s.collectionGroup,s.explicitOrderBy.slice(),a,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Pl(r,e,t){const n=e,s=Xa("where",r);return new d6(s,n,t)}class m6 extends Pd{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(n,s,i){if(n.startAt!==null)throw new K(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new K(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new In(s,i);return function(o,l){if(ml(o)===null){const u=pl(o);u!==null&&Bd(o,u,l.field)}}(n,a),a}(e._query,this.wa,this.ya);return new dn(e.firestore,e.converter,function(n,s){const i=n.explicitOrderBy.concat([s]);return new Kn(n.path,n.collectionGroup,i,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(e._query,t))}}function p6(r,e="asc"){const t=e,n=Xa("orderBy",r);return new m6(n,t)}function Nc(r,e,t){if(typeof(t=gt(t))=="string"){if(t==="")throw new K(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lf(e)&&t.indexOf("/")!==-1)throw new K(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Re.fromString(t));if(!Z.isDocumentKey(n))throw new K(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ic(r,new Z(n))}if(t instanceof pt)return ic(r,t._key);throw new K(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ja(t)}.`)}function Rc(r,e){if(!Array.isArray(r)||r.length===0)throw new K(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new K(C.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Bd(r,e,t){if(!t.isEqual(e))throw new K(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{convertValue(e,t="none"){switch(an(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ce()}}convertObject(e,t){const n={};return hn(e.fields,(s,i)=>{n[s]=this.convertValue(i,t)}),n}convertGeoPoint(e){return new Nl(qe(e.latitude),qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Rf(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xs(e));default:return null}}convertTimestamp(e){const t=Or(e);return new je(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Re.fromString(e);Ce(sd(n));const s=new Es(n.get(1),n.get(3)),i=new Z(n.popFirst(5));return s.isEqual(t)||ur(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class Bl extends g6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function Fd(r){r=Ht(r,dn);const e=Ht(r.firestore,on),t=Dl(e),n=new Bl(e);return zd(r._query),Z3(t,r._query).then(s=>new Ld(e,n,r,s))}function Sw(r,e,t){r=Ht(r,pt);const n=Ht(r.firestore,on),s=v6(r.converter,e,t);return Fl(n,[a6(Ol(n),"setDoc",r._key,s,r.converter!==null,t).toMutation(r._key,zt.none())])}function Tw(r,e,t,...n){r=Ht(r,pt);const s=Ht(r.firestore,on),i=Ol(s);let a;return a=typeof(e=gt(e))=="string"||e instanceof Wa?l6(i,"updateDoc",r._key,e,t,n):o6(i,"updateDoc",r._key,e),Fl(s,[a.toMutation(r._key,zt.exists(!0))])}function xw(r){return Fl(Ht(r.firestore,on),[new vl(r._key,zt.none())])}function qd(r,...e){var t,n,s;r=gt(r);let i={includeMetadataChanges:!1},a=0;typeof e[a]!="object"||Dc(e[a])||(i=e[a],a++);const o={includeMetadataChanges:i.includeMetadataChanges};if(Dc(e[a])){const d=e[a];e[a]=(t=d.next)===null||t===void 0?void 0:t.bind(d),e[a+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[a+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,u,h;if(r instanceof pt)u=Ht(r.firestore,on),h=dl(r._key.path),l={next:d=>{e[a]&&e[a](y6(u,r,d))},error:e[a+1],complete:e[a+2]};else{const d=Ht(r,dn);u=Ht(d.firestore,on),h=d._query;const g=new Bl(u);l={next:v=>{e[a]&&e[a](new Ld(u,g,d,v))},error:e[a+1],complete:e[a+2]},zd(r._query)}return function(d,g,v,w){const k=new xd(w),T=new yd(g,k,v);return d.asyncQueue.enqueueAndForget(async()=>gd(await wo(d),T)),()=>{k.Rc(),d.asyncQueue.enqueueAndForget(async()=>vd(await wo(d),T))}}(Dl(u),h,o,l)}function Fl(r,e){return function(t,n){const s=new Dr;return t.asyncQueue.enqueueAndForget(async()=>z3(await J3(t),n,s)),s.promise}(Dl(r),e)}function y6(r,e,t){const n=t.docs.get(e._key),s=new Bl(r);return new $d(r,s,e._key,n,new as(t.hasPendingWrites,t.fromCache),e.converter)}function Ew(){return new $l("serverTimestamp")}(function(r,e=!0){(function(t){Wn=t})(Fs),On(new tn("firestore",(t,{instanceIdentifier:n,options:s})=>{const i=t.getProvider("app").getImmediate(),a=new on(new Eg(t.getProvider("auth-internal")),new Cg(t.getProvider("app-check-internal")),function(o,l){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new K(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es(o.options.projectId,l)}(i,n),i);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Cr(Zu,"3.5.0",r),Cr(Zu,"3.5.0","esm2017")})();function ql(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t}function Ud(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w6=Ud,Vd=new Ps("auth","Firebase",Ud());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new zo("@firebase/auth");function Li(r,...e){Oc.logLevel<=ke.ERROR&&Oc.error(`Auth (${Fs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r,...e){throw Ul(r,...e)}function jt(r,...e){return Ul(r,...e)}function Hd(r,e,t){const n=Object.assign(Object.assign({},w6()),{[e]:t});return new Ps("auth","Firebase",n).create(e,{appName:r.name})}function b6(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Kt(r,"argument-error"),Hd(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ul(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Vd.create(r,...e)}function ue(r,e,...t){if(!r)throw Ul(e,...t)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Li(e),new Error(e)}function fr(r,e){r||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map;function sr(r){fr(r instanceof Function,"Expected a class definition");let e=$c.get(r);return e?(fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$c.set(r,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(r,e){const t=Bo(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(Gi(i,e!=null?e:{}))return s;Kt(s,"already-initialized")}return t.initialize({options:e})}function k6(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(sr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function S6(){return Lc()==="http:"||Lc()==="https:"}function Lc(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S6()||G4()||"connection"in navigator)?navigator.onLine:!0}function x6(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t){this.shortDelay=e,this.longDelay=t,fr(t>e,"Short delay should be less than long delay!"),this.isMobile=j4()||W4()}get(){return T6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r,e){fr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new ni(3e4,6e4);function A6(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ja(r,e,t,n,s={}){return Gd(r,s,async()=>{let i={},a={};n&&(e==="GET"?a=n:i={body:JSON.stringify(n)});const o=Bs(Object.assign({key:r.config.apiKey},a)).slice(1),l=await r._getAdditionalHeaders();return l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode),jd.fetch()(Wd(r,r.config.apiHost,t,o),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Gd(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},E6),e);try{const s=new C6(r),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw bi(r,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bi(r,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw bi(r,"email-already-in-use",a);if(l==="USER_DISABLED")throw bi(r,"user-disabled",a);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Hd(r,h,u);Kt(r,h)}}catch(s){if(s instanceof vr)throw s;Kt(r,"network-request-failed")}}async function M6(r,e,t,n,s={}){const i=await Ja(r,e,t,n,s);return"mfaPendingCredential"in i&&Kt(r,"multi-factor-auth-required",{_serverResponse:i}),i}function Wd(r,e,t,n){const s=`${e}${t}?${n}`;return r.config.emulator?Vl(r.config,s):`${r.config.apiScheme}://${s}`}class C6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(jt(this.auth,"network-request-failed")),I6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bi(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=jt(r,e,n);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(r,e){return Ja(r,"POST","/v1/accounts:delete",e)}async function N6(r,e){return Ja(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(r){if(!!r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R6(r,e=!1){const t=gt(r),n=await t.getIdToken(e),s=Hl(n);ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:fs(M0(s.auth_time)),issuedAtTime:fs(M0(s.iat)),expirationTime:fs(M0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function M0(r){return Number(r)*1e3}function Hl(r){var e;const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Li("JWT malformed, contained fewer than 3 sections"),null;try{const i=V4(n);return i?JSON.parse(i):(Li("Failed to decode base64 JWT payload"),null)}catch(i){return Li("Caught error parsing JWT payload as JSON",(e=i)===null||e===void 0?void 0:e.toString()),null}}function O6(r){const e=Hl(r);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof vr&&$6(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function $6({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(t){((e=t)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fs(this.lastLoginAt),this.creationTime=fs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(r){var e;const t=r.auth,n=await r.getIdToken(),s=await Ns(r,N6(t,{idToken:n}));ue(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];r._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?B6(i.providerUserInfo):[],o=P6(r.providerData,a),l=r.isAnonymous,u=!(r.email&&i.passwordHash)&&!(o!=null&&o.length),h=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Kd(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(r,d)}async function z6(r){const e=gt(r);await la(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P6(r,e){return[...r.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function B6(r){return r.map(e=>{var{providerId:t}=e,n=ql(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(r,e){const t=await Gd(r,{},async()=>{const n=Bs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=r.config,a=Wd(r,s,"/v1/token",`key=${i}`),o=await r._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",jd.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:i}=await F6(e,t);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:i}=t,a=new Rs;return n&&(ue(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),s&&(ue(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rs,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r,e){ue(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class en{constructor(e){var{uid:t,auth:n,stsTokenManager:s}=e,i=ql(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Kd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ns(this,this.stsTokenManager.getToken(this.auth,e));return ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return R6(this,e)}reload(){return z6(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new en(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await la(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ns(this,D6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,s,i,a,o,l,u,h;const d=(n=t.displayName)!==null&&n!==void 0?n:void 0,g=(s=t.email)!==null&&s!==void 0?s:void 0,v=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,w=(a=t.photoURL)!==null&&a!==void 0?a:void 0,k=(o=t.tenantId)!==null&&o!==void 0?o:void 0,T=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=t.createdAt)!==null&&u!==void 0?u:void 0,O=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:U,emailVerified:q,isAnonymous:z,providerData:P,stsTokenManager:Y}=t;ue(U&&Y,e,"internal-error");const ee=Rs.fromJSON(this.name,Y);ue(typeof U=="string",e,"internal-error"),kr(d,e.name),kr(g,e.name),ue(typeof q=="boolean",e,"internal-error"),ue(typeof z=="boolean",e,"internal-error"),kr(v,e.name),kr(w,e.name),kr(k,e.name),kr(T,e.name),kr(x,e.name),kr(O,e.name);const ie=new en({uid:U,auth:e,email:g,emailVerified:q,displayName:d,isAnonymous:z,photoURL:w,phoneNumber:v,tenantId:k,stsTokenManager:ee,createdAt:x,lastLoginAt:O});return P&&Array.isArray(P)&&(ie.providerData=P.map(Ot=>Object.assign({},Ot))),T&&(ie._redirectEventId=T),ie}static async _fromIdTokenResponse(e,t,n=!1){const s=new Rs;s.updateFromServerResponse(t);const i=new en({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await la(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yd.type="NONE";const zc=Yd;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(r,e,t){return`firebase:${r}:${e}:${t}`}class Mn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=zi(this.userKey,s.apiKey,i),this.fullPersistenceKey=zi("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?en._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Mn(sr(zc),e,n);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||sr(zc);const a=zi(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const h=await u._get(a);if(h){const d=en._fromJSON(e,h);u!==i&&(o=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Mn(i,e,n):(i=l[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Mn(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jd(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xd(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(em(e))return"Blackberry";if(tm(e))return"Webos";if(jl(e))return"Safari";if((e.includes("chrome/")||Qd(e))&&!e.includes("edge/"))return"Chrome";if(Zd(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Xd(r=ct()){return/firefox\//i.test(r)}function jl(r=ct()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qd(r=ct()){return/crios\//i.test(r)}function Jd(r=ct()){return/iemobile/i.test(r)}function Zd(r=ct()){return/android/i.test(r)}function em(r=ct()){return/blackberry/i.test(r)}function tm(r=ct()){return/webos/i.test(r)}function Za(r=ct()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function q6(r=ct()){var e;return Za(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U6(){return K4()&&document.documentMode===10}function rm(r=ct()){return Za(r)||Zd(r)||tm(r)||em(r)||/windows phone/i.test(r)||Jd(r)}function V6(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(r,e=[]){let t;switch(r){case"Browser":t=Pc(ct());break;case"Worker":t=`${Pc(ct())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fs}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=i=>new Promise((a,o)=>{try{const l=e(i);a(l)}catch(l){o(l)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){var t;if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(t=s)===null||t===void 0?void 0:t.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bc(this),this.idTokenSubscription=new Bc(this),this.beforeStateQueue=new H6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vd,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sr(t)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Mn.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l==null?void 0:l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){var t;try{await la(e)}catch(n){if(((t=n)===null||t===void 0?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?gt(e):null;return t&&ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ps("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sr(e)||this._popupRedirectResolver;ue(t,this,"argument-error"),this.redirectPersistenceManager=await Mn.create(this,[sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(a,this,"internal-error"),a.then(()=>i(this.currentUser)),typeof t=="function"?e.addObserver(t,n,s):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Gl(r){return gt(r)}class Bc{constructor(e){this.auth=e,this.observer=null,this.addObserver=tp(t=>this.observer=t)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,t){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cn(r,e){return M6(r,"POST","/v1/accounts:signInWithIdp",A6(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="http://localhost";class ln extends sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ln(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=t,i=ql(t,["providerId","signInMethod"]);if(!n||!s)return null;const a=new ln(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Cn(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Cn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cn(e,t)}buildRequest(){const e={requestUri:G6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bs(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Wl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends si{constructor(){super("facebook.com")}static credential(e){return ln._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends si{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ln._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return er.credential(t,n)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends si{constructor(){super("github.com")}static credential(e){return ln._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends si{constructor(){super("twitter.com")}static credential(e,t){return ln._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ir.credential(t,n)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const i=await en._fromIdTokenResponse(e,n,s),a=Fc(n);return new Vn({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=Fc(n);return new Vn({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function Fc(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends vr{constructor(e,t,n,s){var i;super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,ua.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new ua(e,t,n,s)}}function im(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ua._fromErrorAndOperation(r,i,e,n):i})}async function W6(r,e,t=!1){const n=await Ns(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Vn._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(r,e,t=!1){var n;const{auth:s}=r,i="reauthenticate";try{const a=await Ns(r,im(s,i,e,r),t);ue(a.idToken,s,"internal-error");const o=Hl(a.idToken);ue(o,s,"internal-error");const{sub:l}=o;return ue(r.uid===l,s,"user-mismatch"),Vn._forOperation(r,i,a)}catch(a){throw((n=a)===null||n===void 0?void 0:n.code)==="auth/user-not-found"&&Kt(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(r,e,t=!1){const n="signIn",s=await im(r,n,e),i=await Vn._fromIdTokenResponse(r,n,s);return t||await r._updateCurrentUser(i.user),i}function X6(r){return gt(r).signOut()}const ca="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ca,"1"),this.storage.removeItem(ca),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(){const r=ct();return jl(r)||Za(r)}const J6=1e3,Z6=10;class om extends am{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Q6()&&V6(),this.fallbackToPolling=rm(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(n);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const s=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);U6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Z6):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},J6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}om.type="LOCAL";const e7=om;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends am{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lm.type="SESSION";const um=lm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(r){return Promise.all(r.map(async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new e0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:i}=t.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const o=Array.from(a).map(async u=>u(t.origin,i)),l=await t7(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,l)=>{const u=Kl("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(d){const g=d;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(g.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return window}function n7(r){Gt().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return typeof Gt().WorkerGlobalScope<"u"&&typeof Gt().importScripts=="function"}async function s7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i7(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function a7(){return cm()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="firebaseLocalStorageDb",o7=1,ha="firebaseLocalStorage",fm="fbase_key";class ii{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function t0(r,e){return r.transaction([ha],e?"readwrite":"readonly").objectStore(ha)}function l7(){const r=indexedDB.deleteDatabase(hm);return new ii(r).toPromise()}function ko(){const r=indexedDB.open(hm,o7);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(ha,{keyPath:fm})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(ha)?e(n):(n.close(),await l7(),e(await ko()))})})}async function qc(r,e,t){const n=t0(r,!0).put({[fm]:e,value:t});return new ii(n).toPromise()}async function u7(r,e){const t=t0(r,!1).get(e),n=await new ii(t).toPromise();return n===void 0?null:n.value}function Uc(r,e){const t=t0(r,!0).delete(e);return new ii(t).toPromise()}const c7=800,h7=3;class dm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ko(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>h7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e0._getInstance(a7()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await s7(),!this.activeServiceWorker)return;this.sender=new r7(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);!n||((e=n[0])===null||e===void 0?void 0:e.fulfilled)&&((t=n[0])===null||t===void 0?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ko();return await qc(e,ca,"1"),await Uc(e,ca),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>qc(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>u7(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Uc(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=t0(s,!1).getAll();return new ii(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dm.type="LOCAL";const f7=dm;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}function m7(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=s=>{const i=jt("internal-error");i.customData=s,t(i)},n.type="text/javascript",n.charset="UTF-8",d7().appendChild(n)})}function p7(r){return`__${r}${Math.floor(Math.random()*1e6)}`}new ni(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(r,e){return e?sr(e):(ue(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends sm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function g7(r){return Y6(r.auth,new Yl(r),r.bypassAuthState)}function v7(r){const{auth:e,user:t}=r;return ue(t,e,"internal-error"),K6(t,new Yl(r),r.bypassAuthState)}async function y7(r){const{auth:e,user:t}=r;return ue(t,e,"internal-error"),W6(t,new Yl(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g7;case"linkViaPopup":case"linkViaRedirect":return y7;case"reauthViaPopup":case"reauthViaRedirect":return v7;default:Kt(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new ni(2e3,1e4);async function b7(r,e,t){const n=Gl(r);b6(r,e,Wl);const s=mm(n,t);return new Xr(n,"signInViaPopup",e,s).executeNotNull()}class Xr extends pm{constructor(e,t,n,s,i){super(e,t,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Xr.currentPopupAction&&Xr.currentPopupAction.cancel(),Xr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=Kl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,w7.get())};e()}}Xr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7="pendingRedirect",Pi=new Map;class k7 extends pm{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Pi.get(this.auth._key());if(!e){try{const n=await S7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Pi.set(this.auth._key(),e)}return this.bypassAuthState||Pi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S7(r,e){const t=E7(e),n=x7(r);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function T7(r,e){Pi.set(r._key(),e)}function x7(r){return sr(r._redirectPersistence)}function E7(r){return zi(_7,r.config.apiKey,r.name)}async function I7(r,e,t=!1){const n=Gl(r),s=mm(n,e),a=await new k7(n,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=10*60*1e3;class M7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!gm(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(jt(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A7&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vc(e))}saveEventToCache(e){this.cachedEventUids.add(Vc(e)),this.lastProcessedEventTime=Date.now()}}function Vc(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function gm({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function C7(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gm(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(r,e={}){return Ja(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R7=/^https?/;async function O7(r){if(r.config.emulator)return;const{authorizedDomains:e}=await D7(r);for(const t of e)try{if($7(t))return}catch{}Kt(r,"unauthorized-domain")}function $7(r){const e=_o(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!R7.test(t))return!1;if(N7.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=new ni(3e4,6e4);function Hc(){const r=Gt().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function z7(r){return new Promise((e,t)=>{var n,s,i;function a(){Hc(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hc(),t(jt(r,"network-request-failed"))},timeout:L7.get()})}if(!((s=(n=Gt().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Gt().gapi)===null||i===void 0)&&i.load)a();else{const o=p7("iframefcb");return Gt()[o]=()=>{gapi.load?a():t(jt(r,"network-request-failed"))},m7(`https://apis.google.com/js/api.js?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Bi=null,e})}let Bi=null;function P7(r){return Bi=Bi||z7(r),Bi}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=new ni(5e3,15e3),F7="__/auth/iframe",q7="emulator/auth/iframe",U7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H7(r){const e=r.config;ue(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Vl(e,q7):`https://${r.config.authDomain}/${F7}`,n={apiKey:e.apiKey,appName:r.name,v:Fs},s=V7.get(r.config.apiHost);s&&(n.eid=s);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${t}?${Bs(n).slice(1)}`}async function j7(r){const e=await P7(r),t=Gt().gapi;return ue(t,r,"internal-error"),e.open({where:document.body,url:H7(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U7,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const a=jt(r,"network-request-failed"),o=Gt().setTimeout(()=>{i(a)},B7.get());function l(){Gt().clearTimeout(o),s(n)}n.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W7=500,K7=600,Y7="_blank",X7="http://localhost";class jc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q7(r,e,t,n=W7,s=K7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},G7),{width:n.toString(),height:s.toString(),top:i,left:a}),u=ct().toLowerCase();t&&(o=Qd(u)?Y7:t),Xd(u)&&(e=e||X7,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[v,w])=>`${g}${v}=${w},`,"");if(q6(u)&&o!=="_self")return J7(e||"",o),new jc(null);const d=window.open(e||"",o,h);ue(d,r,"popup-blocked");try{d.focus()}catch{}return new jc(d)}function J7(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="__/auth/handler",ev="emulator/auth/handler";function Gc(r,e,t,n,s,i){ue(r.config.authDomain,r,"auth-domain-config-required"),ue(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Fs,eventId:s};if(e instanceof Wl){e.setDefaultLanguage(r.languageCode),a.providerId=e.providerId||"",ep(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(i||{}))a[l]=u}if(e instanceof si){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(a.scopes=l.join(","))}r.tenantId&&(a.tid=r.tenantId);const o=a;for(const l of Object.keys(o))o[l]===void 0&&delete o[l];return`${tv(r)}?${Bs(o).slice(1)}`}function tv({config:r}){return r.emulator?Vl(r,ev):`https://${r.authDomain}/${Z7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="webStorageSupport";class rv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=um,this._completeRedirectFn=I7,this._overrideRedirectResult=T7}async _openPopup(e,t,n,s){var i;fr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=Gc(e,t,n,_o(),s);return Q7(e,a,Kl())}async _openRedirect(e,t,n,s){return await this._originValidation(e),n7(Gc(e,t,n,_o(),s)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(fr(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await j7(e),n=new M7(e);return t.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(C0,{type:C0},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[C0];a!==void 0&&t(!!a),Kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=O7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rm()||jl()||Za()}}const nv=rv;var Wc="@firebase/auth",Kc="0.20.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{var s;e(((s=n)===null||s===void 0?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function av(r){On(new tn("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:i,authDomain:a}=n.options;return((o,l)=>{ue(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),ue(!(a!=null&&a.includes(":")),"argument-error",{appName:o.name});const u={apiKey:i,authDomain:a,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nm(r)},h=new j6(o,l,u);return k6(h,t),h})(n,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),On(new tn("auth-internal",e=>{const t=Gl(e.getProvider("auth").getImmediate());return(n=>new sv(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(Wc,Kc,iv(r)),Cr(Wc,Kc,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(r=_1()){const e=Bo(r,"auth");return e.isInitialized()?e.getImmediate():_6(r,{popupRedirectResolver:nv,persistence:[f7,e7,um]})}av("Browser");const lv=["Giovanni","Antonio","Maxime","Simone","Admin","Marco"],vm=["Giovanni","Admin"],Iw=["New ","Improved ","A better ","Second try on ","Repeated ","Revamped ","Upgraded ","Enhanced ","Refined ","Boosted ","Polished "],Aw=["v0.1"," beta",".com",".Inc","(patent pending)","v0.01","v2.0"," alpha","pre-release"],uv={apiKey:"AIzaSyC23wsoyc023qDbk4lCtPLpK04YEdxl5WQ",authDomain:"order66-6f98d.firebaseapp.com",projectId:"order66-6f98d",storageBucket:"order66-6f98d.appspot.com",messagingSenderId:"938717200292",appId:"1:938717200292:web:e44e24579156d2e4888b31"},ym=e2(uv),r0=r6(ym),Xl=ov(ym),cv=new er;let Pt={logged_in:!1,alias:void 0,color:void 0};const wm=async()=>{await b7(Xl,cv),hv().then(()=>$n("/researchers"))};async function hv(){const r=Qa(Ga(r0,"users"),Pl("email","==",Xl.currentUser.email));(await Fd(r)).forEach(t=>{Pt.alias=t.data().alias,Pt.color=t.data().color,Pt.logged_in=!0})}const fv=()=>{X6(Xl).then(()=>{Pt.alias=void 0,Pt.color=void 0,Pt.logged_in=!1,$n("/")})};async function Mw(r){const e=Qa(Ga(r0,"users"),Pl("alias","==",r)),t=await Fd(e);let n;return t.forEach(s=>{n=s.data().color}),n}async function dv(r){return Pt.alias===r||vm.includes(Pt.alias)}async function mv(){return lv.includes(Pt.alias)}async function pv(){if(Pt.alias!==void 0)return Pt.alias;$n("/denied")}var Yc={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function gv(r){var l;let e,t,n;const s=r[7].default,i=Ye(s,r,r[6],null);let a=[Yc,r[4],{width:r[2]},{height:r[2]},{stroke:r[1]},{"stroke-width":r[3]},{class:t=`lucide-icon lucide lucide-${r[0]} ${(l=r[5].class)!=null?l:""}`}],o={};for(let u=0;u<a.length;u+=1)o=F(o,a[u]);return{c(){e=be("svg"),i&&i.c(),Su(e,o)},m(u,h){A(u,e,h),i&&i.m(e,null),n=!0},p(u,[h]){var d;i&&i.p&&(!n||h&64)&&Qe(i,s,u,u[6],n?Xe(s,u[6],h,null):Je(u[6]),null),Su(e,o=me(a,[Yc,h&16&&u[4],(!n||h&4)&&{width:u[2]},(!n||h&4)&&{height:u[2]},(!n||h&2)&&{stroke:u[1]},(!n||h&8)&&{"stroke-width":u[3]},(!n||h&33&&t!==(t=`lucide-icon lucide lucide-${u[0]} ${(d=u[5].class)!=null?d:""}`))&&{class:t}]))},i(u){n||(M(i,u),n=!0)},o(u){D(i,u),n=!1},d(u){u&&I(e),i&&i.d(u)}}}function vv(r,e,t){const n=["name","color","size","strokeWidth"];let s=ku(e,n),{$$slots:i={},$$scope:a}=e,{name:o}=e,{color:l="currentColor"}=e,{size:u=24}=e,{strokeWidth:h=2}=e;return r.$$set=d=>{t(5,e=F(F({},e),de(d))),t(4,s=ku(e,n)),"name"in d&&t(0,o=d.name),"color"in d&&t(1,l=d.color),"size"in d&&t(2,u=d.size),"strokeWidth"in d&&t(3,h=d.strokeWidth),"$$scope"in d&&t(6,a=d.$$scope)},e=de(e),[o,l,u,h,s,e,a,i]}class tt extends Ee{constructor(e){super(),xe(this,e,vv,gv,Se,{name:0,color:1,size:2,strokeWidth:3})}}function yv(r){let e,t,n,s,i;const a=r[1].default,o=Ye(a,r,r[2],null);return{c(){e=be("polyline"),t=J(),n=be("path"),s=J(),o&&o.c(),E(e,"points","9 11 12 14 22 4"),E(n,"d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11")},m(l,u){A(l,e,u),A(l,t,u),A(l,n,u),A(l,s,u),o&&o.m(l,u),i=!0},p(l,u){o&&o.p&&(!i||u&4)&&Qe(o,a,l,l[2],i?Xe(a,l[2],u,null):Je(l[2]),null)},i(l){i||(M(o,l),i=!0)},o(l){D(o,l),i=!1},d(l){l&&I(e),l&&I(t),l&&I(n),l&&I(s),o&&o.d(l)}}}function wv(r){let e,t;const n=[{name:"check-square"},r[0]];let s={$$slots:{default:[yv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function bv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class Xc extends Ee{constructor(e){super(),xe(this,e,bv,wv,Se,{})}}function _v(r){let e,t,n;const s=r[1].default,i=Ye(s,r,r[2],null);return{c(){e=be("polyline"),t=J(),i&&i.c(),E(e,"points","6 9 12 15 18 9")},m(a,o){A(a,e,o),A(a,t,o),i&&i.m(a,o),n=!0},p(a,o){i&&i.p&&(!n||o&4)&&Qe(i,s,a,a[2],n?Xe(s,a[2],o,null):Je(a[2]),null)},i(a){n||(M(i,a),n=!0)},o(a){D(i,a),n=!1},d(a){a&&I(e),a&&I(t),i&&i.d(a)}}}function kv(r){let e,t;const n=[{name:"chevron-down"},r[0]];let s={$$slots:{default:[_v]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Sv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class Qc extends Ee{constructor(e){super(),xe(this,e,Sv,kv,Se,{})}}function Tv(r){let e,t,n;const s=r[1].default,i=Ye(s,r,r[2],null);return{c(){e=be("polyline"),t=J(),i&&i.c(),E(e,"points","18 15 12 9 6 15")},m(a,o){A(a,e,o),A(a,t,o),i&&i.m(a,o),n=!0},p(a,o){i&&i.p&&(!n||o&4)&&Qe(i,s,a,a[2],n?Xe(s,a[2],o,null):Je(a[2]),null)},i(a){n||(M(i,a),n=!0)},o(a){D(i,a),n=!1},d(a){a&&I(e),a&&I(t),i&&i.d(a)}}}function xv(r){let e,t;const n=[{name:"chevron-up"},r[0]];let s={$$slots:{default:[Tv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Ev(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class Jc extends Ee{constructor(e){super(),xe(this,e,Ev,xv,Se,{})}}function Iv(r){let e,t,n;const s=r[1].default,i=Ye(s,r,r[2],null);return{c(){e=be("circle"),t=J(),i&&i.c(),E(e,"cx","12"),E(e,"cy","12"),E(e,"r","10")},m(a,o){A(a,e,o),A(a,t,o),i&&i.m(a,o),n=!0},p(a,o){i&&i.p&&(!n||o&4)&&Qe(i,s,a,a[2],n?Xe(s,a[2],o,null):Je(a[2]),null)},i(a){n||(M(i,a),n=!0)},o(a){D(i,a),n=!1},d(a){a&&I(e),a&&I(t),i&&i.d(a)}}}function Av(r){let e,t;const n=[{name:"circle"},r[0]];let s={$$slots:{default:[Iv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Mv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class Zc extends Ee{constructor(e){super(),xe(this,e,Mv,Av,Se,{})}}function Cv(r){let e,t,n,s,i;const a=r[1].default,o=Ye(a,r,r[2],null);return{c(){e=be("polyline"),t=J(),n=be("path"),s=J(),o&&o.c(),E(e,"points","9 14 4 9 9 4"),E(n,"d","M20 20v-7a4 4 0 0 0-4-4H4")},m(l,u){A(l,e,u),A(l,t,u),A(l,n,u),A(l,s,u),o&&o.m(l,u),i=!0},p(l,u){o&&o.p&&(!i||u&4)&&Qe(o,a,l,l[2],i?Xe(a,l[2],u,null):Je(l[2]),null)},i(l){i||(M(o,l),i=!0)},o(l){D(o,l),i=!1},d(l){l&&I(e),l&&I(t),l&&I(n),l&&I(s),o&&o.d(l)}}}function Dv(r){let e,t;const n=[{name:"corner-up-left"},r[0]];let s={$$slots:{default:[Cv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Nv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class eh extends Ee{constructor(e){super(),xe(this,e,Nv,Dv,Se,{})}}function Rv(r){let e,t,n,s,i;const a=r[1].default,o=Ye(a,r,r[2],null);return{c(){e=be("path"),t=J(),n=be("path"),s=J(),o&&o.c(),E(e,"d","M12 20h9"),E(n,"d","M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z")},m(l,u){A(l,e,u),A(l,t,u),A(l,n,u),A(l,s,u),o&&o.m(l,u),i=!0},p(l,u){o&&o.p&&(!i||u&4)&&Qe(o,a,l,l[2],i?Xe(a,l[2],u,null):Je(l[2]),null)},i(l){i||(M(o,l),i=!0)},o(l){D(o,l),i=!1},d(l){l&&I(e),l&&I(t),l&&I(n),l&&I(s),o&&o.d(l)}}}function Ov(r){let e,t;const n=[{name:"edit-3"},r[0]];let s={$$slots:{default:[Rv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function $v(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class th extends Ee{constructor(e){super(),xe(this,e,$v,Ov,Se,{})}}function Lv(r){let e,t,n;const s=r[1].default,i=Ye(s,r,r[2],null);return{c(){e=be("path"),t=J(),i&&i.c(),E(e,"d","M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z")},m(a,o){A(a,e,o),A(a,t,o),i&&i.m(a,o),n=!0},p(a,o){i&&i.p&&(!n||o&4)&&Qe(i,s,a,a[2],n?Xe(s,a[2],o,null):Je(a[2]),null)},i(a){n||(M(i,a),n=!0)},o(a){D(i,a),n=!1},d(a){a&&I(e),a&&I(t),i&&i.d(a)}}}function zv(r){let e,t;const n=[{name:"hexagon"},r[0]];let s={$$slots:{default:[Lv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Pv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class rh extends Ee{constructor(e){super(),xe(this,e,Pv,zv,Se,{})}}function Bv(r){let e,t,n,s,i,a,o;const l=r[1].default,u=Ye(l,r,r[2],null);return{c(){e=be("circle"),t=J(),n=be("line"),s=J(),i=be("line"),a=J(),u&&u.c(),E(e,"cx","12"),E(e,"cy","12"),E(e,"r","10"),E(n,"x1","12"),E(n,"y1","16"),E(n,"x2","12"),E(n,"y2","12"),E(i,"x1","12"),E(i,"y1","8"),E(i,"x2","12.01"),E(i,"y2","8")},m(h,d){A(h,e,d),A(h,t,d),A(h,n,d),A(h,s,d),A(h,i,d),A(h,a,d),u&&u.m(h,d),o=!0},p(h,d){u&&u.p&&(!o||d&4)&&Qe(u,l,h,h[2],o?Xe(l,h[2],d,null):Je(h[2]),null)},i(h){o||(M(u,h),o=!0)},o(h){D(u,h),o=!1},d(h){h&&I(e),h&&I(t),h&&I(n),h&&I(s),h&&I(i),h&&I(a),u&&u.d(h)}}}function Fv(r){let e,t;const n=[{name:"info"},r[0]];let s={$$slots:{default:[Bv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function qv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class nh extends Ee{constructor(e){super(),xe(this,e,qv,Fv,Se,{})}}function Uv(r){let e,t,n;const s=r[1].default,i=Ye(s,r,r[2],null);return{c(){e=be("line"),t=J(),i&&i.c(),E(e,"x1","5"),E(e,"y1","12"),E(e,"x2","19"),E(e,"y2","12")},m(a,o){A(a,e,o),A(a,t,o),i&&i.m(a,o),n=!0},p(a,o){i&&i.p&&(!n||o&4)&&Qe(i,s,a,a[2],n?Xe(s,a[2],o,null):Je(a[2]),null)},i(a){n||(M(i,a),n=!0)},o(a){D(i,a),n=!1},d(a){a&&I(e),a&&I(t),i&&i.d(a)}}}function Vv(r){let e,t;const n=[{name:"minus"},r[0]];let s={$$slots:{default:[Uv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Hv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class sh extends Ee{constructor(e){super(),xe(this,e,Hv,Vv,Se,{})}}function jv(r){let e,t,n;const s=r[1].default,i=Ye(s,r,r[2],null);return{c(){e=be("polygon"),t=J(),i&&i.c(),E(e,"points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2")},m(a,o){A(a,e,o),A(a,t,o),i&&i.m(a,o),n=!0},p(a,o){i&&i.p&&(!n||o&4)&&Qe(i,s,a,a[2],n?Xe(s,a[2],o,null):Je(a[2]),null)},i(a){n||(M(i,a),n=!0)},o(a){D(i,a),n=!1},d(a){a&&I(e),a&&I(t),i&&i.d(a)}}}function Gv(r){let e,t;const n=[{name:"octagon"},r[0]];let s={$$slots:{default:[jv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Wv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class ih extends Ee{constructor(e){super(),xe(this,e,Wv,Gv,Se,{})}}function Kv(r){let e,t,n,s,i;const a=r[1].default,o=Ye(a,r,r[2],null);return{c(){e=be("line"),t=J(),n=be("line"),s=J(),o&&o.c(),E(e,"x1","12"),E(e,"y1","5"),E(e,"x2","12"),E(e,"y2","19"),E(n,"x1","5"),E(n,"y1","12"),E(n,"x2","19"),E(n,"y2","12")},m(l,u){A(l,e,u),A(l,t,u),A(l,n,u),A(l,s,u),o&&o.m(l,u),i=!0},p(l,u){o&&o.p&&(!i||u&4)&&Qe(o,a,l,l[2],i?Xe(a,l[2],u,null):Je(l[2]),null)},i(l){i||(M(o,l),i=!0)},o(l){D(o,l),i=!1},d(l){l&&I(e),l&&I(t),l&&I(n),l&&I(s),o&&o.d(l)}}}function Yv(r){let e,t;const n=[{name:"plus"},r[0]];let s={$$slots:{default:[Kv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Xv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class ah extends Ee{constructor(e){super(),xe(this,e,Xv,Yv,Se,{})}}function Qv(r){let e,t,n,s,i,a,o;const l=r[1].default,u=Ye(l,r,r[2],null);return{c(){e=be("polyline"),t=J(),n=be("path"),s=J(),i=be("rect"),a=J(),u&&u.c(),E(e,"points","6 9 6 2 18 2 18 9"),E(n,"d","M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"),E(i,"x","6"),E(i,"y","14"),E(i,"width","12"),E(i,"height","8")},m(h,d){A(h,e,d),A(h,t,d),A(h,n,d),A(h,s,d),A(h,i,d),A(h,a,d),u&&u.m(h,d),o=!0},p(h,d){u&&u.p&&(!o||d&4)&&Qe(u,l,h,h[2],o?Xe(l,h[2],d,null):Je(h[2]),null)},i(h){o||(M(u,h),o=!0)},o(h){D(u,h),o=!1},d(h){h&&I(e),h&&I(t),h&&I(n),h&&I(s),h&&I(i),h&&I(a),u&&u.d(h)}}}function Jv(r){let e,t;const n=[{name:"printer"},r[0]];let s={$$slots:{default:[Qv]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function Zv(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class oh extends Ee{constructor(e){super(),xe(this,e,Zv,Jv,Se,{})}}function e8(r){let e,t,n,s,i;const a=r[1].default,o=Ye(a,r,r[2],null);return{c(){e=be("circle"),t=J(),n=be("line"),s=J(),o&&o.c(),E(e,"cx","11"),E(e,"cy","11"),E(e,"r","8"),E(n,"x1","21"),E(n,"y1","21"),E(n,"x2","16.65"),E(n,"y2","16.65")},m(l,u){A(l,e,u),A(l,t,u),A(l,n,u),A(l,s,u),o&&o.m(l,u),i=!0},p(l,u){o&&o.p&&(!i||u&4)&&Qe(o,a,l,l[2],i?Xe(a,l[2],u,null):Je(l[2]),null)},i(l){i||(M(o,l),i=!0)},o(l){D(o,l),i=!1},d(l){l&&I(e),l&&I(t),l&&I(n),l&&I(s),o&&o.d(l)}}}function t8(r){let e,t;const n=[{name:"search"},r[0]];let s={$$slots:{default:[e8]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function r8(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class lh extends Ee{constructor(e){super(),xe(this,e,r8,t8,Se,{})}}function n8(r){let e,t,n,s,i;const a=r[1].default,o=Ye(a,r,r[2],null);return{c(){e=be("path"),t=J(),n=be("circle"),s=J(),o&&o.c(),E(e,"d","M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"),E(n,"cx","12"),E(n,"cy","12"),E(n,"r","3")},m(l,u){A(l,e,u),A(l,t,u),A(l,n,u),A(l,s,u),o&&o.m(l,u),i=!0},p(l,u){o&&o.p&&(!i||u&4)&&Qe(o,a,l,l[2],i?Xe(a,l[2],u,null):Je(l[2]),null)},i(l){i||(M(o,l),i=!0)},o(l){D(o,l),i=!1},d(l){l&&I(e),l&&I(t),l&&I(n),l&&I(s),o&&o.d(l)}}}function s8(r){let e,t;const n=[{name:"settings"},r[0]];let s={$$slots:{default:[n8]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function i8(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class uh extends Ee{constructor(e){super(),xe(this,e,i8,s8,Se,{})}}function a8(r){let e,t,n;const s=r[1].default,i=Ye(s,r,r[2],null);return{c(){e=be("rect"),t=J(),i&&i.c(),E(e,"x","3"),E(e,"y","3"),E(e,"width","18"),E(e,"height","18"),E(e,"rx","2"),E(e,"ry","2")},m(a,o){A(a,e,o),A(a,t,o),i&&i.m(a,o),n=!0},p(a,o){i&&i.p&&(!n||o&4)&&Qe(i,s,a,a[2],n?Xe(s,a[2],o,null):Je(a[2]),null)},i(a){n||(M(i,a),n=!0)},o(a){D(i,a),n=!1},d(a){a&&I(e),a&&I(t),i&&i.d(a)}}}function o8(r){let e,t;const n=[{name:"square"},r[0]];let s={$$slots:{default:[a8]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function l8(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class fa extends Ee{constructor(e){super(),xe(this,e,l8,o8,Se,{})}}function u8(r){let e,t,n,s,i,a,o,l,u,h,d;const g=r[1].default,v=Ye(g,r,r[2],null);return{c(){e=be("path"),t=J(),n=be("path"),s=J(),i=be("path"),a=J(),o=be("line"),l=J(),u=be("line"),h=J(),v&&v.c(),E(e,"d","M3 6h18"),E(n,"d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"),E(i,"d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"),E(o,"x1","10"),E(o,"y1","11"),E(o,"x2","10"),E(o,"y2","17"),E(u,"x1","14"),E(u,"y1","11"),E(u,"x2","14"),E(u,"y2","17")},m(w,k){A(w,e,k),A(w,t,k),A(w,n,k),A(w,s,k),A(w,i,k),A(w,a,k),A(w,o,k),A(w,l,k),A(w,u,k),A(w,h,k),v&&v.m(w,k),d=!0},p(w,k){v&&v.p&&(!d||k&4)&&Qe(v,g,w,w[2],d?Xe(g,w[2],k,null):Je(w[2]),null)},i(w){d||(M(v,w),d=!0)},o(w){D(v,w),d=!1},d(w){w&&I(e),w&&I(t),w&&I(n),w&&I(s),w&&I(i),w&&I(a),w&&I(o),w&&I(l),w&&I(u),w&&I(h),v&&v.d(w)}}}function c8(r){let e,t;const n=[{name:"trash-2"},r[0]];let s={$$slots:{default:[u8]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function h8(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class ch extends Ee{constructor(e){super(),xe(this,e,h8,c8,Se,{})}}function f8(r){let e,t,n;const s=r[1].default,i=Ye(s,r,r[2],null);return{c(){e=be("path"),t=J(),i&&i.c(),E(e,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z")},m(a,o){A(a,e,o),A(a,t,o),i&&i.m(a,o),n=!0},p(a,o){i&&i.p&&(!n||o&4)&&Qe(i,s,a,a[2],n?Xe(s,a[2],o,null):Je(a[2]),null)},i(a){n||(M(i,a),n=!0)},o(a){D(i,a),n=!1},d(a){a&&I(e),a&&I(t),i&&i.d(a)}}}function d8(r){let e,t;const n=[{name:"triangle"},r[0]];let s={$$slots:{default:[f8]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function m8(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class hh extends Ee{constructor(e){super(),xe(this,e,m8,d8,Se,{})}}function p8(r){let e,t,n,s,i;const a=r[1].default,o=Ye(a,r,r[2],null);return{c(){e=be("path"),t=J(),n=be("circle"),s=J(),o&&o.c(),E(e,"d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"),E(n,"cx","12"),E(n,"cy","7"),E(n,"r","4")},m(l,u){A(l,e,u),A(l,t,u),A(l,n,u),A(l,s,u),o&&o.m(l,u),i=!0},p(l,u){o&&o.p&&(!i||u&4)&&Qe(o,a,l,l[2],i?Xe(a,l[2],u,null):Je(l[2]),null)},i(l){i||(M(o,l),i=!0)},o(l){D(o,l),i=!1},d(l){l&&I(e),l&&I(t),l&&I(n),l&&I(s),o&&o.d(l)}}}function g8(r){let e,t;const n=[{name:"user"},r[0]];let s={$$slots:{default:[p8]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)s=F(s,n[i]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},m(i,a){H(e,i,a),t=!0},p(i,[a]){const o=a&1?me(n,[n[0],ge(i[0])]):{};a&4&&(o.$$scope={dirty:a,ctx:i}),e.$set(o)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){D(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function v8(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{t(0,e=F(F({},e),de(i))),"$$scope"in i&&t(2,s=i.$$scope)},e=de(e),[e,n,s]}class fh extends Ee{constructor(e){super(),xe(this,e,v8,g8,Se,{})}}function y8(r){let e,t,n;var s=fa;function i(a){return{props:{color:"rgba(0,0,0,0)"}}}return s&&(e=new s(i())),{c(){e&&G(e.$$.fragment),t=Ne()},m(a,o){e&&H(e,a,o),A(a,t,o),n=!0},p(a,o){if(s!==(s=fa)){if(e){Ae();const l=e;D(l.$$.fragment,1,0,()=>{j(l,1)}),Me()}s?(e=new s(i()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}},i(a){n||(e&&M(e.$$.fragment,a),n=!0)},o(a){e&&D(e.$$.fragment,a),n=!1},d(a){a&&I(t),e&&j(e,a)}}}function w8(r){let e,t,n;const s=[r[1]];var i=th;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=th)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function b8(r){let e,t,n;const s=[r[1]];var i=eh;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=eh)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function _8(r){let e,t,n;const s=[r[1]];var i=fh;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=fh)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function k8(r){let e,t,n;const s=[r[1]];var i=Xc;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=Xc)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function S8(r){let e,t,n;const s=[r[1]];var i=sh;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=sh)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function T8(r){let e,t,n;const s=[r[1]];var i=ah;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=ah)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function x8(r){let e,t,n;const s=[r[1]];var i=ih;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=ih)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function E8(r){let e,t,n;const s=[r[1]];var i=rh;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=rh)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function I8(r){let e,t,n;const s=[r[1]];var i=fa;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=fa)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function A8(r){let e,t,n;const s=[r[1]];var i=hh;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=hh)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function M8(r){let e,t,n;const s=[r[1]];var i=Zc;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=Zc)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function C8(r){let e,t,n;const s=[r[1]];var i=Qc;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=Qc)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function D8(r){let e,t,n;const s=[r[1]];var i=Jc;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=Jc)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function N8(r){let e,t,n;const s=[r[1]];var i=nh;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=nh)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function R8(r){let e,t,n;const s=[r[1]];var i=ch;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=ch)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function O8(r){let e,t,n;const s=[r[1]];var i=uh;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=uh)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function $8(r){let e,t,n;const s=[r[1]];var i=oh;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=oh)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function L8(r){let e,t,n;const s=[r[1]];var i=lh;function a(o){let l={};for(let u=0;u<s.length;u+=1)l=F(l,s[u]);return{props:l}}return i&&(e=new i(a())),{c(){e&&G(e.$$.fragment),t=Ne()},m(o,l){e&&H(e,o,l),A(o,t,l),n=!0},p(o,l){const u=l&2?me(s,[ge(o[1])]):{};if(i!==(i=lh)){if(e){Ae();const h=e;D(h.$$.fragment,1,0,()=>{j(h,1)}),Me()}i?(e=new i(a()),G(e.$$.fragment),M(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else i&&e.$set(u)},i(o){n||(e&&M(e.$$.fragment,o),n=!0)},o(o){e&&D(e.$$.fragment,o),n=!1},d(o){o&&I(t),e&&j(e,o)}}}function z8(r){let e,t,n,s;const i=[L8,$8,O8,R8,N8,D8,C8,M8,A8,I8,E8,x8,T8,S8,k8,_8,b8,w8,y8],a=[];function o(l,u){return l[0]==="search"?0:l[0]==="printer"?1:l[0]==="settings"?2:l[0]==="trash"?3:l[0]==="info"?4:l[0]==="chevron up"?5:l[0]==="chevron down"?6:l[0]==="circle"?7:l[0]==="triangle"?8:l[0]==="square"?9:l[0]==="hexagon"?10:l[0]==="octagon"?11:l[0]==="plus"?12:l[0]==="minus"?13:l[0]==="check square"?14:l[0]==="user"?15:l[0]==="corner up left"?16:l[0]==="edit"?17:18}return e=o(r),t=a[e]=i[e](r),{c(){t.c(),n=Ne()},m(l,u){a[e].m(l,u),A(l,n,u),s=!0},p(l,[u]){let h=e;e=o(l),e===h?a[e].p(l,u):(Ae(),D(a[h],1,1,()=>{a[h]=null}),Me(),t=a[e],t?t.p(l,u):(t=a[e]=i[e](l),t.c()),M(t,1),t.m(n.parentNode,n))},i(l){s||(M(t),s=!0)},o(l){D(t),s=!1},d(l){a[e].d(l),l&&I(n)}}}function P8(r,e,t){let{name:n}=e;return r.$$set=s=>{t(1,e=F(F({},e),de(s))),"name"in s&&t(0,n=s.name)},e=de(e),[n,e]}class da extends Ee{constructor(e){super(),xe(this,e,P8,z8,Se,{name:0})}}function B8(r){let e,t,n,s,i,a,o,l,u,h,d,g,v,w;return u=new da({props:{name:"user"}}),{c(){e=le("div"),t=le("div"),n=le("div"),n.innerHTML=`<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 193.17 209.06"><defs><style>.cls-1 {
              fill: none;
              stroke: currentColor;
              stroke-miterlimit: 10;
              stroke-width: 18.08px;
            }
          </style></defs><path class="cls-1 svelte-hxlc41" d="M17 96.54a25.31 25.31 0 0 1 35.8-35.8M15.71 95.26l107.41 107.41M51.51 59.46l89.51 89.5M176.72 112.73a25.32 25.32 0 0 1-35.81 35.8M70.69 7.03l106.13 106.13M176.18 95.9a25.31 25.31 0 1 0-35.8-35.8M177.46 94.62 70.05 202.03M141.66 58.82l-89.51 89.5M16.46 112.09a25.31 25.31 0 1 0 35.8 35.8M122.48 6.39 16.35 112.52"></path></svg>`,s=J(),i=le("div"),i.innerHTML=`<div class="main-icon svelte-hxlc41"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 522.12 231.22"><defs><style>.cls-1 {
                fill: none;
                stroke-width: 20px;
                stroke: #000;
                stroke-miterlimit: 10;
              }
            </style></defs><path class="cls-1" d="M18.79 106.77a28 28 0 0 1 39.6-39.59M17.38 105.36l118.79 118.79M56.97 65.76l99 99M195.45 124.68a28 28 0 0 1-39.6 39.6M78.19 7.78l117.38 117.38M194.86 106.07a28 28 0 0 0-39.6-39.6M196.27 104.65 77.48 223.45M156.68 65.05l-99 99M18.2 124a28 28 0 0 0 39.6 39.6M135.46 7.07 18.08 124.45"></path><text transform="translate(262.39 165.06)" style="font-size:40px;font-family:Helvetica-Light,Helvetica;font-weight:300;letter-spacing:.4em">LEASH</text><text transform="translate(221.16 120.9)" style="font-size:80px;stroke-width:2px;font-family:Helvetica-Bold,Helvetica;font-weight:700;letter-spacing:.15em;stroke:#000;stroke-miterlimit:10">TIGHT</text></svg></div>`,a=J(),o=le("div"),l=le("button"),G(u.$$.fragment),h=J(),d=le("p"),d.textContent="Sign in with Google",E(n,"class","back-icon svelte-hxlc41"),E(i,"class","icon-row svelte-hxlc41"),E(d,"class","svelte-hxlc41"),E(l,"class","white svelte-hxlc41"),E(o,"class","button-row svelte-hxlc41"),E(t,"class","login svelte-hxlc41"),E(e,"class","limiter svelte-hxlc41")},m(k,T){A(k,e,T),re(e,t),re(t,n),re(t,s),re(t,i),re(t,a),re(t,o),re(o,l),H(u,l,null),re(l,h),re(l,d),g=!0,v||(w=Ui(l,"click",wm),v=!0)},p:ve,i(k){g||(M(u.$$.fragment,k),g=!0)},o(k){D(u.$$.fragment,k),g=!1},d(k){k&&I(e),j(u),v=!1,w()}}}class F8 extends Ee{constructor(e){super(),xe(this,e,null,B8,Se,{})}}function q8(r){let e;return{c(){e=le("h3"),e.textContent="You dont have permission to view this page"},m(t,n){A(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&I(e)}}}class U8 extends Ee{constructor(e){super(),xe(this,e,null,q8,Se,{})}}class Tt{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new Tt(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class Mt{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new Mt(t,Tt.range(this,e))}}class ${constructor(e,t){this.position=void 0;var n="KaTeX parse error: "+e,s,i=t&&t.loc;if(i&&i.start<=i.end){var a=i.lexer.input;s=i.start;var o=i.end;s===a.length?n+=" at end of input: ":n+=" at position "+(s+1)+": ";var l=a.slice(s,o).replace(/[^]/g,"$&\u0332"),u;s>15?u="\u2026"+a.slice(s-15,s):u=a.slice(0,s);var h;o+15<a.length?h=a.slice(o,o+15)+"\u2026":h=a.slice(o),n+=u+l+h}var d=new Error(n);return d.name="ParseError",d.__proto__=$.prototype,d.position=s,d}}$.prototype.__proto__=Error.prototype;var V8=function(e,t){return e.indexOf(t)!==-1},H8=function(e,t){return e===void 0?t:e},j8=/([A-Z])/g,G8=function(e){return e.replace(j8,"-$1").toLowerCase()},W8={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},K8=/[&><"']/g;function Y8(r){return String(r).replace(K8,e=>W8[e])}var bm=function r(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?r(e.body[0]):e:e.type==="font"?r(e.body):e},X8=function(e){var t=bm(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},Q8=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},J8=function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return t!=null?t[1]:"_relative"},se={contains:V8,deflt:H8,escape:Y8,hyphenate:G8,getBaseElem:bm,isCharacterBox:X8,protocolFromUrl:J8},Fi={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,e)=>(e.push(r),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function Z8(r){if(r.default)return r.default;var e=r.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Ql{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in Fi)if(Fi.hasOwnProperty(t)){var n=Fi[t];this[t]=e[t]!==void 0?n.processor?n.processor(e[t]):e[t]:Z8(n)}}reportNonstrict(e,t,n){var s=this.strict;if(typeof s=="function"&&(s=s(e,t,n)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new $("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),n);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,n){var s=this.strict;if(typeof s=="function")try{s=s(e,t,n)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+t+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=se.protocolFromUrl(e.url));var t=typeof this.trust=="function"?this.trust(e):this.trust;return Boolean(t)}}class Sr{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return Ft[ey[this.id]]}sub(){return Ft[ty[this.id]]}fracNum(){return Ft[ry[this.id]]}fracDen(){return Ft[ny[this.id]]}cramp(){return Ft[sy[this.id]]}text(){return Ft[iy[this.id]]}isTight(){return this.size>=2}}var Jl=0,ma=1,Dn=2,ar=3,Os=4,Ct=5,Hn=6,mt=7,Ft=[new Sr(Jl,0,!1),new Sr(ma,0,!0),new Sr(Dn,1,!1),new Sr(ar,1,!0),new Sr(Os,2,!1),new Sr(Ct,2,!0),new Sr(Hn,3,!1),new Sr(mt,3,!0)],ey=[Os,Ct,Os,Ct,Hn,mt,Hn,mt],ty=[Ct,Ct,Ct,Ct,mt,mt,mt,mt],ry=[Dn,ar,Os,Ct,Hn,mt,Hn,mt],ny=[ar,ar,Ct,Ct,mt,mt,mt,mt],sy=[ma,ma,ar,ar,Ct,Ct,mt,mt],iy=[Jl,ma,Dn,ar,Dn,ar,Dn,ar],te={DISPLAY:Ft[Jl],TEXT:Ft[Dn],SCRIPT:Ft[Os],SCRIPTSCRIPT:Ft[Hn]},So=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ay(r){for(var e=0;e<So.length;e++)for(var t=So[e],n=0;n<t.blocks.length;n++){var s=t.blocks[n];if(r>=s[0]&&r<=s[1])return t.name}return null}var qi=[];So.forEach(r=>r.blocks.forEach(e=>qi.push(...e)));function _m(r){for(var e=0;e<qi.length;e+=2)if(r>=qi[e]&&r<=qi[e+1])return!0;return!1}var kn=80,oy=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},ly=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},uy=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},cy=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},hy=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},fy=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},dy=function(e,t,n){var s=n-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},my=function(e,t,n){t=1e3*t;var s="";switch(e){case"sqrtMain":s=oy(t,kn);break;case"sqrtSize1":s=ly(t,kn);break;case"sqrtSize2":s=uy(t,kn);break;case"sqrtSize3":s=cy(t,kn);break;case"sqrtSize4":s=hy(t,kn);break;case"sqrtTall":s=dy(t,kn,n)}return s},py=function(e,t){switch(e){case"\u239C":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"\u2223":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"\u2225":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"\u239F":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"\u23A2":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"\u23A5":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"\u23AA":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"\u23D0":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"\u2016":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},dh={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},gy=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class ai{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return se.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var Vt={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},_i={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},mh={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function vy(r,e){Vt[r]=e}function Zl(r,e,t){if(!Vt[e])throw new Error("Font metrics not found for font: "+e+".");var n=r.charCodeAt(0),s=Vt[e][n];if(!s&&r[0]in mh&&(n=mh[r[0]].charCodeAt(0),s=Vt[e][n]),!s&&t==="text"&&_m(n)&&(s=Vt[e][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var D0={};function yy(r){var e;if(r>=5?e=0:r>=3?e=1:e=2,!D0[e]){var t=D0[e]={cssEmPerMu:_i.quad[e]/18};for(var n in _i)_i.hasOwnProperty(n)&&(t[n]=_i[n][e])}return D0[e]}var wy=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ph=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],gh=function(e,t){return t.size<2?e:wy[e-1][t.size-1]};class Zt{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Zt.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=ph[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new Zt(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:gh(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:ph[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=gh(Zt.BASESIZE,e);return this.size===t&&this.textSize===Zt.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Zt.BASESIZE?["sizing","reset-size"+this.size,"size"+Zt.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=yy(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Zt.BASESIZE=6;var To={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},by={ex:!0,em:!0,mu:!0},km=function(e){return typeof e!="string"&&(e=e.unit),e in To||e in by||e==="ex"},ze=function(e,t){var n;if(e.unit in To)n=To[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")n=t.fontMetrics().cssEmPerMu;else{var s;if(t.style.isTight()?s=t.havingStyle(t.style.text()):s=t,e.unit==="ex")n=s.fontMetrics().xHeight;else if(e.unit==="em")n=s.fontMetrics().quad;else throw new $("Invalid unit: '"+e.unit+"'");s!==t&&(n*=s.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},B=function(e){return+e.toFixed(4)+"em"},Lr=function(e){return e.filter(t=>t).join(" ")},Sm=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var s=t.getColor();s&&(this.style.color=s)}},Tm=function(e){var t=document.createElement(e);t.className=Lr(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&t.setAttribute(s,this.attributes[s]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},xm=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+se.escape(Lr(this.classes))+'"');var n="";for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=se.hyphenate(s)+":"+this.style[s]+";");n&&(t+=' style="'+se.escape(n)+'"');for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+se.escape(this.attributes[i])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+e+">",t};class oi{constructor(e,t,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Sm.call(this,e,n,s),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return se.contains(this.classes,e)}toNode(){return Tm.call(this,"span")}toMarkup(){return xm.call(this,"span")}}class eu{constructor(e,t,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Sm.call(this,t,s),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return se.contains(this.classes,e)}toNode(){return Tm.call(this,"a")}toMarkup(){return xm.call(this,"a")}}class _y{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return se.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=se.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+se.escape(t)+'"'),e+="'/>",e}}var ky={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class Nt{constructor(e,t,n,s,i,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=s||0,this.skew=i||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=ay(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=ky[this.text])}hasClass(e){return se.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=B(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=Lr(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(t=t||document.createElement("span"),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=se.escape(Lr(this.classes)),t+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=se.hyphenate(s)+":"+this.style[s]+";");n&&(e=!0,t+=' style="'+se.escape(n)+'"');var i=se.escape(this.text);return e?(t+=">",t+=i,t+="</span>",t):i}}class dr{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class zr{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",dh[this.pathName]),t}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+dh[this.pathName]+"'/>"}}class xo{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>",e}}function vh(r){if(r instanceof Nt)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function Sy(r){if(r instanceof oi)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var Ty={bin:1,close:1,inner:1,open:1,punct:1,rel:1},xy={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},De={math:{},text:{}};function c(r,e,t,n,s,i){De[r][s]={font:e,group:t,replace:n},i&&n&&(De[r][n]=De[r][s])}var f="math",N="text",m="main",y="ams",$e="accent-token",W="bin",vt="close",Qn="inner",ne="mathord",Ve="op-token",Et="open",n0="punct",b="rel",yr="spacing",_="textord";c(f,m,b,"\u2261","\\equiv",!0);c(f,m,b,"\u227A","\\prec",!0);c(f,m,b,"\u227B","\\succ",!0);c(f,m,b,"\u223C","\\sim",!0);c(f,m,b,"\u22A5","\\perp");c(f,m,b,"\u2AAF","\\preceq",!0);c(f,m,b,"\u2AB0","\\succeq",!0);c(f,m,b,"\u2243","\\simeq",!0);c(f,m,b,"\u2223","\\mid",!0);c(f,m,b,"\u226A","\\ll",!0);c(f,m,b,"\u226B","\\gg",!0);c(f,m,b,"\u224D","\\asymp",!0);c(f,m,b,"\u2225","\\parallel");c(f,m,b,"\u22C8","\\bowtie",!0);c(f,m,b,"\u2323","\\smile",!0);c(f,m,b,"\u2291","\\sqsubseteq",!0);c(f,m,b,"\u2292","\\sqsupseteq",!0);c(f,m,b,"\u2250","\\doteq",!0);c(f,m,b,"\u2322","\\frown",!0);c(f,m,b,"\u220B","\\ni",!0);c(f,m,b,"\u221D","\\propto",!0);c(f,m,b,"\u22A2","\\vdash",!0);c(f,m,b,"\u22A3","\\dashv",!0);c(f,m,b,"\u220B","\\owns");c(f,m,n0,".","\\ldotp");c(f,m,n0,"\u22C5","\\cdotp");c(f,m,_,"#","\\#");c(N,m,_,"#","\\#");c(f,m,_,"&","\\&");c(N,m,_,"&","\\&");c(f,m,_,"\u2135","\\aleph",!0);c(f,m,_,"\u2200","\\forall",!0);c(f,m,_,"\u210F","\\hbar",!0);c(f,m,_,"\u2203","\\exists",!0);c(f,m,_,"\u2207","\\nabla",!0);c(f,m,_,"\u266D","\\flat",!0);c(f,m,_,"\u2113","\\ell",!0);c(f,m,_,"\u266E","\\natural",!0);c(f,m,_,"\u2663","\\clubsuit",!0);c(f,m,_,"\u2118","\\wp",!0);c(f,m,_,"\u266F","\\sharp",!0);c(f,m,_,"\u2662","\\diamondsuit",!0);c(f,m,_,"\u211C","\\Re",!0);c(f,m,_,"\u2661","\\heartsuit",!0);c(f,m,_,"\u2111","\\Im",!0);c(f,m,_,"\u2660","\\spadesuit",!0);c(f,m,_,"\xA7","\\S",!0);c(N,m,_,"\xA7","\\S");c(f,m,_,"\xB6","\\P",!0);c(N,m,_,"\xB6","\\P");c(f,m,_,"\u2020","\\dag");c(N,m,_,"\u2020","\\dag");c(N,m,_,"\u2020","\\textdagger");c(f,m,_,"\u2021","\\ddag");c(N,m,_,"\u2021","\\ddag");c(N,m,_,"\u2021","\\textdaggerdbl");c(f,m,vt,"\u23B1","\\rmoustache",!0);c(f,m,Et,"\u23B0","\\lmoustache",!0);c(f,m,vt,"\u27EF","\\rgroup",!0);c(f,m,Et,"\u27EE","\\lgroup",!0);c(f,m,W,"\u2213","\\mp",!0);c(f,m,W,"\u2296","\\ominus",!0);c(f,m,W,"\u228E","\\uplus",!0);c(f,m,W,"\u2293","\\sqcap",!0);c(f,m,W,"\u2217","\\ast");c(f,m,W,"\u2294","\\sqcup",!0);c(f,m,W,"\u25EF","\\bigcirc",!0);c(f,m,W,"\u2219","\\bullet",!0);c(f,m,W,"\u2021","\\ddagger");c(f,m,W,"\u2240","\\wr",!0);c(f,m,W,"\u2A3F","\\amalg");c(f,m,W,"&","\\And");c(f,m,b,"\u27F5","\\longleftarrow",!0);c(f,m,b,"\u21D0","\\Leftarrow",!0);c(f,m,b,"\u27F8","\\Longleftarrow",!0);c(f,m,b,"\u27F6","\\longrightarrow",!0);c(f,m,b,"\u21D2","\\Rightarrow",!0);c(f,m,b,"\u27F9","\\Longrightarrow",!0);c(f,m,b,"\u2194","\\leftrightarrow",!0);c(f,m,b,"\u27F7","\\longleftrightarrow",!0);c(f,m,b,"\u21D4","\\Leftrightarrow",!0);c(f,m,b,"\u27FA","\\Longleftrightarrow",!0);c(f,m,b,"\u21A6","\\mapsto",!0);c(f,m,b,"\u27FC","\\longmapsto",!0);c(f,m,b,"\u2197","\\nearrow",!0);c(f,m,b,"\u21A9","\\hookleftarrow",!0);c(f,m,b,"\u21AA","\\hookrightarrow",!0);c(f,m,b,"\u2198","\\searrow",!0);c(f,m,b,"\u21BC","\\leftharpoonup",!0);c(f,m,b,"\u21C0","\\rightharpoonup",!0);c(f,m,b,"\u2199","\\swarrow",!0);c(f,m,b,"\u21BD","\\leftharpoondown",!0);c(f,m,b,"\u21C1","\\rightharpoondown",!0);c(f,m,b,"\u2196","\\nwarrow",!0);c(f,m,b,"\u21CC","\\rightleftharpoons",!0);c(f,y,b,"\u226E","\\nless",!0);c(f,y,b,"\uE010","\\@nleqslant");c(f,y,b,"\uE011","\\@nleqq");c(f,y,b,"\u2A87","\\lneq",!0);c(f,y,b,"\u2268","\\lneqq",!0);c(f,y,b,"\uE00C","\\@lvertneqq");c(f,y,b,"\u22E6","\\lnsim",!0);c(f,y,b,"\u2A89","\\lnapprox",!0);c(f,y,b,"\u2280","\\nprec",!0);c(f,y,b,"\u22E0","\\npreceq",!0);c(f,y,b,"\u22E8","\\precnsim",!0);c(f,y,b,"\u2AB9","\\precnapprox",!0);c(f,y,b,"\u2241","\\nsim",!0);c(f,y,b,"\uE006","\\@nshortmid");c(f,y,b,"\u2224","\\nmid",!0);c(f,y,b,"\u22AC","\\nvdash",!0);c(f,y,b,"\u22AD","\\nvDash",!0);c(f,y,b,"\u22EA","\\ntriangleleft");c(f,y,b,"\u22EC","\\ntrianglelefteq",!0);c(f,y,b,"\u228A","\\subsetneq",!0);c(f,y,b,"\uE01A","\\@varsubsetneq");c(f,y,b,"\u2ACB","\\subsetneqq",!0);c(f,y,b,"\uE017","\\@varsubsetneqq");c(f,y,b,"\u226F","\\ngtr",!0);c(f,y,b,"\uE00F","\\@ngeqslant");c(f,y,b,"\uE00E","\\@ngeqq");c(f,y,b,"\u2A88","\\gneq",!0);c(f,y,b,"\u2269","\\gneqq",!0);c(f,y,b,"\uE00D","\\@gvertneqq");c(f,y,b,"\u22E7","\\gnsim",!0);c(f,y,b,"\u2A8A","\\gnapprox",!0);c(f,y,b,"\u2281","\\nsucc",!0);c(f,y,b,"\u22E1","\\nsucceq",!0);c(f,y,b,"\u22E9","\\succnsim",!0);c(f,y,b,"\u2ABA","\\succnapprox",!0);c(f,y,b,"\u2246","\\ncong",!0);c(f,y,b,"\uE007","\\@nshortparallel");c(f,y,b,"\u2226","\\nparallel",!0);c(f,y,b,"\u22AF","\\nVDash",!0);c(f,y,b,"\u22EB","\\ntriangleright");c(f,y,b,"\u22ED","\\ntrianglerighteq",!0);c(f,y,b,"\uE018","\\@nsupseteqq");c(f,y,b,"\u228B","\\supsetneq",!0);c(f,y,b,"\uE01B","\\@varsupsetneq");c(f,y,b,"\u2ACC","\\supsetneqq",!0);c(f,y,b,"\uE019","\\@varsupsetneqq");c(f,y,b,"\u22AE","\\nVdash",!0);c(f,y,b,"\u2AB5","\\precneqq",!0);c(f,y,b,"\u2AB6","\\succneqq",!0);c(f,y,b,"\uE016","\\@nsubseteqq");c(f,y,W,"\u22B4","\\unlhd");c(f,y,W,"\u22B5","\\unrhd");c(f,y,b,"\u219A","\\nleftarrow",!0);c(f,y,b,"\u219B","\\nrightarrow",!0);c(f,y,b,"\u21CD","\\nLeftarrow",!0);c(f,y,b,"\u21CF","\\nRightarrow",!0);c(f,y,b,"\u21AE","\\nleftrightarrow",!0);c(f,y,b,"\u21CE","\\nLeftrightarrow",!0);c(f,y,b,"\u25B3","\\vartriangle");c(f,y,_,"\u210F","\\hslash");c(f,y,_,"\u25BD","\\triangledown");c(f,y,_,"\u25CA","\\lozenge");c(f,y,_,"\u24C8","\\circledS");c(f,y,_,"\xAE","\\circledR");c(N,y,_,"\xAE","\\circledR");c(f,y,_,"\u2221","\\measuredangle",!0);c(f,y,_,"\u2204","\\nexists");c(f,y,_,"\u2127","\\mho");c(f,y,_,"\u2132","\\Finv",!0);c(f,y,_,"\u2141","\\Game",!0);c(f,y,_,"\u2035","\\backprime");c(f,y,_,"\u25B2","\\blacktriangle");c(f,y,_,"\u25BC","\\blacktriangledown");c(f,y,_,"\u25A0","\\blacksquare");c(f,y,_,"\u29EB","\\blacklozenge");c(f,y,_,"\u2605","\\bigstar");c(f,y,_,"\u2222","\\sphericalangle",!0);c(f,y,_,"\u2201","\\complement",!0);c(f,y,_,"\xF0","\\eth",!0);c(N,m,_,"\xF0","\xF0");c(f,y,_,"\u2571","\\diagup");c(f,y,_,"\u2572","\\diagdown");c(f,y,_,"\u25A1","\\square");c(f,y,_,"\u25A1","\\Box");c(f,y,_,"\u25CA","\\Diamond");c(f,y,_,"\xA5","\\yen",!0);c(N,y,_,"\xA5","\\yen",!0);c(f,y,_,"\u2713","\\checkmark",!0);c(N,y,_,"\u2713","\\checkmark");c(f,y,_,"\u2136","\\beth",!0);c(f,y,_,"\u2138","\\daleth",!0);c(f,y,_,"\u2137","\\gimel",!0);c(f,y,_,"\u03DD","\\digamma",!0);c(f,y,_,"\u03F0","\\varkappa");c(f,y,Et,"\u250C","\\@ulcorner",!0);c(f,y,vt,"\u2510","\\@urcorner",!0);c(f,y,Et,"\u2514","\\@llcorner",!0);c(f,y,vt,"\u2518","\\@lrcorner",!0);c(f,y,b,"\u2266","\\leqq",!0);c(f,y,b,"\u2A7D","\\leqslant",!0);c(f,y,b,"\u2A95","\\eqslantless",!0);c(f,y,b,"\u2272","\\lesssim",!0);c(f,y,b,"\u2A85","\\lessapprox",!0);c(f,y,b,"\u224A","\\approxeq",!0);c(f,y,W,"\u22D6","\\lessdot");c(f,y,b,"\u22D8","\\lll",!0);c(f,y,b,"\u2276","\\lessgtr",!0);c(f,y,b,"\u22DA","\\lesseqgtr",!0);c(f,y,b,"\u2A8B","\\lesseqqgtr",!0);c(f,y,b,"\u2251","\\doteqdot");c(f,y,b,"\u2253","\\risingdotseq",!0);c(f,y,b,"\u2252","\\fallingdotseq",!0);c(f,y,b,"\u223D","\\backsim",!0);c(f,y,b,"\u22CD","\\backsimeq",!0);c(f,y,b,"\u2AC5","\\subseteqq",!0);c(f,y,b,"\u22D0","\\Subset",!0);c(f,y,b,"\u228F","\\sqsubset",!0);c(f,y,b,"\u227C","\\preccurlyeq",!0);c(f,y,b,"\u22DE","\\curlyeqprec",!0);c(f,y,b,"\u227E","\\precsim",!0);c(f,y,b,"\u2AB7","\\precapprox",!0);c(f,y,b,"\u22B2","\\vartriangleleft");c(f,y,b,"\u22B4","\\trianglelefteq");c(f,y,b,"\u22A8","\\vDash",!0);c(f,y,b,"\u22AA","\\Vvdash",!0);c(f,y,b,"\u2323","\\smallsmile");c(f,y,b,"\u2322","\\smallfrown");c(f,y,b,"\u224F","\\bumpeq",!0);c(f,y,b,"\u224E","\\Bumpeq",!0);c(f,y,b,"\u2267","\\geqq",!0);c(f,y,b,"\u2A7E","\\geqslant",!0);c(f,y,b,"\u2A96","\\eqslantgtr",!0);c(f,y,b,"\u2273","\\gtrsim",!0);c(f,y,b,"\u2A86","\\gtrapprox",!0);c(f,y,W,"\u22D7","\\gtrdot");c(f,y,b,"\u22D9","\\ggg",!0);c(f,y,b,"\u2277","\\gtrless",!0);c(f,y,b,"\u22DB","\\gtreqless",!0);c(f,y,b,"\u2A8C","\\gtreqqless",!0);c(f,y,b,"\u2256","\\eqcirc",!0);c(f,y,b,"\u2257","\\circeq",!0);c(f,y,b,"\u225C","\\triangleq",!0);c(f,y,b,"\u223C","\\thicksim");c(f,y,b,"\u2248","\\thickapprox");c(f,y,b,"\u2AC6","\\supseteqq",!0);c(f,y,b,"\u22D1","\\Supset",!0);c(f,y,b,"\u2290","\\sqsupset",!0);c(f,y,b,"\u227D","\\succcurlyeq",!0);c(f,y,b,"\u22DF","\\curlyeqsucc",!0);c(f,y,b,"\u227F","\\succsim",!0);c(f,y,b,"\u2AB8","\\succapprox",!0);c(f,y,b,"\u22B3","\\vartriangleright");c(f,y,b,"\u22B5","\\trianglerighteq");c(f,y,b,"\u22A9","\\Vdash",!0);c(f,y,b,"\u2223","\\shortmid");c(f,y,b,"\u2225","\\shortparallel");c(f,y,b,"\u226C","\\between",!0);c(f,y,b,"\u22D4","\\pitchfork",!0);c(f,y,b,"\u221D","\\varpropto");c(f,y,b,"\u25C0","\\blacktriangleleft");c(f,y,b,"\u2234","\\therefore",!0);c(f,y,b,"\u220D","\\backepsilon");c(f,y,b,"\u25B6","\\blacktriangleright");c(f,y,b,"\u2235","\\because",!0);c(f,y,b,"\u22D8","\\llless");c(f,y,b,"\u22D9","\\gggtr");c(f,y,W,"\u22B2","\\lhd");c(f,y,W,"\u22B3","\\rhd");c(f,y,b,"\u2242","\\eqsim",!0);c(f,m,b,"\u22C8","\\Join");c(f,y,b,"\u2251","\\Doteq",!0);c(f,y,W,"\u2214","\\dotplus",!0);c(f,y,W,"\u2216","\\smallsetminus");c(f,y,W,"\u22D2","\\Cap",!0);c(f,y,W,"\u22D3","\\Cup",!0);c(f,y,W,"\u2A5E","\\doublebarwedge",!0);c(f,y,W,"\u229F","\\boxminus",!0);c(f,y,W,"\u229E","\\boxplus",!0);c(f,y,W,"\u22C7","\\divideontimes",!0);c(f,y,W,"\u22C9","\\ltimes",!0);c(f,y,W,"\u22CA","\\rtimes",!0);c(f,y,W,"\u22CB","\\leftthreetimes",!0);c(f,y,W,"\u22CC","\\rightthreetimes",!0);c(f,y,W,"\u22CF","\\curlywedge",!0);c(f,y,W,"\u22CE","\\curlyvee",!0);c(f,y,W,"\u229D","\\circleddash",!0);c(f,y,W,"\u229B","\\circledast",!0);c(f,y,W,"\u22C5","\\centerdot");c(f,y,W,"\u22BA","\\intercal",!0);c(f,y,W,"\u22D2","\\doublecap");c(f,y,W,"\u22D3","\\doublecup");c(f,y,W,"\u22A0","\\boxtimes",!0);c(f,y,b,"\u21E2","\\dashrightarrow",!0);c(f,y,b,"\u21E0","\\dashleftarrow",!0);c(f,y,b,"\u21C7","\\leftleftarrows",!0);c(f,y,b,"\u21C6","\\leftrightarrows",!0);c(f,y,b,"\u21DA","\\Lleftarrow",!0);c(f,y,b,"\u219E","\\twoheadleftarrow",!0);c(f,y,b,"\u21A2","\\leftarrowtail",!0);c(f,y,b,"\u21AB","\\looparrowleft",!0);c(f,y,b,"\u21CB","\\leftrightharpoons",!0);c(f,y,b,"\u21B6","\\curvearrowleft",!0);c(f,y,b,"\u21BA","\\circlearrowleft",!0);c(f,y,b,"\u21B0","\\Lsh",!0);c(f,y,b,"\u21C8","\\upuparrows",!0);c(f,y,b,"\u21BF","\\upharpoonleft",!0);c(f,y,b,"\u21C3","\\downharpoonleft",!0);c(f,m,b,"\u22B6","\\origof",!0);c(f,m,b,"\u22B7","\\imageof",!0);c(f,y,b,"\u22B8","\\multimap",!0);c(f,y,b,"\u21AD","\\leftrightsquigarrow",!0);c(f,y,b,"\u21C9","\\rightrightarrows",!0);c(f,y,b,"\u21C4","\\rightleftarrows",!0);c(f,y,b,"\u21A0","\\twoheadrightarrow",!0);c(f,y,b,"\u21A3","\\rightarrowtail",!0);c(f,y,b,"\u21AC","\\looparrowright",!0);c(f,y,b,"\u21B7","\\curvearrowright",!0);c(f,y,b,"\u21BB","\\circlearrowright",!0);c(f,y,b,"\u21B1","\\Rsh",!0);c(f,y,b,"\u21CA","\\downdownarrows",!0);c(f,y,b,"\u21BE","\\upharpoonright",!0);c(f,y,b,"\u21C2","\\downharpoonright",!0);c(f,y,b,"\u21DD","\\rightsquigarrow",!0);c(f,y,b,"\u21DD","\\leadsto");c(f,y,b,"\u21DB","\\Rrightarrow",!0);c(f,y,b,"\u21BE","\\restriction");c(f,m,_,"\u2018","`");c(f,m,_,"$","\\$");c(N,m,_,"$","\\$");c(N,m,_,"$","\\textdollar");c(f,m,_,"%","\\%");c(N,m,_,"%","\\%");c(f,m,_,"_","\\_");c(N,m,_,"_","\\_");c(N,m,_,"_","\\textunderscore");c(f,m,_,"\u2220","\\angle",!0);c(f,m,_,"\u221E","\\infty",!0);c(f,m,_,"\u2032","\\prime");c(f,m,_,"\u25B3","\\triangle");c(f,m,_,"\u0393","\\Gamma",!0);c(f,m,_,"\u0394","\\Delta",!0);c(f,m,_,"\u0398","\\Theta",!0);c(f,m,_,"\u039B","\\Lambda",!0);c(f,m,_,"\u039E","\\Xi",!0);c(f,m,_,"\u03A0","\\Pi",!0);c(f,m,_,"\u03A3","\\Sigma",!0);c(f,m,_,"\u03A5","\\Upsilon",!0);c(f,m,_,"\u03A6","\\Phi",!0);c(f,m,_,"\u03A8","\\Psi",!0);c(f,m,_,"\u03A9","\\Omega",!0);c(f,m,_,"A","\u0391");c(f,m,_,"B","\u0392");c(f,m,_,"E","\u0395");c(f,m,_,"Z","\u0396");c(f,m,_,"H","\u0397");c(f,m,_,"I","\u0399");c(f,m,_,"K","\u039A");c(f,m,_,"M","\u039C");c(f,m,_,"N","\u039D");c(f,m,_,"O","\u039F");c(f,m,_,"P","\u03A1");c(f,m,_,"T","\u03A4");c(f,m,_,"X","\u03A7");c(f,m,_,"\xAC","\\neg",!0);c(f,m,_,"\xAC","\\lnot");c(f,m,_,"\u22A4","\\top");c(f,m,_,"\u22A5","\\bot");c(f,m,_,"\u2205","\\emptyset");c(f,y,_,"\u2205","\\varnothing");c(f,m,ne,"\u03B1","\\alpha",!0);c(f,m,ne,"\u03B2","\\beta",!0);c(f,m,ne,"\u03B3","\\gamma",!0);c(f,m,ne,"\u03B4","\\delta",!0);c(f,m,ne,"\u03F5","\\epsilon",!0);c(f,m,ne,"\u03B6","\\zeta",!0);c(f,m,ne,"\u03B7","\\eta",!0);c(f,m,ne,"\u03B8","\\theta",!0);c(f,m,ne,"\u03B9","\\iota",!0);c(f,m,ne,"\u03BA","\\kappa",!0);c(f,m,ne,"\u03BB","\\lambda",!0);c(f,m,ne,"\u03BC","\\mu",!0);c(f,m,ne,"\u03BD","\\nu",!0);c(f,m,ne,"\u03BE","\\xi",!0);c(f,m,ne,"\u03BF","\\omicron",!0);c(f,m,ne,"\u03C0","\\pi",!0);c(f,m,ne,"\u03C1","\\rho",!0);c(f,m,ne,"\u03C3","\\sigma",!0);c(f,m,ne,"\u03C4","\\tau",!0);c(f,m,ne,"\u03C5","\\upsilon",!0);c(f,m,ne,"\u03D5","\\phi",!0);c(f,m,ne,"\u03C7","\\chi",!0);c(f,m,ne,"\u03C8","\\psi",!0);c(f,m,ne,"\u03C9","\\omega",!0);c(f,m,ne,"\u03B5","\\varepsilon",!0);c(f,m,ne,"\u03D1","\\vartheta",!0);c(f,m,ne,"\u03D6","\\varpi",!0);c(f,m,ne,"\u03F1","\\varrho",!0);c(f,m,ne,"\u03C2","\\varsigma",!0);c(f,m,ne,"\u03C6","\\varphi",!0);c(f,m,W,"\u2217","*",!0);c(f,m,W,"+","+");c(f,m,W,"\u2212","-",!0);c(f,m,W,"\u22C5","\\cdot",!0);c(f,m,W,"\u2218","\\circ",!0);c(f,m,W,"\xF7","\\div",!0);c(f,m,W,"\xB1","\\pm",!0);c(f,m,W,"\xD7","\\times",!0);c(f,m,W,"\u2229","\\cap",!0);c(f,m,W,"\u222A","\\cup",!0);c(f,m,W,"\u2216","\\setminus",!0);c(f,m,W,"\u2227","\\land");c(f,m,W,"\u2228","\\lor");c(f,m,W,"\u2227","\\wedge",!0);c(f,m,W,"\u2228","\\vee",!0);c(f,m,_,"\u221A","\\surd");c(f,m,Et,"\u27E8","\\langle",!0);c(f,m,Et,"\u2223","\\lvert");c(f,m,Et,"\u2225","\\lVert");c(f,m,vt,"?","?");c(f,m,vt,"!","!");c(f,m,vt,"\u27E9","\\rangle",!0);c(f,m,vt,"\u2223","\\rvert");c(f,m,vt,"\u2225","\\rVert");c(f,m,b,"=","=");c(f,m,b,":",":");c(f,m,b,"\u2248","\\approx",!0);c(f,m,b,"\u2245","\\cong",!0);c(f,m,b,"\u2265","\\ge");c(f,m,b,"\u2265","\\geq",!0);c(f,m,b,"\u2190","\\gets");c(f,m,b,">","\\gt",!0);c(f,m,b,"\u2208","\\in",!0);c(f,m,b,"\uE020","\\@not");c(f,m,b,"\u2282","\\subset",!0);c(f,m,b,"\u2283","\\supset",!0);c(f,m,b,"\u2286","\\subseteq",!0);c(f,m,b,"\u2287","\\supseteq",!0);c(f,y,b,"\u2288","\\nsubseteq",!0);c(f,y,b,"\u2289","\\nsupseteq",!0);c(f,m,b,"\u22A8","\\models");c(f,m,b,"\u2190","\\leftarrow",!0);c(f,m,b,"\u2264","\\le");c(f,m,b,"\u2264","\\leq",!0);c(f,m,b,"<","\\lt",!0);c(f,m,b,"\u2192","\\rightarrow",!0);c(f,m,b,"\u2192","\\to");c(f,y,b,"\u2271","\\ngeq",!0);c(f,y,b,"\u2270","\\nleq",!0);c(f,m,yr,"\xA0","\\ ");c(f,m,yr,"\xA0","\\space");c(f,m,yr,"\xA0","\\nobreakspace");c(N,m,yr,"\xA0","\\ ");c(N,m,yr,"\xA0"," ");c(N,m,yr,"\xA0","\\space");c(N,m,yr,"\xA0","\\nobreakspace");c(f,m,yr,null,"\\nobreak");c(f,m,yr,null,"\\allowbreak");c(f,m,n0,",",",");c(f,m,n0,";",";");c(f,y,W,"\u22BC","\\barwedge",!0);c(f,y,W,"\u22BB","\\veebar",!0);c(f,m,W,"\u2299","\\odot",!0);c(f,m,W,"\u2295","\\oplus",!0);c(f,m,W,"\u2297","\\otimes",!0);c(f,m,_,"\u2202","\\partial",!0);c(f,m,W,"\u2298","\\oslash",!0);c(f,y,W,"\u229A","\\circledcirc",!0);c(f,y,W,"\u22A1","\\boxdot",!0);c(f,m,W,"\u25B3","\\bigtriangleup");c(f,m,W,"\u25BD","\\bigtriangledown");c(f,m,W,"\u2020","\\dagger");c(f,m,W,"\u22C4","\\diamond");c(f,m,W,"\u22C6","\\star");c(f,m,W,"\u25C3","\\triangleleft");c(f,m,W,"\u25B9","\\triangleright");c(f,m,Et,"{","\\{");c(N,m,_,"{","\\{");c(N,m,_,"{","\\textbraceleft");c(f,m,vt,"}","\\}");c(N,m,_,"}","\\}");c(N,m,_,"}","\\textbraceright");c(f,m,Et,"{","\\lbrace");c(f,m,vt,"}","\\rbrace");c(f,m,Et,"[","\\lbrack",!0);c(N,m,_,"[","\\lbrack",!0);c(f,m,vt,"]","\\rbrack",!0);c(N,m,_,"]","\\rbrack",!0);c(f,m,Et,"(","\\lparen",!0);c(f,m,vt,")","\\rparen",!0);c(N,m,_,"<","\\textless",!0);c(N,m,_,">","\\textgreater",!0);c(f,m,Et,"\u230A","\\lfloor",!0);c(f,m,vt,"\u230B","\\rfloor",!0);c(f,m,Et,"\u2308","\\lceil",!0);c(f,m,vt,"\u2309","\\rceil",!0);c(f,m,_,"\\","\\backslash");c(f,m,_,"\u2223","|");c(f,m,_,"\u2223","\\vert");c(N,m,_,"|","\\textbar",!0);c(f,m,_,"\u2225","\\|");c(f,m,_,"\u2225","\\Vert");c(N,m,_,"\u2225","\\textbardbl");c(N,m,_,"~","\\textasciitilde");c(N,m,_,"\\","\\textbackslash");c(N,m,_,"^","\\textasciicircum");c(f,m,b,"\u2191","\\uparrow",!0);c(f,m,b,"\u21D1","\\Uparrow",!0);c(f,m,b,"\u2193","\\downarrow",!0);c(f,m,b,"\u21D3","\\Downarrow",!0);c(f,m,b,"\u2195","\\updownarrow",!0);c(f,m,b,"\u21D5","\\Updownarrow",!0);c(f,m,Ve,"\u2210","\\coprod");c(f,m,Ve,"\u22C1","\\bigvee");c(f,m,Ve,"\u22C0","\\bigwedge");c(f,m,Ve,"\u2A04","\\biguplus");c(f,m,Ve,"\u22C2","\\bigcap");c(f,m,Ve,"\u22C3","\\bigcup");c(f,m,Ve,"\u222B","\\int");c(f,m,Ve,"\u222B","\\intop");c(f,m,Ve,"\u222C","\\iint");c(f,m,Ve,"\u222D","\\iiint");c(f,m,Ve,"\u220F","\\prod");c(f,m,Ve,"\u2211","\\sum");c(f,m,Ve,"\u2A02","\\bigotimes");c(f,m,Ve,"\u2A01","\\bigoplus");c(f,m,Ve,"\u2A00","\\bigodot");c(f,m,Ve,"\u222E","\\oint");c(f,m,Ve,"\u222F","\\oiint");c(f,m,Ve,"\u2230","\\oiiint");c(f,m,Ve,"\u2A06","\\bigsqcup");c(f,m,Ve,"\u222B","\\smallint");c(N,m,Qn,"\u2026","\\textellipsis");c(f,m,Qn,"\u2026","\\mathellipsis");c(N,m,Qn,"\u2026","\\ldots",!0);c(f,m,Qn,"\u2026","\\ldots",!0);c(f,m,Qn,"\u22EF","\\@cdots",!0);c(f,m,Qn,"\u22F1","\\ddots",!0);c(f,m,_,"\u22EE","\\varvdots");c(f,m,$e,"\u02CA","\\acute");c(f,m,$e,"\u02CB","\\grave");c(f,m,$e,"\xA8","\\ddot");c(f,m,$e,"~","\\tilde");c(f,m,$e,"\u02C9","\\bar");c(f,m,$e,"\u02D8","\\breve");c(f,m,$e,"\u02C7","\\check");c(f,m,$e,"^","\\hat");c(f,m,$e,"\u20D7","\\vec");c(f,m,$e,"\u02D9","\\dot");c(f,m,$e,"\u02DA","\\mathring");c(f,m,ne,"\uE131","\\@imath");c(f,m,ne,"\uE237","\\@jmath");c(f,m,_,"\u0131","\u0131");c(f,m,_,"\u0237","\u0237");c(N,m,_,"\u0131","\\i",!0);c(N,m,_,"\u0237","\\j",!0);c(N,m,_,"\xDF","\\ss",!0);c(N,m,_,"\xE6","\\ae",!0);c(N,m,_,"\u0153","\\oe",!0);c(N,m,_,"\xF8","\\o",!0);c(N,m,_,"\xC6","\\AE",!0);c(N,m,_,"\u0152","\\OE",!0);c(N,m,_,"\xD8","\\O",!0);c(N,m,$e,"\u02CA","\\'");c(N,m,$e,"\u02CB","\\`");c(N,m,$e,"\u02C6","\\^");c(N,m,$e,"\u02DC","\\~");c(N,m,$e,"\u02C9","\\=");c(N,m,$e,"\u02D8","\\u");c(N,m,$e,"\u02D9","\\.");c(N,m,$e,"\xB8","\\c");c(N,m,$e,"\u02DA","\\r");c(N,m,$e,"\u02C7","\\v");c(N,m,$e,"\xA8",'\\"');c(N,m,$e,"\u02DD","\\H");c(N,m,$e,"\u25EF","\\textcircled");var Em={"--":!0,"---":!0,"``":!0,"''":!0};c(N,m,_,"\u2013","--",!0);c(N,m,_,"\u2013","\\textendash");c(N,m,_,"\u2014","---",!0);c(N,m,_,"\u2014","\\textemdash");c(N,m,_,"\u2018","`",!0);c(N,m,_,"\u2018","\\textquoteleft");c(N,m,_,"\u2019","'",!0);c(N,m,_,"\u2019","\\textquoteright");c(N,m,_,"\u201C","``",!0);c(N,m,_,"\u201C","\\textquotedblleft");c(N,m,_,"\u201D","''",!0);c(N,m,_,"\u201D","\\textquotedblright");c(f,m,_,"\xB0","\\degree",!0);c(N,m,_,"\xB0","\\degree");c(N,m,_,"\xB0","\\textdegree",!0);c(f,m,_,"\xA3","\\pounds");c(f,m,_,"\xA3","\\mathsterling",!0);c(N,m,_,"\xA3","\\pounds");c(N,m,_,"\xA3","\\textsterling",!0);c(f,y,_,"\u2720","\\maltese");c(N,y,_,"\u2720","\\maltese");var yh='0123456789/@."';for(var N0=0;N0<yh.length;N0++){var wh=yh.charAt(N0);c(f,m,_,wh,wh)}var bh='0123456789!@*()-=+";:?/.,';for(var R0=0;R0<bh.length;R0++){var _h=bh.charAt(R0);c(N,m,_,_h,_h)}var pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var O0=0;O0<pa.length;O0++){var ki=pa.charAt(O0);c(f,m,ne,ki,ki),c(N,m,_,ki,ki)}c(f,y,_,"C","\u2102");c(N,y,_,"C","\u2102");c(f,y,_,"H","\u210D");c(N,y,_,"H","\u210D");c(f,y,_,"N","\u2115");c(N,y,_,"N","\u2115");c(f,y,_,"P","\u2119");c(N,y,_,"P","\u2119");c(f,y,_,"Q","\u211A");c(N,y,_,"Q","\u211A");c(f,y,_,"R","\u211D");c(N,y,_,"R","\u211D");c(f,y,_,"Z","\u2124");c(N,y,_,"Z","\u2124");c(f,m,ne,"h","\u210E");c(N,m,ne,"h","\u210E");var ae="";for(var wt=0;wt<pa.length;wt++){var Be=pa.charAt(wt);ae=String.fromCharCode(55349,56320+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae),ae=String.fromCharCode(55349,56372+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae),ae=String.fromCharCode(55349,56424+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae),ae=String.fromCharCode(55349,56580+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae),ae=String.fromCharCode(55349,56736+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae),ae=String.fromCharCode(55349,56788+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae),ae=String.fromCharCode(55349,56840+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae),ae=String.fromCharCode(55349,56944+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae),wt<26&&(ae=String.fromCharCode(55349,56632+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae),ae=String.fromCharCode(55349,56476+wt),c(f,m,ne,Be,ae),c(N,m,_,Be,ae))}ae=String.fromCharCode(55349,56668);c(f,m,ne,"k",ae);c(N,m,_,"k",ae);for(var Hr=0;Hr<10;Hr++){var Tr=Hr.toString();ae=String.fromCharCode(55349,57294+Hr),c(f,m,ne,Tr,ae),c(N,m,_,Tr,ae),ae=String.fromCharCode(55349,57314+Hr),c(f,m,ne,Tr,ae),c(N,m,_,Tr,ae),ae=String.fromCharCode(55349,57324+Hr),c(f,m,ne,Tr,ae),c(N,m,_,Tr,ae),ae=String.fromCharCode(55349,57334+Hr),c(f,m,ne,Tr,ae),c(N,m,_,Tr,ae)}var Eo="\xD0\xDE\xFE";for(var $0=0;$0<Eo.length;$0++){var Si=Eo.charAt($0);c(f,m,ne,Si,Si),c(N,m,_,Si,Si)}var Ti=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],kh=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Ey=function(e,t){var n=e.charCodeAt(0),s=e.charCodeAt(1),i=(n-55296)*1024+(s-56320)+65536,a=t==="math"?0:1;if(119808<=i&&i<120484){var o=Math.floor((i-119808)/26);return[Ti[o][2],Ti[o][a]]}else if(120782<=i&&i<=120831){var l=Math.floor((i-120782)/10);return[kh[l][2],kh[l][a]]}else{if(i===120485||i===120486)return[Ti[0][2],Ti[0][a]];if(120486<i&&i<120782)return["",""];throw new $("Unsupported character: "+e)}},s0=function(e,t,n){return De[n][e]&&De[n][e].replace&&(e=De[n][e].replace),{value:e,metrics:Zl(e,t,n)}},Lt=function(e,t,n,s,i){var a=s0(e,t,n),o=a.metrics;e=a.value;var l;if(o){var u=o.italic;(n==="text"||s&&s.font==="mathit")&&(u=0),l=new Nt(e,o.height,o.depth,u,o.skew,o.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+n+"'")),l=new Nt(e,0,0,0,0,0,i);if(s){l.maxFontSize=s.sizeMultiplier,s.style.isTight()&&l.classes.push("mtight");var h=s.getColor();h&&(l.style.color=h)}return l},Iy=function(e,t,n,s){return s===void 0&&(s=[]),n.font==="boldsymbol"&&s0(e,"Main-Bold",t).metrics?Lt(e,"Main-Bold",t,n,s.concat(["mathbf"])):e==="\\"||De[t][e].font==="main"?Lt(e,"Main-Regular",t,n,s):Lt(e,"AMS-Regular",t,n,s.concat(["amsrm"]))},Ay=function(e,t,n,s,i){return i!=="textord"&&s0(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},My=function(e,t,n){var s=e.mode,i=e.text,a=["mord"],o=s==="math"||s==="text"&&t.font,l=o?t.font:t.fontFamily;if(i.charCodeAt(0)===55349){var[u,h]=Ey(i,s);return Lt(i,u,s,t,a.concat(h))}else if(l){var d,g;if(l==="boldsymbol"){var v=Ay(i,s,t,a,n);d=v.fontName,g=[v.fontClass]}else o?(d=Mm[l].fontName,g=[l]):(d=xi(l,t.fontWeight,t.fontShape),g=[l,t.fontWeight,t.fontShape]);if(s0(i,d,s).metrics)return Lt(i,d,s,t,a.concat(g));if(Em.hasOwnProperty(i)&&d.slice(0,10)==="Typewriter"){for(var w=[],k=0;k<i.length;k++)w.push(Lt(i[k],d,s,t,a.concat(g)));return Am(w)}}if(n==="mathord")return Lt(i,"Math-Italic",s,t,a.concat(["mathnormal"]));if(n==="textord"){var T=De[s][i]&&De[s][i].font;if(T==="ams"){var x=xi("amsrm",t.fontWeight,t.fontShape);return Lt(i,x,s,t,a.concat("amsrm",t.fontWeight,t.fontShape))}else if(T==="main"||!T){var O=xi("textrm",t.fontWeight,t.fontShape);return Lt(i,O,s,t,a.concat(t.fontWeight,t.fontShape))}else{var U=xi(T,t.fontWeight,t.fontShape);return Lt(i,U,s,t,a.concat(U,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},Cy=(r,e)=>{if(Lr(r.classes)!==Lr(e.classes)||r.skew!==e.skew||r.maxFontSize!==e.maxFontSize)return!1;if(r.classes.length===1){var t=r.classes[0];if(t==="mbin"||t==="mord")return!1}for(var n in r.style)if(r.style.hasOwnProperty(n)&&r.style[n]!==e.style[n])return!1;for(var s in e.style)if(e.style.hasOwnProperty(s)&&r.style[s]!==e.style[s])return!1;return!0},Dy=r=>{for(var e=0;e<r.length-1;e++){var t=r[e],n=r[e+1];t instanceof Nt&&n instanceof Nt&&Cy(t,n)&&(t.text+=n.text,t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t.italic=n.italic,r.splice(e+1,1),e--)}return r},tu=function(e){for(var t=0,n=0,s=0,i=0;i<e.children.length;i++){var a=e.children[i];a.height>t&&(t=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>s&&(s=a.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=s},bt=function(e,t,n,s){var i=new oi(e,t,n,s);return tu(i),i},Im=(r,e,t,n)=>new oi(r,e,t,n),Ny=function(e,t,n){var s=bt([e],[],t);return s.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),s.style.borderBottomWidth=B(s.height),s.maxFontSize=1,s},Ry=function(e,t,n,s){var i=new eu(e,t,n,s);return tu(i),i},Am=function(e){var t=new ai(e);return tu(t),t},Oy=function(e,t){return e instanceof ai?bt([],[e],t):e},$y=function(e){if(e.positionType==="individualShift"){for(var t=e.children,n=[t[0]],s=-t[0].shift-t[0].elem.depth,i=s,a=1;a<t.length;a++){var o=-t[a].shift-i-t[a].elem.depth,l=o-(t[a-1].elem.height+t[a-1].elem.depth);i=i+o,n.push({type:"kern",size:l}),n.push(t[a])}return{children:n,depth:s}}var u;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var g=e.children[d];h-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var v=e.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-v.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-v.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},Ly=function(e,t){for(var{children:n,depth:s}=$y(e),i=0,a=0;a<n.length;a++){var o=n[a];if(o.type==="elem"){var l=o.elem;i=Math.max(i,l.maxFontSize,l.height)}}i+=2;var u=bt(["pstrut"],[]);u.style.height=B(i);for(var h=[],d=s,g=s,v=s,w=0;w<n.length;w++){var k=n[w];if(k.type==="kern")v+=k.size;else{var T=k.elem,x=k.wrapperClasses||[],O=k.wrapperStyle||{},U=bt(x,[u,T],void 0,O);U.style.top=B(-i-v-T.depth),k.marginLeft&&(U.style.marginLeft=k.marginLeft),k.marginRight&&(U.style.marginRight=k.marginRight),h.push(U),v+=T.height+T.depth}d=Math.min(d,v),g=Math.max(g,v)}var q=bt(["vlist"],h);q.style.height=B(g);var z;if(d<0){var P=bt([],[]),Y=bt(["vlist"],[P]);Y.style.height=B(-d);var ee=bt(["vlist-s"],[new Nt("\u200B")]);z=[bt(["vlist-r"],[q,ee]),bt(["vlist-r"],[Y])]}else z=[bt(["vlist-r"],[q])];var ie=bt(["vlist-t"],z);return z.length===2&&ie.classes.push("vlist-t2"),ie.height=g,ie.depth=-d,ie},zy=(r,e)=>{var t=bt(["mspace"],[],e),n=ze(r,e);return t.style.marginRight=B(n),t},xi=function(e,t,n){var s="";switch(e){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=e}var i;return t==="textbf"&&n==="textit"?i="BoldItalic":t==="textbf"?i="Bold":t==="textit"?i="Italic":i="Regular",s+"-"+i},Mm={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Cm={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Py=function(e,t){var[n,s,i]=Cm[e],a=new zr(n),o=new dr([a],{width:B(s),height:B(i),style:"width:"+B(s),viewBox:"0 0 "+1e3*s+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),l=Im(["overlay"],[o],t);return l.height=i,l.style.height=B(i),l.style.width=B(s),l},S={fontMap:Mm,makeSymbol:Lt,mathsym:Iy,makeSpan:bt,makeSvgSpan:Im,makeLineSpan:Ny,makeAnchor:Ry,makeFragment:Am,wrapFragment:Oy,makeVList:Ly,makeOrd:My,makeGlue:zy,staticSvg:Py,svgData:Cm,tryCombineChars:Dy},Le={number:3,unit:"mu"},jr={number:4,unit:"mu"},Jt={number:5,unit:"mu"},By={mord:{mop:Le,mbin:jr,mrel:Jt,minner:Le},mop:{mord:Le,mop:Le,mrel:Jt,minner:Le},mbin:{mord:jr,mop:jr,mopen:jr,minner:jr},mrel:{mord:Jt,mop:Jt,mopen:Jt,minner:Jt},mopen:{},mclose:{mop:Le,mbin:jr,mrel:Jt,minner:Le},mpunct:{mord:Le,mop:Le,mrel:Jt,mopen:Le,mclose:Le,mpunct:Le,minner:Le},minner:{mord:Le,mop:Le,mbin:jr,mrel:Jt,mopen:Le,mpunct:Le,minner:Le}},Fy={mord:{mop:Le},mop:{mord:Le,mop:Le},mbin:{},mrel:{},mopen:{},mclose:{mop:Le},mpunct:{},minner:{mop:Le}},Dm={},ga={},va={};function V(r){for(var{type:e,names:t,props:n,handler:s,htmlBuilder:i,mathmlBuilder:a}=r,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:s},l=0;l<t.length;++l)Dm[t[l]]=o;e&&(i&&(ga[e]=i),a&&(va[e]=a))}function mn(r){var{type:e,htmlBuilder:t,mathmlBuilder:n}=r;V({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:n})}var ya=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Pe=function(e){return e.type==="ordgroup"?e.body:[e]},mr=S.makeSpan,qy=["leftmost","mbin","mopen","mrel","mop","mpunct"],Uy=["rightmost","mrel","mclose","mpunct"],Vy={display:te.DISPLAY,text:te.TEXT,script:te.SCRIPT,scriptscript:te.SCRIPTSCRIPT},Hy={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ke=function(e,t,n,s){s===void 0&&(s=[null,null]);for(var i=[],a=0;a<e.length;a++){var o=_e(e[a],t);if(o instanceof ai){var l=o.children;i.push(...l)}else i.push(o)}if(S.tryCombineChars(i),!n)return i;var u=t;if(e.length===1){var h=e[0];h.type==="sizing"?u=t.havingSize(h.size):h.type==="styling"&&(u=t.havingStyle(Vy[h.style]))}var d=mr([s[0]||"leftmost"],[],t),g=mr([s[1]||"rightmost"],[],t),v=n==="root";return Sh(i,(w,k)=>{var T=k.classes[0],x=w.classes[0];T==="mbin"&&se.contains(Uy,x)?k.classes[0]="mord":x==="mbin"&&se.contains(qy,T)&&(w.classes[0]="mord")},{node:d},g,v),Sh(i,(w,k)=>{var T=Io(k),x=Io(w),O=T&&x?w.hasClass("mtight")?Fy[T][x]:By[T][x]:null;if(O)return S.makeGlue(O,u)},{node:d},g,v),i},Sh=function r(e,t,n,s,i){s&&e.push(s);for(var a=0;a<e.length;a++){var o=e[a],l=Nm(o);if(l){r(l.children,t,n,null,i);continue}var u=!o.hasClass("mspace");if(u){var h=t(o,n.node);h&&(n.insertAfter?n.insertAfter(h):(e.unshift(h),a++))}u?n.node=o:i&&o.hasClass("newline")&&(n.node=mr(["leftmost"])),n.insertAfter=(d=>g=>{e.splice(d+1,0,g),a++})(a)}s&&e.pop()},Nm=function(e){return e instanceof ai||e instanceof eu||e instanceof oi&&e.hasClass("enclosing")?e:null},jy=function r(e,t){var n=Nm(e);if(n){var s=n.children;if(s.length){if(t==="right")return r(s[s.length-1],"right");if(t==="left")return r(s[0],"left")}}return e},Io=function(e,t){return e?(t&&(e=jy(e,t)),Hy[e.classes[0]]||null):null},$s=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return mr(t.concat(n))},_e=function(e,t,n){if(!e)return mr();if(ga[e.type]){var s=ga[e.type](e,t);if(n&&t.size!==n.size){s=mr(t.sizingClasses(n),[s],t);var i=t.sizeMultiplier/n.sizeMultiplier;s.height*=i,s.depth*=i}return s}else throw new $("Got group of unknown type: '"+e.type+"'")};function Ei(r,e){var t=mr(["base"],r,e),n=mr(["strut"]);return n.style.height=B(t.height+t.depth),t.depth&&(n.style.verticalAlign=B(-t.depth)),t.children.unshift(n),t}function Ao(r,e){var t=null;r.length===1&&r[0].type==="tag"&&(t=r[0].tag,r=r[0].body);var n=Ke(r,e,"root"),s;n.length===2&&n[1].hasClass("tag")&&(s=n.pop());for(var i=[],a=[],o=0;o<n.length;o++)if(a.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var l=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,a.push(n[o]),n[o].hasClass("nobreak")&&(l=!0);l||(i.push(Ei(a,e)),a=[])}else n[o].hasClass("newline")&&(a.pop(),a.length>0&&(i.push(Ei(a,e)),a=[]),i.push(n[o]));a.length>0&&i.push(Ei(a,e));var u;t?(u=Ei(Ke(t,e,!0)),u.classes=["tag"],i.push(u)):s&&i.push(s);var h=mr(["katex-html"],i);if(h.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=B(h.height+h.depth),h.depth&&(d.style.verticalAlign=B(-h.depth))}return h}function Rm(r){return new ai(r)}class At{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=Lr(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=se.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+se.escape(Lr(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class ds{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return se.escape(this.toText())}toText(){return this.text}}class Gy{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",B(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+B(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var R={MathNode:At,TextNode:ds,SpaceNode:Gy,newDocumentFragment:Rm},Rt=function(e,t,n){return De[t][e]&&De[t][e].replace&&e.charCodeAt(0)!==55349&&!(Em.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=De[t][e].replace),new R.TextNode(e)},ru=function(e){return e.length===1?e[0]:new R.MathNode("mrow",e)},nu=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var n=t.font;if(!n||n==="mathnormal")return null;var s=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var i=e.text;if(se.contains(["\\imath","\\jmath"],i))return null;De[s][i]&&De[s][i].replace&&(i=De[s][i].replace);var a=S.fontMap[n].fontName;return Zl(i,a,s)?S.fontMap[n].variant:null},St=function(e,t,n){if(e.length===1){var s=Ie(e[0],t);return n&&s instanceof At&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var i=[],a,o=0;o<e.length;o++){var l=Ie(e[o],t);if(l instanceof At&&a instanceof At){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var u=l.children[0];if(u instanceof ds&&u.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var h=a.children[0];if(h instanceof ds&&h.text==="\u0338"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof ds&&d.text.length>0&&(d.text=d.text.slice(0,1)+"\u0338"+d.text.slice(1),i.pop())}}}i.push(l),a=l}return i},Pr=function(e,t,n){return ru(St(e,t,n))},Ie=function(e,t){if(!e)return new R.MathNode("mrow");if(va[e.type]){var n=va[e.type](e,t);return n}else throw new $("Got group of unknown type: '"+e.type+"'")};function Th(r,e,t,n,s){var i=St(r,t),a;i.length===1&&i[0]instanceof At&&se.contains(["mrow","mtable"],i[0].type)?a=i[0]:a=new R.MathNode("mrow",i);var o=new R.MathNode("annotation",[new R.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new R.MathNode("semantics",[a,o]),u=new R.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var h=s?"katex":"katex-mathml";return S.makeSpan([h],[u])}var Om=function(e){return new Zt({style:e.displayMode?te.DISPLAY:te.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},$m=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=S.makeSpan(n,[e])}return e},Wy=function(e,t,n){var s=Om(n),i;if(n.output==="mathml")return Th(e,t,s,n.displayMode,!0);if(n.output==="html"){var a=Ao(e,s);i=S.makeSpan(["katex"],[a])}else{var o=Th(e,t,s,n.displayMode,!1),l=Ao(e,s);i=S.makeSpan(["katex"],[o,l])}return $m(i,n)},Ky=function(e,t,n){var s=Om(n),i=Ao(e,s),a=S.makeSpan(["katex"],[i]);return $m(a,n)},Yy={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Xy=function(e){var t=new R.MathNode("mo",[new R.TextNode(Yy[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Qy={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Jy=function(e){return e.type==="ordgroup"?e.body.length:1},Zy=function(e,t){function n(){var o=4e5,l=e.label.slice(1);if(se.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,h=Jy(u.base),d,g,v;if(h>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,v=.42,g=l+"4"):(d=312,o=2340,v=.34,g="tilde4");else{var w=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][w],d=[0,239,300,360,420][w],v=[0,.24,.3,.3,.36,.42][w],g=l+w):(o=[0,600,1033,2339,2340][w],d=[0,260,286,306,312][w],v=[0,.26,.286,.3,.306,.34][w],g="tilde"+w)}var k=new zr(g),T=new dr([k],{width:"100%",height:B(v),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:S.makeSvgSpan([],[T],t),minWidth:0,height:v}}else{var x=[],O=Qy[l],[U,q,z]=O,P=z/1e3,Y=U.length,ee,ie;if(Y===1){var Ot=O[3];ee=["hide-tail"],ie=[Ot]}else if(Y===2)ee=["halfarrow-left","halfarrow-right"],ie=["xMinYMin","xMaxYMin"];else if(Y===3)ee=["brace-left","brace-center","brace-right"],ie=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Y+" children.");for(var ht=0;ht<Y;ht++){var He=new zr(U[ht]),Vr=new dr([He],{width:"400em",height:B(P),viewBox:"0 0 "+o+" "+z,preserveAspectRatio:ie[ht]+" slice"}),yt=S.makeSvgSpan([ee[ht]],[Vr],t);if(Y===1)return{span:yt,minWidth:q,height:P};yt.style.height=B(P),x.push(yt)}return{span:S.makeSpan(["stretchy"],x,t),minWidth:q,height:P}}}var{span:s,minWidth:i,height:a}=n();return s.height=a,s.style.height=B(a),i>0&&(s.style.minWidth=B(i)),s},e9=function(e,t,n,s,i){var a,o=e.height+e.depth+n+s;if(/fbox|color|angl/.test(t)){if(a=S.makeSpan(["stretchy",t],[],i),t==="fbox"){var l=i.color&&i.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new xo({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new xo({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new dr(u,{width:"100%",height:B(o)});a=S.makeSvgSpan([],[h],i)}return a.height=o,a.style.height=B(o),a},pr={encloseSpan:e9,mathMLnode:Xy,svgSpan:Zy};function fe(r,e){if(!r||r.type!==e)throw new Error("Expected node of type "+e+", but got "+(r?"node of type "+r.type:String(r)));return r}function su(r){var e=i0(r);if(!e)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return e}function i0(r){return r&&(r.type==="atom"||xy.hasOwnProperty(r.type))?r:null}var iu=(r,e)=>{var t,n,s;r&&r.type==="supsub"?(n=fe(r.base,"accent"),t=n.base,r.base=t,s=Sy(_e(r,e)),r.base=n):(n=fe(r,"accent"),t=n.base);var i=_e(t,e.havingCrampedStyle()),a=n.isShifty&&se.isCharacterBox(t),o=0;if(a){var l=se.getBaseElem(t),u=_e(l,e.havingCrampedStyle());o=vh(u).skew}var h=n.label==="\\c",d=h?i.height+i.depth:Math.min(i.height,e.fontMetrics().xHeight),g;if(n.isStretchy)g=pr.svgSpan(n,e),g=S.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+B(2*o)+")",marginLeft:B(2*o)}:void 0}]},e);else{var v,w;n.label==="\\vec"?(v=S.staticSvg("vec",e),w=S.svgData.vec[1]):(v=S.makeOrd({mode:n.mode,text:n.label},e,"textord"),v=vh(v),v.italic=0,w=v.width,h&&(d+=v.depth)),g=S.makeSpan(["accent-body"],[v]);var k=n.label==="\\textcircled";k&&(g.classes.push("accent-full"),d=i.height);var T=o;k||(T-=w/2),g.style.left=B(T),n.label==="\\textcircled"&&(g.style.top=".2em"),g=S.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-d},{type:"elem",elem:g}]},e)}var x=S.makeSpan(["mord","accent"],[g],e);return s?(s.children[0]=x,s.height=Math.max(x.height,s.height),s.classes[0]="mord",s):x},Lm=(r,e)=>{var t=r.isStretchy?pr.mathMLnode(r.label):new R.MathNode("mo",[Rt(r.label,r.mode)]),n=new R.MathNode("mover",[Ie(r.base,e),t]);return n.setAttribute("accent","true"),n},t9=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));V({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,e)=>{var t=ya(e[0]),n=!t9.test(r.funcName),s=!n||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:n,isShifty:s,base:t}},htmlBuilder:iu,mathmlBuilder:Lm});V({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,e)=>{var t=e[0],n=r.parser.mode;return n==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:r.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:iu,mathmlBuilder:Lm});V({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0];return{type:"accentUnder",mode:t.mode,label:n,base:s}},htmlBuilder:(r,e)=>{var t=_e(r.base,e),n=pr.svgSpan(r,e),s=r.label==="\\utilde"?.12:0,i=S.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:t}]},e);return S.makeSpan(["mord","accentunder"],[i],e)},mathmlBuilder:(r,e)=>{var t=pr.mathMLnode(r.label),n=new R.MathNode("munder",[Ie(r.base,e),t]);return n.setAttribute("accentunder","true"),n}});var Ii=r=>{var e=new R.MathNode("mpadded",r?[r]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};V({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,t){var{parser:n,funcName:s}=r;return{type:"xArrow",mode:n.mode,label:s,body:e[0],below:t[0]}},htmlBuilder(r,e){var t=e.style,n=e.havingStyle(t.sup()),s=S.wrapFragment(_e(r.body,n,e),e),i=r.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(i+"-arrow-pad");var a;r.below&&(n=e.havingStyle(t.sub()),a=S.wrapFragment(_e(r.below,n,e),e),a.classes.push(i+"-arrow-pad"));var o=pr.svgSpan(r,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(s.depth>.25||r.label==="\\xleftequilibrium")&&(u-=s.depth);var h;if(a){var d=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;h=S.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:d}]},e)}else h=S.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:u},{type:"elem",elem:o,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),S.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(r,e){var t=pr.mathMLnode(r.label);t.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(r.body){var s=Ii(Ie(r.body,e));if(r.below){var i=Ii(Ie(r.below,e));n=new R.MathNode("munderover",[t,i,s])}else n=new R.MathNode("mover",[t,s])}else if(r.below){var a=Ii(Ie(r.below,e));n=new R.MathNode("munder",[t,a])}else n=Ii(),n=new R.MathNode("mover",[t,n]);return n}});var r9=S.makeSpan;function zm(r,e){var t=Ke(r.body,e,!0);return r9([r.mclass],t,e)}function Pm(r,e){var t,n=St(r.body,e);return r.mclass==="minner"?t=new R.MathNode("mpadded",n):r.mclass==="mord"?r.isCharacterBox?(t=n[0],t.type="mi"):t=new R.MathNode("mi",n):(r.isCharacterBox?(t=n[0],t.type="mo"):t=new R.MathNode("mo",n),r.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):r.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):r.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}V({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,e){var{parser:t,funcName:n}=r,s=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+n.slice(5),body:Pe(s),isCharacterBox:se.isCharacterBox(s)}},htmlBuilder:zm,mathmlBuilder:Pm});var a0=r=>{var e=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};V({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,e){var{parser:t}=r;return{type:"mclass",mode:t.mode,mclass:a0(e[0]),body:Pe(e[1]),isCharacterBox:se.isCharacterBox(e[1])}}});V({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,e){var{parser:t,funcName:n}=r,s=e[1],i=e[0],a;n!=="\\stackrel"?a=a0(s):a="mrel";var o={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Pe(s)},l={type:"supsub",mode:i.mode,base:o,sup:n==="\\underset"?null:i,sub:n==="\\underset"?i:null};return{type:"mclass",mode:t.mode,mclass:a,body:[l],isCharacterBox:se.isCharacterBox(l)}},htmlBuilder:zm,mathmlBuilder:Pm});V({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"pmb",mode:t.mode,mclass:a0(e[0]),body:Pe(e[0])}},htmlBuilder(r,e){var t=Ke(r.body,e,!0),n=S.makeSpan([r.mclass],t,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(r,e){var t=St(r.body,e),n=new R.MathNode("mstyle",t);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var n9={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},xh=()=>({type:"styling",body:[],mode:"math",style:"display"}),Eh=r=>r.type==="textord"&&r.text==="@",s9=(r,e)=>(r.type==="mathord"||r.type==="atom")&&r.text===e;function i9(r,e,t){var n=n9[r];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var s=t.callFunction("\\\\cdleft",[e[0]],[]),i={type:"atom",text:n,mode:"math",family:"rel"},a=t.callFunction("\\Big",[i],[]),o=t.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[s,a,o]};return t.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function a9(r){var e=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){e.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var t=r.fetch().text;if(t==="&"||t==="\\\\")r.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new $("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var n=[],s=[n],i=0;i<e.length;i++){for(var a=e[i],o=xh(),l=0;l<a.length;l++)if(!Eh(a[l]))o.body.push(a[l]);else{n.push(o),l+=1;var u=su(a[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var g=!0,v=l+1;v<a.length;v++){if(s9(a[v],u)){g=!1,l=v;break}if(Eh(a[v]))throw new $("Missing a "+u+" character to complete a CD arrow.",a[v]);h[d].body.push(a[v])}if(g)throw new $("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new $('Expected one of "<>AV=|." after @',a[l]);var w=i9(u,h,r),k={type:"styling",body:[w],mode:"math",style:"display"};n.push(k),o=xh()}i%2===0?n.push(o):n.shift(),n=[],s.push(n)}r.gullet.endGroup(),r.gullet.endGroup();var T=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}V({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r;return{type:"cdlabel",mode:t.mode,side:n.slice(4),label:e[0]}},htmlBuilder(r,e){var t=e.havingStyle(e.style.sup()),n=S.wrapFragment(_e(r.label,t,e),e);return n.classes.push("cd-label-"+r.side),n.style.bottom=B(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(r,e){var t=new R.MathNode("mrow",[Ie(r.label,e)]);return t=new R.MathNode("mpadded",[t]),t.setAttribute("width","0"),r.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new R.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});V({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,e){var{parser:t}=r;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(r,e){var t=S.wrapFragment(_e(r.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(r,e){return new R.MathNode("mrow",[Ie(r.fragment,e)])}});V({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,e){for(var{parser:t}=r,n=fe(e[0],"ordgroup"),s=n.body,i="",a=0;a<s.length;a++){var o=fe(s[a],"textord");i+=o.text}var l=parseInt(i),u;if(isNaN(l))throw new $("\\@char has non-numeric argument "+i);if(l<0||l>=1114111)throw new $("\\@char with invalid code point "+i);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:t.mode,text:u}}});var Bm=(r,e)=>{var t=Ke(r.body,e.withColor(r.color),!1);return S.makeFragment(t)},Fm=(r,e)=>{var t=St(r.body,e.withColor(r.color)),n=new R.MathNode("mstyle",t);return n.setAttribute("mathcolor",r.color),n};V({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,e){var{parser:t}=r,n=fe(e[0],"color-token").color,s=e[1];return{type:"color",mode:t.mode,color:n,body:Pe(s)}},htmlBuilder:Bm,mathmlBuilder:Fm});V({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,e){var{parser:t,breakOnTokenText:n}=r,s=fe(e[0],"color-token").color;t.gullet.macros.set("\\current@color",s);var i=t.parseExpression(!0,n);return{type:"color",mode:t.mode,color:s,body:i}},htmlBuilder:Bm,mathmlBuilder:Fm});V({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler(r,e,t){var{parser:n}=r,s=t[0],i=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:i,size:s&&fe(s,"size").value}},htmlBuilder(r,e){var t=S.makeSpan(["mspace"],[],e);return r.newLine&&(t.classes.push("newline"),r.size&&(t.style.marginTop=B(ze(r.size,e)))),t},mathmlBuilder(r,e){var t=new R.MathNode("mspace");return r.newLine&&(t.setAttribute("linebreak","newline"),r.size&&t.setAttribute("height",B(ze(r.size,e)))),t}});var Mo={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},qm=r=>{var e=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new $("Expected a control sequence",r);return e},o9=r=>{var e=r.gullet.popToken();return e.text==="="&&(e=r.gullet.popToken(),e.text===" "&&(e=r.gullet.popToken())),e},Um=(r,e,t,n)=>{var s=r.gullet.macros.get(t.text);s==null&&(t.noexpand=!0,s={tokens:[t],numArgs:0,unexpandable:!r.gullet.isExpandable(t.text)}),r.gullet.macros.set(e,s,n)};V({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:e,funcName:t}=r;e.consumeSpaces();var n=e.fetch();if(Mo[n.text])return(t==="\\global"||t==="\\\\globallong")&&(n.text=Mo[n.text]),fe(e.parseFunction(),"internal");throw new $("Invalid token after macro prefix",n)}});V({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=e.gullet.popToken(),s=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new $("Expected a control sequence",n);for(var i=0,a,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[i].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new $('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==i+1)throw new $('Argument number "'+n.text+'" out of order');i++,o.push([])}else{if(n.text==="EOF")throw new $("Expected a macro definition");o[i].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(t==="\\edef"||t==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(s,{tokens:l,numArgs:i,delimiters:o},t===Mo[t]),{type:"internal",mode:e.mode}}});V({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=qm(e.gullet.popToken());e.gullet.consumeSpaces();var s=o9(e);return Um(e,n,s,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});V({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:e,funcName:t}=r,n=qm(e.gullet.popToken()),s=e.gullet.popToken(),i=e.gullet.popToken();return Um(e,n,i,t==="\\\\globalfuture"),e.gullet.pushToken(i),e.gullet.pushToken(s),{type:"internal",mode:e.mode}}});var os=function(e,t,n){var s=De.math[e]&&De.math[e].replace,i=Zl(s||e,t,n);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},au=function(e,t,n,s){var i=n.havingBaseStyle(t),a=S.makeSpan(s.concat(i.sizingClasses(n)),[e],n),o=i.sizeMultiplier/n.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=i.sizeMultiplier,a},Vm=function(e,t,n){var s=t.havingBaseStyle(n),i=(1-t.sizeMultiplier/s.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=B(i),e.height-=i,e.depth+=i},l9=function(e,t,n,s,i,a){var o=S.makeSymbol(e,"Main-Regular",i,s),l=au(o,t,s,a);return n&&Vm(l,s,t),l},u9=function(e,t,n,s){return S.makeSymbol(e,"Size"+t+"-Regular",n,s)},Hm=function(e,t,n,s,i,a){var o=u9(e,t,i,s),l=au(S.makeSpan(["delimsizing","size"+t],[o],s),te.TEXT,s,a);return n&&Vm(l,s,te.TEXT),l},L0=function(e,t,n){var s;t==="Size1-Regular"?s="delim-size1":s="delim-size4";var i=S.makeSpan(["delimsizinginner",s],[S.makeSpan([],[S.makeSymbol(e,t,n)])]);return{type:"elem",elem:i}},z0=function(e,t,n){var s=Vt["Size4-Regular"][e.charCodeAt(0)]?Vt["Size4-Regular"][e.charCodeAt(0)][4]:Vt["Size1-Regular"][e.charCodeAt(0)][4],i=new zr("inner",py(e,Math.round(1e3*t))),a=new dr([i],{width:B(s),height:B(t),style:"width:"+B(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=S.makeSvgSpan([],[a],n);return o.height=t,o.style.height=B(t),o.style.width=B(s),{type:"elem",elem:o}},Co=.008,Ai={type:"kern",size:-1*Co},c9=["|","\\lvert","\\rvert","\\vert"],h9=["\\|","\\lVert","\\rVert","\\Vert"],jm=function(e,t,n,s,i,a){var o,l,u,h,d="",g=0;o=u=h=e,l=null;var v="Size1-Regular";e==="\\uparrow"?u=h="\u23D0":e==="\\Uparrow"?u=h="\u2016":e==="\\downarrow"?o=u="\u23D0":e==="\\Downarrow"?o=u="\u2016":e==="\\updownarrow"?(o="\\uparrow",u="\u23D0",h="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="\u2016",h="\\Downarrow"):se.contains(c9,e)?(u="\u2223",d="vert",g=333):se.contains(h9,e)?(u="\u2225",d="doublevert",g=556):e==="["||e==="\\lbrack"?(o="\u23A1",u="\u23A2",h="\u23A3",v="Size4-Regular",d="lbrack",g=667):e==="]"||e==="\\rbrack"?(o="\u23A4",u="\u23A5",h="\u23A6",v="Size4-Regular",d="rbrack",g=667):e==="\\lfloor"||e==="\u230A"?(u=o="\u23A2",h="\u23A3",v="Size4-Regular",d="lfloor",g=667):e==="\\lceil"||e==="\u2308"?(o="\u23A1",u=h="\u23A2",v="Size4-Regular",d="lceil",g=667):e==="\\rfloor"||e==="\u230B"?(u=o="\u23A5",h="\u23A6",v="Size4-Regular",d="rfloor",g=667):e==="\\rceil"||e==="\u2309"?(o="\u23A4",u=h="\u23A5",v="Size4-Regular",d="rceil",g=667):e==="("||e==="\\lparen"?(o="\u239B",u="\u239C",h="\u239D",v="Size4-Regular",d="lparen",g=875):e===")"||e==="\\rparen"?(o="\u239E",u="\u239F",h="\u23A0",v="Size4-Regular",d="rparen",g=875):e==="\\{"||e==="\\lbrace"?(o="\u23A7",l="\u23A8",h="\u23A9",u="\u23AA",v="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="\u23AB",l="\u23AC",h="\u23AD",u="\u23AA",v="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(o="\u23A7",h="\u23A9",u="\u23AA",v="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(o="\u23AB",h="\u23AD",u="\u23AA",v="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(o="\u23A7",h="\u23AD",u="\u23AA",v="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(o="\u23AB",h="\u23A9",u="\u23AA",v="Size4-Regular");var w=os(o,v,i),k=w.height+w.depth,T=os(u,v,i),x=T.height+T.depth,O=os(h,v,i),U=O.height+O.depth,q=0,z=1;if(l!==null){var P=os(l,v,i);q=P.height+P.depth,z=2}var Y=k+U+q,ee=Math.max(0,Math.ceil((t-Y)/(z*x))),ie=Y+ee*z*x,Ot=s.fontMetrics().axisHeight;n&&(Ot*=s.sizeMultiplier);var ht=ie/2-Ot,He=[];if(d.length>0){var Vr=ie-k-U,yt=Math.round(ie*1e3),$t=gy(d,Math.round(Vr*1e3)),wr=new zr(d,$t),pn=(g/1e3).toFixed(3)+"em",gn=(yt/1e3).toFixed(3)+"em",u0=new dr([wr],{width:pn,height:gn,viewBox:"0 0 "+g+" "+yt}),br=S.makeSvgSpan([],[u0],s);br.height=yt/1e3,br.style.width=pn,br.style.height=gn,He.push({type:"elem",elem:br})}else{if(He.push(L0(h,v,i)),He.push(Ai),l===null){var _r=ie-k-U+2*Co;He.push(z0(u,_r,s))}else{var It=(ie-k-U-q)/2+2*Co;He.push(z0(u,It,s)),He.push(Ai),He.push(L0(l,v,i)),He.push(Ai),He.push(z0(u,It,s))}He.push(Ai),He.push(L0(o,v,i))}var Zn=s.havingBaseStyle(te.TEXT),c0=S.makeVList({positionType:"bottom",positionData:ht,children:He},Zn);return au(S.makeSpan(["delimsizing","mult"],[c0],Zn),te.TEXT,s,a)},P0=80,B0=.08,F0=function(e,t,n,s,i){var a=my(e,s,n),o=new zr(e,a),l=new dr([o],{width:"400em",height:B(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return S.makeSvgSpan(["hide-tail"],[l],i)},f9=function(e,t){var n=t.havingBaseSizing(),s=Ym("\\surd",e*n.sizeMultiplier,Km,n),i=n.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),o,l=0,u=0,h=0,d;return s.type==="small"?(h=1e3+1e3*a+P0,e<1?i=1:e<1.4&&(i=.7),l=(1+a+B0)/i,u=(1+a)/i,o=F0("sqrtMain",l,h,a,t),o.style.minWidth="0.853em",d=.833/i):s.type==="large"?(h=(1e3+P0)*ms[s.size],u=(ms[s.size]+a)/i,l=(ms[s.size]+a+B0)/i,o=F0("sqrtSize"+s.size,l,h,a,t),o.style.minWidth="1.02em",d=1/i):(l=e+a+B0,u=e+a,h=Math.floor(1e3*e+a)+P0,o=F0("sqrtTall",l,h,a,t),o.style.minWidth="0.742em",d=1.056),o.height=u,o.style.height=B(l),{span:o,advanceWidth:d,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*i}},Gm=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],d9=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],Wm=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ms=[0,1.2,1.8,2.4,3],m9=function(e,t,n,s,i){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),se.contains(Gm,e)||se.contains(Wm,e))return Hm(e,t,!1,n,s,i);if(se.contains(d9,e))return jm(e,ms[t],!1,n,s,i);throw new $("Illegal delimiter: '"+e+"'")},p9=[{type:"small",style:te.SCRIPTSCRIPT},{type:"small",style:te.SCRIPT},{type:"small",style:te.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],g9=[{type:"small",style:te.SCRIPTSCRIPT},{type:"small",style:te.SCRIPT},{type:"small",style:te.TEXT},{type:"stack"}],Km=[{type:"small",style:te.SCRIPTSCRIPT},{type:"small",style:te.SCRIPT},{type:"small",style:te.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],v9=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Ym=function(e,t,n,s){for(var i=Math.min(2,3-s.style.size),a=i;a<n.length&&n[a].type!=="stack";a++){var o=os(e,v9(n[a]),"math"),l=o.height+o.depth;if(n[a].type==="small"){var u=s.havingBaseStyle(n[a].style);l*=u.sizeMultiplier}if(l>t)return n[a]}return n[n.length-1]},Xm=function(e,t,n,s,i,a){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var o;se.contains(Wm,e)?o=p9:se.contains(Gm,e)?o=Km:o=g9;var l=Ym(e,t,o,s);return l.type==="small"?l9(e,l.style,n,s,i,a):l.type==="large"?Hm(e,l.size,n,s,i,a):jm(e,t,n,s,i,a)},y9=function(e,t,n,s,i,a){var o=s.fontMetrics().axisHeight*s.sizeMultiplier,l=901,u=5/s.fontMetrics().ptPerEm,h=Math.max(t-o,n+o),d=Math.max(h/500*l,2*h-u);return Xm(e,d,!0,s,i,a)},or={sqrtImage:f9,sizedDelim:m9,sizeToMaxHeight:ms,customSizedDelim:Xm,leftRightDelim:y9},Ih={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},w9=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function o0(r,e){var t=i0(r);if(t&&se.contains(w9,t.text))return t;throw t?new $("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",r):new $("Invalid delimiter type '"+r.type+"'",r)}V({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,e)=>{var t=o0(e[0],r);return{type:"delimsizing",mode:r.parser.mode,size:Ih[r.funcName].size,mclass:Ih[r.funcName].mclass,delim:t.text}},htmlBuilder:(r,e)=>r.delim==="."?S.makeSpan([r.mclass]):or.sizedDelim(r.delim,r.size,e,r.mode,[r.mclass]),mathmlBuilder:r=>{var e=[];r.delim!=="."&&e.push(Rt(r.delim,r.mode));var t=new R.MathNode("mo",e);r.mclass==="mopen"||r.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var n=B(or.sizeToMaxHeight[r.size]);return t.setAttribute("minsize",n),t.setAttribute("maxsize",n),t}});function Ah(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}V({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=r.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new $("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:o0(e[0],r).text,color:t}}});V({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=o0(e[0],r),n=r.parser;++n.leftrightDepth;var s=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var i=fe(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:s,left:t.text,right:i.delim,rightColor:i.color}},htmlBuilder:(r,e)=>{Ah(r);for(var t=Ke(r.body,e,!0,["mopen","mclose"]),n=0,s=0,i=!1,a=0;a<t.length;a++)t[a].isMiddle?i=!0:(n=Math.max(t[a].height,n),s=Math.max(t[a].depth,s));n*=e.sizeMultiplier,s*=e.sizeMultiplier;var o;if(r.left==="."?o=$s(e,["mopen"]):o=or.leftRightDelim(r.left,n,s,e,r.mode,["mopen"]),t.unshift(o),i)for(var l=1;l<t.length;l++){var u=t[l],h=u.isMiddle;h&&(t[l]=or.leftRightDelim(h.delim,n,s,h.options,r.mode,[]))}var d;if(r.right===".")d=$s(e,["mclose"]);else{var g=r.rightColor?e.withColor(r.rightColor):e;d=or.leftRightDelim(r.right,n,s,g,r.mode,["mclose"])}return t.push(d),S.makeSpan(["minner"],t,e)},mathmlBuilder:(r,e)=>{Ah(r);var t=St(r.body,e);if(r.left!=="."){var n=new R.MathNode("mo",[Rt(r.left,r.mode)]);n.setAttribute("fence","true"),t.unshift(n)}if(r.right!=="."){var s=new R.MathNode("mo",[Rt(r.right,r.mode)]);s.setAttribute("fence","true"),r.rightColor&&s.setAttribute("mathcolor",r.rightColor),t.push(s)}return ru(t)}});V({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var t=o0(e[0],r);if(!r.parser.leftrightDepth)throw new $("\\middle without preceding \\left",t);return{type:"middle",mode:r.parser.mode,delim:t.text}},htmlBuilder:(r,e)=>{var t;if(r.delim===".")t=$s(e,[]);else{t=or.sizedDelim(r.delim,1,e,r.mode,[]);var n={delim:r.delim,options:e};t.isMiddle=n}return t},mathmlBuilder:(r,e)=>{var t=r.delim==="\\vert"||r.delim==="|"?Rt("|","text"):Rt(r.delim,r.mode),n=new R.MathNode("mo",[t]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var ou=(r,e)=>{var t=S.wrapFragment(_e(r.body,e),e),n=r.label.slice(1),s=e.sizeMultiplier,i,a=0,o=se.isCharacterBox(r.body);if(n==="sout")i=S.makeSpan(["stretchy","sout"]),i.height=e.fontMetrics().defaultRuleThickness/s,a=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=ze({number:.6,unit:"pt"},e),u=ze({number:.35,unit:"ex"},e),h=e.havingBaseSizing();s=s/h.sizeMultiplier;var d=t.height+t.depth+l+u;t.style.paddingLeft=B(d/2+l);var g=Math.floor(1e3*d*s),v=fy(g),w=new dr([new zr("phase",v)],{width:"400em",height:B(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});i=S.makeSvgSpan(["hide-tail"],[w],e),i.style.height=B(d),a=t.depth+l+u}else{/cancel/.test(n)?o||t.classes.push("cancel-pad"):n==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var k=0,T=0,x=0;/box/.test(n)?(x=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),k=e.fontMetrics().fboxsep+(n==="colorbox"?0:x),T=k):n==="angl"?(x=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),k=4*x,T=Math.max(0,.25-t.depth)):(k=o?.2:0,T=k),i=pr.encloseSpan(t,n,k,T,e),/fbox|boxed|fcolorbox/.test(n)?(i.style.borderStyle="solid",i.style.borderWidth=B(x)):n==="angl"&&x!==.049&&(i.style.borderTopWidth=B(x),i.style.borderRightWidth=B(x)),a=t.depth+T,r.backgroundColor&&(i.style.backgroundColor=r.backgroundColor,r.borderColor&&(i.style.borderColor=r.borderColor))}var O;if(r.backgroundColor)O=S.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:a},{type:"elem",elem:t,shift:0}]},e);else{var U=/cancel|phase/.test(n)?["svg-align"]:[];O=S.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:i,shift:a,wrapperClasses:U}]},e)}return/cancel/.test(n)&&(O.height=t.height,O.depth=t.depth),/cancel/.test(n)&&!o?S.makeSpan(["mord","cancel-lap"],[O],e):S.makeSpan(["mord"],[O],e)},lu=(r,e)=>{var t=0,n=new R.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ie(r.body,e)]);switch(r.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*t+"pt"),n.setAttribute("height","+"+2*t+"pt"),n.setAttribute("lspace",t+"pt"),n.setAttribute("voffset",t+"pt"),r.label==="\\fcolorbox"){var s=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+s+"em solid "+String(r.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&n.setAttribute("mathbackground",r.backgroundColor),n};V({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,e,t){var{parser:n,funcName:s}=r,i=fe(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:n.mode,label:s,backgroundColor:i,body:a}},htmlBuilder:ou,mathmlBuilder:lu});V({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,e,t){var{parser:n,funcName:s}=r,i=fe(e[0],"color-token").color,a=fe(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:s,backgroundColor:a,borderColor:i,body:o}},htmlBuilder:ou,mathmlBuilder:lu});V({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});V({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r,s=e[0];return{type:"enclose",mode:t.mode,label:n,body:s}},htmlBuilder:ou,mathmlBuilder:lu});V({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,e){var{parser:t}=r;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var Qm={};function Yt(r){for(var{type:e,names:t,props:n,handler:s,htmlBuilder:i,mathmlBuilder:a}=r,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},l=0;l<t.length;++l)Qm[t[l]]=o;i&&(ga[e]=i),a&&(va[e]=a)}var Jm={};function p(r,e){Jm[r]=e}function Mh(r){var e=[];r.consumeSpaces();for(var t=r.fetch().text;t==="\\hline"||t==="\\hdashline";)r.consume(),e.push(t==="\\hdashline"),r.consumeSpaces(),t=r.fetch().text;return e}var l0=r=>{var e=r.parser.settings;if(!e.displayMode)throw new $("{"+r.envName+"} can be used only in display mode.")};function uu(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function Ur(r,e,t){var{hskipBeforeAndAfter:n,addJot:s,cols:i,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:h,maxNumCols:d,leqno:g}=e;if(r.gullet.beginGroup(),u||r.gullet.macros.set("\\cr","\\\\\\relax"),!a){var v=r.gullet.expandMacroAsText("\\arraystretch");if(v==null)a=1;else if(a=parseFloat(v),!a||a<0)throw new $("Invalid \\arraystretch: "+v)}r.gullet.beginGroup();var w=[],k=[w],T=[],x=[],O=l!=null?[]:void 0;function U(){l&&r.gullet.macros.set("\\@eqnsw","1",!0)}function q(){O&&(r.gullet.macros.get("\\df@tag")?(O.push(r.subparse([new Mt("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):O.push(Boolean(l)&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(U(),x.push(Mh(r));;){var z=r.parseExpression(!1,u?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),z={type:"ordgroup",mode:r.mode,body:z},t&&(z={type:"styling",mode:r.mode,style:t,body:[z]}),w.push(z);var P=r.fetch().text;if(P==="&"){if(d&&w.length===d){if(u||o)throw new $("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(P==="\\end"){q(),w.length===1&&z.type==="styling"&&z.body[0].body.length===0&&(k.length>1||!h)&&k.pop(),x.length<k.length+1&&x.push([]);break}else if(P==="\\\\"){r.consume();var Y=void 0;r.gullet.future().text!==" "&&(Y=r.parseSizeGroup(!0)),T.push(Y?Y.value:null),q(),x.push(Mh(r)),w=[],k.push(w),U()}else throw new $("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:s,arraystretch:a,body:k,cols:i,rowGaps:T,hskipBeforeAndAfter:n,hLinesBeforeRow:x,colSeparationType:o,tags:O,leqno:g}}function cu(r){return r.slice(0,1)==="d"?"display":"text"}var Xt=function(e,t){var n,s,i=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(i),u=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,g=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var v=t.havingStyle(te.SCRIPT).sizeMultiplier;g=.2778*(v/t.sizeMultiplier)}var w=e.colSeparationType==="CD"?ze({number:3,unit:"ex"},t):12*d,k=3*d,T=e.arraystretch*w,x=.7*T,O=.3*T,U=0;function q(hi){for(var fi=0;fi<hi.length;++fi)fi>0&&(U+=.25),u.push({pos:U,isDashed:hi[fi]})}for(q(a[0]),n=0;n<e.body.length;++n){var z=e.body[n],P=x,Y=O;o<z.length&&(o=z.length);var ee=new Array(z.length);for(s=0;s<z.length;++s){var ie=_e(z[s],t);Y<ie.depth&&(Y=ie.depth),P<ie.height&&(P=ie.height),ee[s]=ie}var Ot=e.rowGaps[n],ht=0;Ot&&(ht=ze(Ot,t),ht>0&&(ht+=O,Y<ht&&(Y=ht),ht=0)),e.addJot&&(Y+=k),ee.height=P,ee.depth=Y,U+=P,ee.pos=U,U+=Y+ht,l[n]=ee,q(a[n+1])}var He=U/2+t.fontMetrics().axisHeight,Vr=e.cols||[],yt=[],$t,wr,pn=[];if(e.tags&&e.tags.some(hi=>hi))for(n=0;n<i;++n){var gn=l[n],u0=gn.pos-He,br=e.tags[n],_r=void 0;br===!0?_r=S.makeSpan(["eqn-num"],[],t):br===!1?_r=S.makeSpan([],[],t):_r=S.makeSpan([],Ke(br,t,!0),t),_r.depth=gn.depth,_r.height=gn.height,pn.push({type:"elem",elem:_r,shift:u0})}for(s=0,wr=0;s<o||wr<Vr.length;++s,++wr){for(var It=Vr[wr]||{},Zn=!0;It.type==="separator";){if(Zn||($t=S.makeSpan(["arraycolsep"],[]),$t.style.width=B(t.fontMetrics().doubleRuleSep),yt.push($t)),It.separator==="|"||It.separator===":"){var c0=It.separator==="|"?"solid":"dashed",vn=S.makeSpan(["vertical-separator"],[],t);vn.style.height=B(U),vn.style.borderRightWidth=B(h),vn.style.borderRightStyle=c0,vn.style.margin="0 "+B(-h/2);var vu=U-He;vu&&(vn.style.verticalAlign=B(-vu)),yt.push(vn)}else throw new $("Invalid separator type: "+It.separator);wr++,It=Vr[wr]||{},Zn=!1}if(!(s>=o)){var yn=void 0;(s>0||e.hskipBeforeAndAfter)&&(yn=se.deflt(It.pregap,g),yn!==0&&($t=S.makeSpan(["arraycolsep"],[]),$t.style.width=B(yn),yt.push($t)));var wn=[];for(n=0;n<i;++n){var ui=l[n],ci=ui[s];if(!!ci){var g4=ui.pos-He;ci.depth=ui.depth,ci.height=ui.height,wn.push({type:"elem",elem:ci,shift:g4})}}wn=S.makeVList({positionType:"individualShift",children:wn},t),wn=S.makeSpan(["col-align-"+(It.align||"c")],[wn]),yt.push(wn),(s<o-1||e.hskipBeforeAndAfter)&&(yn=se.deflt(It.postgap,g),yn!==0&&($t=S.makeSpan(["arraycolsep"],[]),$t.style.width=B(yn),yt.push($t)))}}if(l=S.makeSpan(["mtable"],yt),u.length>0){for(var v4=S.makeLineSpan("hline",t,h),y4=S.makeLineSpan("hdashline",t,h),h0=[{type:"elem",elem:l,shift:0}];u.length>0;){var yu=u.pop(),wu=yu.pos-He;yu.isDashed?h0.push({type:"elem",elem:y4,shift:wu}):h0.push({type:"elem",elem:v4,shift:wu})}l=S.makeVList({positionType:"individualShift",children:h0},t)}if(pn.length===0)return S.makeSpan(["mord"],[l],t);var f0=S.makeVList({positionType:"individualShift",children:pn},t);return f0=S.makeSpan(["tag"],[f0],t),S.makeFragment([l,f0])},b9={c:"center ",l:"left ",r:"right "},Qt=function(e,t){for(var n=[],s=new R.MathNode("mtd",[],["mtr-glue"]),i=new R.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],u=0;u<o.length;u++)l.push(new R.MathNode("mtd",[Ie(o[u],t)]));e.tags&&e.tags[a]&&(l.unshift(s),l.push(s),e.leqno?l.unshift(i):l.push(i)),n.push(new R.MathNode("mtr",l))}var h=new R.MathNode("mtable",n),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",B(d));var g="",v="";if(e.cols&&e.cols.length>0){var w=e.cols,k="",T=!1,x=0,O=w.length;w[0].type==="separator"&&(g+="top ",x=1),w[w.length-1].type==="separator"&&(g+="bottom ",O-=1);for(var U=x;U<O;U++)w[U].type==="align"?(v+=b9[w[U].align],T&&(k+="none "),T=!0):w[U].type==="separator"&&T&&(k+=w[U].separator==="|"?"solid ":"dashed ",T=!1);h.setAttribute("columnalign",v.trim()),/[sd]/.test(k)&&h.setAttribute("columnlines",k.trim())}if(e.colSeparationType==="align"){for(var q=e.cols||[],z="",P=1;P<q.length;P++)z+=P%2?"0em ":"1em ";h.setAttribute("columnspacing",z.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var Y="",ee=e.hLinesBeforeRow;g+=ee[0].length>0?"left ":"",g+=ee[ee.length-1].length>0?"right ":"";for(var ie=1;ie<ee.length-1;ie++)Y+=ee[ie].length===0?"none ":ee[ie][0]?"dashed ":"solid ";return/[sd]/.test(Y)&&h.setAttribute("rowlines",Y.trim()),g!==""&&(h=new R.MathNode("menclose",[h]),h.setAttribute("notation",g.trim())),e.arraystretch&&e.arraystretch<1&&(h=new R.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},Zm=function(e,t){e.envName.indexOf("ed")===-1&&l0(e);var n=[],s=e.envName.indexOf("at")>-1?"alignat":"align",i=e.envName==="split",a=Ur(e.parser,{cols:n,addJot:!0,autoTag:i?void 0:uu(e.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:i?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var h="",d=0;d<t[0].body.length;d++){var g=fe(t[0].body[d],"textord");h+=g.text}o=Number(h),l=o*2}var v=!l;a.body.forEach(function(x){for(var O=1;O<x.length;O+=2){var U=fe(x[O],"styling"),q=fe(U.body[0],"ordgroup");q.body.unshift(u)}if(v)l<x.length&&(l=x.length);else{var z=x.length/2;if(o<z)throw new $("Too many math in a row: "+("expected "+o+", but got "+z),x[0])}});for(var w=0;w<l;++w){var k="r",T=0;w%2===1?k="l":w>0&&v&&(T=1),n[w]={type:"align",align:k,pregap:T,postgap:0}}return a.colSeparationType=v?"align":"alignat",a};Yt({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,e){var t=i0(e[0]),n=t?[e[0]]:fe(e[0],"ordgroup").body,s=n.map(function(a){var o=su(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new $("Unknown column alignment: "+l,a)}),i={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return Ur(r.parser,i,cu(r.envName))},htmlBuilder:Xt,mathmlBuilder:Qt});Yt({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],t="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(r.envName.charAt(r.envName.length-1)==="*"){var s=r.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),t=s.fetch().text,"lcr".indexOf(t)===-1)throw new $("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),n.cols=[{type:"align",align:t}]}}var i=Ur(r.parser,n,cu(r.envName)),a=Math.max(0,...i.body.map(o=>o.length));return i.cols=new Array(a).fill({type:"align",align:t}),e?{type:"leftright",mode:r.mode,body:[i],left:e[0],right:e[1],rightColor:void 0}:i},htmlBuilder:Xt,mathmlBuilder:Qt});Yt({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var e={arraystretch:.5},t=Ur(r.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:Xt,mathmlBuilder:Qt});Yt({type:"array",names:["subarray"],props:{numArgs:1},handler(r,e){var t=i0(e[0]),n=t?[e[0]]:fe(e[0],"ordgroup").body,s=n.map(function(a){var o=su(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new $("Unknown column alignment: "+l,a)});if(s.length>1)throw new $("{subarray} can contain only one column");var i={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(i=Ur(r.parser,i,"script"),i.body.length>0&&i.body[0].length>1)throw new $("{subarray} can contain only one column");return i},htmlBuilder:Xt,mathmlBuilder:Qt});Yt({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=Ur(r.parser,e,cu(r.envName));return{type:"leftright",mode:r.mode,body:[t],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Xt,mathmlBuilder:Qt});Yt({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Zm,htmlBuilder:Xt,mathmlBuilder:Qt});Yt({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){se.contains(["gather","gather*"],r.envName)&&l0(r);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:uu(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return Ur(r.parser,e,"display")},htmlBuilder:Xt,mathmlBuilder:Qt});Yt({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Zm,htmlBuilder:Xt,mathmlBuilder:Qt});Yt({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){l0(r);var e={autoTag:uu(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return Ur(r.parser,e,"display")},htmlBuilder:Xt,mathmlBuilder:Qt});Yt({type:"array",names:["CD"],props:{numArgs:0},handler(r){return l0(r),a9(r.parser)},htmlBuilder:Xt,mathmlBuilder:Qt});p("\\nonumber","\\gdef\\@eqnsw{0}");p("\\notag","\\nonumber");V({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,e){throw new $(r.funcName+" valid only within array environment")}});var Ch=Qm;V({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,e){var{parser:t,funcName:n}=r,s=e[0];if(s.type!=="ordgroup")throw new $("Invalid environment name",s);for(var i="",a=0;a<s.body.length;++a)i+=fe(s.body[a],"textord").text;if(n==="\\begin"){if(!Ch.hasOwnProperty(i))throw new $("No such environment: "+i,s);var o=Ch[i],{args:l,optArgs:u}=t.parseArguments("\\begin{"+i+"}",o),h={mode:t.mode,envName:i,parser:t},d=o.handler(h,l,u);t.expect("\\end",!1);var g=t.nextToken,v=fe(t.parseFunction(),"environment");if(v.name!==i)throw new $("Mismatch: \\begin{"+i+"} matched by \\end{"+v.name+"}",g);return d}return{type:"environment",mode:t.mode,name:i,nameGroup:s}}});var e4=(r,e)=>{var t=r.font,n=e.withFont(t);return _e(r.body,n)},t4=(r,e)=>{var t=r.font,n=e.withFont(t);return Ie(r.body,n)},Dh={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};V({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=ya(e[0]),i=n;return i in Dh&&(i=Dh[i]),{type:"font",mode:t.mode,font:i.slice(1),body:s}},htmlBuilder:e4,mathmlBuilder:t4});V({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,e)=>{var{parser:t}=r,n=e[0],s=se.isCharacterBox(n);return{type:"mclass",mode:t.mode,mclass:a0(n),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:n}],isCharacterBox:s}}});V({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n,breakOnTokenText:s}=r,{mode:i}=t,a=t.parseExpression(!0,s),o="math"+n.slice(1);return{type:"font",mode:i,font:o,body:{type:"ordgroup",mode:t.mode,body:a}}},htmlBuilder:e4,mathmlBuilder:t4});var r4=(r,e)=>{var t=e;return r==="display"?t=t.id>=te.SCRIPT.id?t.text():te.DISPLAY:r==="text"&&t.size===te.DISPLAY.size?t=te.TEXT:r==="script"?t=te.SCRIPT:r==="scriptscript"&&(t=te.SCRIPTSCRIPT),t},hu=(r,e)=>{var t=r4(r.size,e.style),n=t.fracNum(),s=t.fracDen(),i;i=e.havingStyle(n);var a=_e(r.numer,i,e);if(r.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}i=e.havingStyle(s);var u=_e(r.denom,i,e),h,d,g;r.hasBarLine?(r.barSize?(d=ze(r.barSize,e),h=S.makeLineSpan("frac-line",e,d)):h=S.makeLineSpan("frac-line",e),d=h.height,g=h.height):(h=null,d=0,g=e.fontMetrics().defaultRuleThickness);var v,w,k;t.size===te.DISPLAY.size||r.size==="display"?(v=e.fontMetrics().num1,d>0?w=3*g:w=7*g,k=e.fontMetrics().denom1):(d>0?(v=e.fontMetrics().num2,w=g):(v=e.fontMetrics().num3,w=3*g),k=e.fontMetrics().denom2);var T;if(h){var O=e.fontMetrics().axisHeight;v-a.depth-(O+.5*d)<w&&(v+=w-(v-a.depth-(O+.5*d))),O-.5*d-(u.height-k)<w&&(k+=w-(O-.5*d-(u.height-k)));var U=-(O-.5*d);T=S.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:k},{type:"elem",elem:h,shift:U},{type:"elem",elem:a,shift:-v}]},e)}else{var x=v-a.depth-(u.height-k);x<w&&(v+=.5*(w-x),k+=.5*(w-x)),T=S.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:k},{type:"elem",elem:a,shift:-v}]},e)}i=e.havingStyle(t),T.height*=i.sizeMultiplier/e.sizeMultiplier,T.depth*=i.sizeMultiplier/e.sizeMultiplier;var q;t.size===te.DISPLAY.size?q=e.fontMetrics().delim1:t.size===te.SCRIPTSCRIPT.size?q=e.havingStyle(te.SCRIPT).fontMetrics().delim2:q=e.fontMetrics().delim2;var z,P;return r.leftDelim==null?z=$s(e,["mopen"]):z=or.customSizedDelim(r.leftDelim,q,!0,e.havingStyle(t),r.mode,["mopen"]),r.continued?P=S.makeSpan([]):r.rightDelim==null?P=$s(e,["mclose"]):P=or.customSizedDelim(r.rightDelim,q,!0,e.havingStyle(t),r.mode,["mclose"]),S.makeSpan(["mord"].concat(i.sizingClasses(e)),[z,S.makeSpan(["mfrac"],[T]),P],e)},fu=(r,e)=>{var t=new R.MathNode("mfrac",[Ie(r.numer,e),Ie(r.denom,e)]);if(!r.hasBarLine)t.setAttribute("linethickness","0px");else if(r.barSize){var n=ze(r.barSize,e);t.setAttribute("linethickness",B(n))}var s=r4(r.size,e.style);if(s.size!==e.style.size){t=new R.MathNode("mstyle",[t]);var i=s.size===te.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",i),t.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var a=[];if(r.leftDelim!=null){var o=new R.MathNode("mo",[new R.TextNode(r.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(t),r.rightDelim!=null){var l=new R.MathNode("mo",[new R.TextNode(r.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return ru(a)}return t};V({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0],i=e[1],a,o=null,l=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:s,denom:i,hasBarLine:a,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:hu,mathmlBuilder:fu});V({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0],i=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:s,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});V({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:e,funcName:t,token:n}=r,s;switch(t){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:s,token:n}}});var Nh=["display","text","script","scriptscript"],Rh=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};V({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,e){var{parser:t}=r,n=e[4],s=e[5],i=ya(e[0]),a=i.type==="atom"&&i.family==="open"?Rh(i.text):null,o=ya(e[1]),l=o.type==="atom"&&o.family==="close"?Rh(o.text):null,u=fe(e[2],"size"),h,d=null;u.isBlank?h=!0:(d=u.value,h=d.number>0);var g="auto",v=e[3];if(v.type==="ordgroup"){if(v.body.length>0){var w=fe(v.body[0],"textord");g=Nh[Number(w.text)]}}else v=fe(v,"textord"),g=Nh[Number(v.text)];return{type:"genfrac",mode:t.mode,numer:n,denom:s,continued:!1,hasBarLine:h,barSize:d,leftDelim:a,rightDelim:l,size:g}},htmlBuilder:hu,mathmlBuilder:fu});V({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,e){var{parser:t,funcName:n,token:s}=r;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:fe(e[0],"size").value,token:s}}});V({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0],i=Q8(fe(e[1],"infix").size),a=e[2],o=i.number>0;return{type:"genfrac",mode:t.mode,numer:s,denom:a,continued:!1,hasBarLine:o,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:hu,mathmlBuilder:fu});var n4=(r,e)=>{var t=e.style,n,s;r.type==="supsub"?(n=r.sup?_e(r.sup,e.havingStyle(t.sup()),e):_e(r.sub,e.havingStyle(t.sub()),e),s=fe(r.base,"horizBrace")):s=fe(r,"horizBrace");var i=_e(s.base,e.havingBaseStyle(te.DISPLAY)),a=pr.svgSpan(s,e),o;if(s.isOver?(o=S.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=S.makeVList({positionType:"bottom",positionData:i.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:i}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var l=S.makeSpan(["mord",s.isOver?"mover":"munder"],[o],e);s.isOver?o=S.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=S.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return S.makeSpan(["mord",s.isOver?"mover":"munder"],[o],e)},_9=(r,e)=>{var t=pr.mathMLnode(r.label);return new R.MathNode(r.isOver?"mover":"munder",[Ie(r.base,e),t])};V({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,e){var{parser:t,funcName:n}=r;return{type:"horizBrace",mode:t.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:n4,mathmlBuilder:_9});V({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[1],s=fe(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:t.mode,href:s,body:Pe(n)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(r,e)=>{var t=Ke(r.body,e,!1);return S.makeAnchor(r.href,[],t,e)},mathmlBuilder:(r,e)=>{var t=Pr(r.body,e);return t instanceof At||(t=new At("mrow",[t])),t.setAttribute("href",r.href),t}});V({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=fe(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:n}))return t.formatUnsupportedCmd("\\url");for(var s=[],i=0;i<n.length;i++){var a=n[i];a==="~"&&(a="\\textasciitilde"),s.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:t.mode,font:"\\texttt",body:s};return{type:"href",mode:t.mode,href:n,body:Pe(o)}}});V({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,e){var{parser:t}=r;return{type:"hbox",mode:t.mode,body:Pe(e[0])}},htmlBuilder(r,e){var t=Ke(r.body,e,!1);return S.makeFragment(t)},mathmlBuilder(r,e){return new R.MathNode("mrow",St(r.body,e))}});V({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n,token:s}=r,i=fe(e[0],"raw").string,a=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(n){case"\\htmlClass":l.class=i,o={command:"\\htmlClass",class:i};break;case"\\htmlId":l.id=i,o={command:"\\htmlId",id:i};break;case"\\htmlStyle":l.style=i,o={command:"\\htmlStyle",style:i};break;case"\\htmlData":{for(var u=i.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length!==2)throw new $("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(o)?{type:"html",mode:t.mode,attributes:l,body:Pe(a)}:t.formatUnsupportedCmd(n)},htmlBuilder:(r,e)=>{var t=Ke(r.body,e,!1),n=["enclosing"];r.attributes.class&&n.push(...r.attributes.class.trim().split(/\s+/));var s=S.makeSpan(n,t,e);for(var i in r.attributes)i!=="class"&&r.attributes.hasOwnProperty(i)&&s.setAttribute(i,r.attributes[i]);return s},mathmlBuilder:(r,e)=>Pr(r.body,e)});V({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r;return{type:"htmlmathml",mode:t.mode,html:Pe(e[0]),mathml:Pe(e[1])}},htmlBuilder:(r,e)=>{var t=Ke(r.html,e,!1);return S.makeFragment(t)},mathmlBuilder:(r,e)=>Pr(r.mathml,e)});var q0=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new $("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!km(n))throw new $("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};V({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,e,t)=>{var{parser:n}=r,s={number:0,unit:"em"},i={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(t[0])for(var l=fe(t[0],"raw").string,u=l.split(","),h=0;h<u.length;h++){var d=u[h].split("=");if(d.length===2){var g=d[1].trim();switch(d[0].trim()){case"alt":o=g;break;case"width":s=q0(g);break;case"height":i=q0(g);break;case"totalheight":a=q0(g);break;default:throw new $("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var v=fe(e[0],"url").url;return o===""&&(o=v,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:v})?{type:"includegraphics",mode:n.mode,alt:o,width:s,height:i,totalheight:a,src:v}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,e)=>{var t=ze(r.height,e),n=0;r.totalheight.number>0&&(n=ze(r.totalheight,e)-t);var s=0;r.width.number>0&&(s=ze(r.width,e));var i={height:B(t+n)};s>0&&(i.width=B(s)),n>0&&(i.verticalAlign=B(-n));var a=new _y(r.src,r.alt,i);return a.height=t,a.depth=n,a},mathmlBuilder:(r,e)=>{var t=new R.MathNode("mglyph",[]);t.setAttribute("alt",r.alt);var n=ze(r.height,e),s=0;if(r.totalheight.number>0&&(s=ze(r.totalheight,e)-n,t.setAttribute("valign",B(-s))),t.setAttribute("height",B(n+s)),r.width.number>0){var i=ze(r.width,e);t.setAttribute("width",B(i))}return t.setAttribute("src",r.src),t}});V({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,e){var{parser:t,funcName:n}=r,s=fe(e[0],"size");if(t.settings.strict){var i=n[1]==="m",a=s.value.unit==="mu";i?(a||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+s.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:s.value}},htmlBuilder(r,e){return S.makeGlue(r.dimension,e)},mathmlBuilder(r,e){var t=ze(r.dimension,e);return new R.SpaceNode(t)}});V({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0];return{type:"lap",mode:t.mode,alignment:n.slice(5),body:s}},htmlBuilder:(r,e)=>{var t;r.alignment==="clap"?(t=S.makeSpan([],[_e(r.body,e)]),t=S.makeSpan(["inner"],[t],e)):t=S.makeSpan(["inner"],[_e(r.body,e)]);var n=S.makeSpan(["fix"],[]),s=S.makeSpan([r.alignment],[t,n],e),i=S.makeSpan(["strut"]);return i.style.height=B(s.height+s.depth),s.depth&&(i.style.verticalAlign=B(-s.depth)),s.children.unshift(i),s=S.makeSpan(["thinbox"],[s],e),S.makeSpan(["mord","vbox"],[s],e)},mathmlBuilder:(r,e)=>{var t=new R.MathNode("mpadded",[Ie(r.body,e)]);if(r.alignment!=="rlap"){var n=r.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",n+"width")}return t.setAttribute("width","0px"),t}});V({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){var{funcName:t,parser:n}=r,s=n.mode;n.switchMode("math");var i=t==="\\("?"\\)":"$",a=n.parseExpression(!1,i);return n.expect(i),n.switchMode(s),{type:"styling",mode:n.mode,style:"text",body:a}}});V({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,e){throw new $("Mismatched "+r.funcName)}});var Oh=(r,e)=>{switch(e.style.size){case te.DISPLAY.size:return r.display;case te.TEXT.size:return r.text;case te.SCRIPT.size:return r.script;case te.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};V({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,e)=>{var{parser:t}=r;return{type:"mathchoice",mode:t.mode,display:Pe(e[0]),text:Pe(e[1]),script:Pe(e[2]),scriptscript:Pe(e[3])}},htmlBuilder:(r,e)=>{var t=Oh(r,e),n=Ke(t,e,!1);return S.makeFragment(n)},mathmlBuilder:(r,e)=>{var t=Oh(r,e);return Pr(t,e)}});var s4=(r,e,t,n,s,i,a)=>{r=S.makeSpan([],[r]);var o=t&&se.isCharacterBox(t),l,u;if(e){var h=_e(e,n.havingStyle(s.sup()),n);u={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-h.depth)}}if(t){var d=_e(t,n.havingStyle(s.sub()),n);l={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}var g;if(u&&l){var v=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+r.depth+a;g=S.makeVList({positionType:"bottom",positionData:v,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:B(-i)},{type:"kern",size:l.kern},{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:B(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var w=r.height-a;g=S.makeVList({positionType:"top",positionData:w,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:B(-i)},{type:"kern",size:l.kern},{type:"elem",elem:r}]},n)}else if(u){var k=r.depth+a;g=S.makeVList({positionType:"bottom",positionData:k,children:[{type:"elem",elem:r},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:B(i)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return r;var T=[g];if(l&&i!==0&&!o){var x=S.makeSpan(["mspace"],[],n);x.style.marginRight=B(i),T.unshift(x)}return S.makeSpan(["mop","op-limits"],T,n)},i4=["\\smallint"],Jn=(r,e)=>{var t,n,s=!1,i;r.type==="supsub"?(t=r.sup,n=r.sub,i=fe(r.base,"op"),s=!0):i=fe(r,"op");var a=e.style,o=!1;a.size===te.DISPLAY.size&&i.symbol&&!se.contains(i4,i.name)&&(o=!0);var l;if(i.symbol){var u=o?"Size2-Regular":"Size1-Regular",h="";if((i.name==="\\oiint"||i.name==="\\oiiint")&&(h=i.name.slice(1),i.name=h==="oiint"?"\\iint":"\\iiint"),l=S.makeSymbol(i.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),h.length>0){var d=l.italic,g=S.staticSvg(h+"Size"+(o?"2":"1"),e);l=S.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:g,shift:o?.08:0}]},e),i.name="\\"+h,l.classes.unshift("mop"),l.italic=d}}else if(i.body){var v=Ke(i.body,e,!0);v.length===1&&v[0]instanceof Nt?(l=v[0],l.classes[0]="mop"):l=S.makeSpan(["mop"],v,e)}else{for(var w=[],k=1;k<i.name.length;k++)w.push(S.mathsym(i.name[k],i.mode,e));l=S.makeSpan(["mop"],w,e)}var T=0,x=0;return(l instanceof Nt||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(T=(l.height-l.depth)/2-e.fontMetrics().axisHeight,x=l.italic),s?s4(l,t,n,e,a,x,T):(T&&(l.style.position="relative",l.style.top=B(T)),l)},li=(r,e)=>{var t;if(r.symbol)t=new At("mo",[Rt(r.name,r.mode)]),se.contains(i4,r.name)&&t.setAttribute("largeop","false");else if(r.body)t=new At("mo",St(r.body,e));else{t=new At("mi",[new ds(r.name.slice(1))]);var n=new At("mo",[Rt("\u2061","text")]);r.parentIsSupSub?t=new At("mrow",[t,n]):t=Rm([t,n])}return t},k9={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};V({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=n;return s.length===1&&(s=k9[s]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:Jn,mathmlBuilder:li});V({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Pe(n)}},htmlBuilder:Jn,mathmlBuilder:li});var S9={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};V({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Jn,mathmlBuilder:li});V({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Jn,mathmlBuilder:li});V({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(r){var{parser:e,funcName:t}=r,n=t;return n.length===1&&(n=S9[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Jn,mathmlBuilder:li});var a4=(r,e)=>{var t,n,s=!1,i;r.type==="supsub"?(t=r.sup,n=r.sub,i=fe(r.base,"operatorname"),s=!0):i=fe(r,"operatorname");var a;if(i.body.length>0){for(var o=i.body.map(d=>{var g=d.text;return typeof g=="string"?{type:"textord",mode:d.mode,text:g}:d}),l=Ke(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var h=l[u];h instanceof Nt&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=S.makeSpan(["mop"],l,e)}else a=S.makeSpan(["mop"],[],e);return s?s4(a,t,n,e,e.style,0,0):a},T9=(r,e)=>{for(var t=St(r.body,e.withFont("mathrm")),n=!0,s=0;s<t.length;s++){var i=t[s];if(!(i instanceof R.SpaceNode))if(i instanceof R.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=i.children[0];i.children.length===1&&a instanceof R.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=t.map(h=>h.toText()).join("");t=[new R.TextNode(o)]}var l=new R.MathNode("mi",t);l.setAttribute("mathvariant","normal");var u=new R.MathNode("mo",[Rt("\u2061","text")]);return r.parentIsSupSub?new R.MathNode("mrow",[l,u]):R.newDocumentFragment([l,u])};V({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,e)=>{var{parser:t,funcName:n}=r,s=e[0];return{type:"operatorname",mode:t.mode,body:Pe(s),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:a4,mathmlBuilder:T9});p("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");mn({type:"ordgroup",htmlBuilder(r,e){return r.semisimple?S.makeFragment(Ke(r.body,e,!1)):S.makeSpan(["mord"],Ke(r.body,e,!0),e)},mathmlBuilder(r,e){return Pr(r.body,e,!0)}});V({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,e){var{parser:t}=r,n=e[0];return{type:"overline",mode:t.mode,body:n}},htmlBuilder(r,e){var t=_e(r.body,e.havingCrampedStyle()),n=S.makeLineSpan("overline-line",e),s=e.fontMetrics().defaultRuleThickness,i=S.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*s},{type:"elem",elem:n},{type:"kern",size:s}]},e);return S.makeSpan(["mord","overline"],[i],e)},mathmlBuilder(r,e){var t=new R.MathNode("mo",[new R.TextNode("\u203E")]);t.setAttribute("stretchy","true");var n=new R.MathNode("mover",[Ie(r.body,e),t]);return n.setAttribute("accent","true"),n}});V({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"phantom",mode:t.mode,body:Pe(n)}},htmlBuilder:(r,e)=>{var t=Ke(r.body,e.withPhantom(),!1);return S.makeFragment(t)},mathmlBuilder:(r,e)=>{var t=St(r.body,e);return new R.MathNode("mphantom",t)}});V({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"hphantom",mode:t.mode,body:n}},htmlBuilder:(r,e)=>{var t=S.makeSpan([],[_e(r.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var n=0;n<t.children.length;n++)t.children[n].height=0,t.children[n].depth=0;return t=S.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),S.makeSpan(["mord"],[t],e)},mathmlBuilder:(r,e)=>{var t=St(Pe(r.body),e),n=new R.MathNode("mphantom",t),s=new R.MathNode("mpadded",[n]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});V({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,e)=>{var{parser:t}=r,n=e[0];return{type:"vphantom",mode:t.mode,body:n}},htmlBuilder:(r,e)=>{var t=S.makeSpan(["inner"],[_e(r.body,e.withPhantom())]),n=S.makeSpan(["fix"],[]);return S.makeSpan(["mord","rlap"],[t,n],e)},mathmlBuilder:(r,e)=>{var t=St(Pe(r.body),e),n=new R.MathNode("mphantom",t),s=new R.MathNode("mpadded",[n]);return s.setAttribute("width","0px"),s}});V({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,e){var{parser:t}=r,n=fe(e[0],"size").value,s=e[1];return{type:"raisebox",mode:t.mode,dy:n,body:s}},htmlBuilder(r,e){var t=_e(r.body,e),n=ze(r.dy,e);return S.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(r,e){var t=new R.MathNode("mpadded",[Ie(r.body,e)]),n=r.dy.number+r.dy.unit;return t.setAttribute("voffset",n),t}});V({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:e}=r;return{type:"internal",mode:e.mode}}});V({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(r,e,t){var{parser:n}=r,s=t[0],i=fe(e[0],"size"),a=fe(e[1],"size");return{type:"rule",mode:n.mode,shift:s&&fe(s,"size").value,width:i.value,height:a.value}},htmlBuilder(r,e){var t=S.makeSpan(["mord","rule"],[],e),n=ze(r.width,e),s=ze(r.height,e),i=r.shift?ze(r.shift,e):0;return t.style.borderRightWidth=B(n),t.style.borderTopWidth=B(s),t.style.bottom=B(i),t.width=n,t.height=s+i,t.depth=-i,t.maxFontSize=s*1.125*e.sizeMultiplier,t},mathmlBuilder(r,e){var t=ze(r.width,e),n=ze(r.height,e),s=r.shift?ze(r.shift,e):0,i=e.color&&e.getColor()||"black",a=new R.MathNode("mspace");a.setAttribute("mathbackground",i),a.setAttribute("width",B(t)),a.setAttribute("height",B(n));var o=new R.MathNode("mpadded",[a]);return s>=0?o.setAttribute("height",B(s)):(o.setAttribute("height",B(s)),o.setAttribute("depth",B(-s))),o.setAttribute("voffset",B(s)),o}});function o4(r,e,t){for(var n=Ke(r,e,!1),s=e.sizeMultiplier/t.sizeMultiplier,i=0;i<n.length;i++){var a=n[i].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[i].classes,e.sizingClasses(t)):n[i].classes[a+1]==="reset-size"+e.size&&(n[i].classes[a+1]="reset-size"+t.size),n[i].height*=s,n[i].depth*=s}return S.makeFragment(n)}var $h=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],x9=(r,e)=>{var t=e.havingSize(r.size);return o4(r.body,t,e)};V({type:"sizing",names:$h,props:{numArgs:0,allowedInText:!0},handler:(r,e)=>{var{breakOnTokenText:t,funcName:n,parser:s}=r,i=s.parseExpression(!1,t);return{type:"sizing",mode:s.mode,size:$h.indexOf(n)+1,body:i}},htmlBuilder:x9,mathmlBuilder:(r,e)=>{var t=e.havingSize(r.size),n=St(r.body,t),s=new R.MathNode("mstyle",n);return s.setAttribute("mathsize",B(t.sizeMultiplier)),s}});V({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,e,t)=>{var{parser:n}=r,s=!1,i=!1,a=t[0]&&fe(t[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var u=a.body[l];if(o=u.text,o==="t")s=!0;else if(o==="b")i=!0;else{s=!1,i=!1;break}}else s=!0,i=!0;var h=e[0];return{type:"smash",mode:n.mode,body:h,smashHeight:s,smashDepth:i}},htmlBuilder:(r,e)=>{var t=S.makeSpan([],[_e(r.body,e)]);if(!r.smashHeight&&!r.smashDepth)return t;if(r.smashHeight&&(t.height=0,t.children))for(var n=0;n<t.children.length;n++)t.children[n].height=0;if(r.smashDepth&&(t.depth=0,t.children))for(var s=0;s<t.children.length;s++)t.children[s].depth=0;var i=S.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return S.makeSpan(["mord"],[i],e)},mathmlBuilder:(r,e)=>{var t=new R.MathNode("mpadded",[Ie(r.body,e)]);return r.smashHeight&&t.setAttribute("height","0px"),r.smashDepth&&t.setAttribute("depth","0px"),t}});V({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,e,t){var{parser:n}=r,s=t[0],i=e[0];return{type:"sqrt",mode:n.mode,body:i,index:s}},htmlBuilder(r,e){var t=_e(r.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=S.wrapFragment(t,e);var n=e.fontMetrics(),s=n.defaultRuleThickness,i=s;e.style.id<te.TEXT.id&&(i=e.fontMetrics().xHeight);var a=s+i/4,o=t.height+t.depth+a+s,{span:l,ruleWidth:u,advanceWidth:h}=or.sqrtImage(o,e),d=l.height-u;d>t.height+t.depth+a&&(a=(a+d-t.height-t.depth)/2);var g=l.height-t.height-a-u;t.style.paddingLeft=B(h);var v=S.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+g)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(r.index){var w=e.havingStyle(te.SCRIPTSCRIPT),k=_e(r.index,w,e),T=.6*(v.height-v.depth),x=S.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:k}]},e),O=S.makeSpan(["root"],[x]);return S.makeSpan(["mord","sqrt"],[O,v],e)}else return S.makeSpan(["mord","sqrt"],[v],e)},mathmlBuilder(r,e){var{body:t,index:n}=r;return n?new R.MathNode("mroot",[Ie(t,e),Ie(n,e)]):new R.MathNode("msqrt",[Ie(t,e)])}});var Lh={display:te.DISPLAY,text:te.TEXT,script:te.SCRIPT,scriptscript:te.SCRIPTSCRIPT};V({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,e){var{breakOnTokenText:t,funcName:n,parser:s}=r,i=s.parseExpression(!0,t),a=n.slice(1,n.length-5);return{type:"styling",mode:s.mode,style:a,body:i}},htmlBuilder(r,e){var t=Lh[r.style],n=e.havingStyle(t).withFont("");return o4(r.body,n,e)},mathmlBuilder(r,e){var t=Lh[r.style],n=e.havingStyle(t),s=St(r.body,n),i=new R.MathNode("mstyle",s),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[r.style];return i.setAttribute("scriptlevel",o[0]),i.setAttribute("displaystyle",o[1]),i}});var E9=function(e,t){var n=e.base;if(n)if(n.type==="op"){var s=n.limits&&(t.style.size===te.DISPLAY.size||n.alwaysHandleSupSub);return s?Jn:null}else if(n.type==="operatorname"){var i=n.alwaysHandleSupSub&&(t.style.size===te.DISPLAY.size||n.limits);return i?a4:null}else{if(n.type==="accent")return se.isCharacterBox(n.base)?iu:null;if(n.type==="horizBrace"){var a=!e.sub;return a===n.isOver?n4:null}else return null}else return null};mn({type:"supsub",htmlBuilder(r,e){var t=E9(r,e);if(t)return t(r,e);var{base:n,sup:s,sub:i}=r,a=_e(n,e),o,l,u=e.fontMetrics(),h=0,d=0,g=n&&se.isCharacterBox(n);if(s){var v=e.havingStyle(e.style.sup());o=_e(s,v,e),g||(h=a.height-v.fontMetrics().supDrop*v.sizeMultiplier/e.sizeMultiplier)}if(i){var w=e.havingStyle(e.style.sub());l=_e(i,w,e),g||(d=a.depth+w.fontMetrics().subDrop*w.sizeMultiplier/e.sizeMultiplier)}var k;e.style===te.DISPLAY?k=u.sup1:e.style.cramped?k=u.sup3:k=u.sup2;var T=e.sizeMultiplier,x=B(.5/u.ptPerEm/T),O=null;if(l){var U=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");(a instanceof Nt||U)&&(O=B(-a.italic))}var q;if(o&&l){h=Math.max(h,k,o.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var z=u.defaultRuleThickness,P=4*z;if(h-o.depth-(l.height-d)<P){d=P-(h-o.depth)+l.height;var Y=.8*u.xHeight-(h-o.depth);Y>0&&(h+=Y,d-=Y)}var ee=[{type:"elem",elem:l,shift:d,marginRight:x,marginLeft:O},{type:"elem",elem:o,shift:-h,marginRight:x}];q=S.makeVList({positionType:"individualShift",children:ee},e)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var ie=[{type:"elem",elem:l,marginLeft:O,marginRight:x}];q=S.makeVList({positionType:"shift",positionData:d,children:ie},e)}else if(o)h=Math.max(h,k,o.depth+.25*u.xHeight),q=S.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:o,marginRight:x}]},e);else throw new Error("supsub must have either sup or sub.");var Ot=Io(a,"right")||"mord";return S.makeSpan([Ot],[a,S.makeSpan(["msupsub"],[q])],e)},mathmlBuilder(r,e){var t=!1,n,s;r.base&&r.base.type==="horizBrace"&&(s=!!r.sup,s===r.base.isOver&&(t=!0,n=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var i=[Ie(r.base,e)];r.sub&&i.push(Ie(r.sub,e)),r.sup&&i.push(Ie(r.sup,e));var a;if(t)a=n?"mover":"munder";else if(r.sub)if(r.sup){var u=r.base;u&&u.type==="op"&&u.limits&&e.style===te.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===te.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=r.base;l&&l.type==="op"&&l.limits&&(e.style===te.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===te.DISPLAY)?a="munder":a="msub"}else{var o=r.base;o&&o.type==="op"&&o.limits&&(e.style===te.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===te.DISPLAY)?a="mover":a="msup"}return new R.MathNode(a,i)}});mn({type:"atom",htmlBuilder(r,e){return S.mathsym(r.text,r.mode,e,["m"+r.family])},mathmlBuilder(r,e){var t=new R.MathNode("mo",[Rt(r.text,r.mode)]);if(r.family==="bin"){var n=nu(r,e);n==="bold-italic"&&t.setAttribute("mathvariant",n)}else r.family==="punct"?t.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&t.setAttribute("stretchy","false");return t}});var l4={mi:"italic",mn:"normal",mtext:"normal"};mn({type:"mathord",htmlBuilder(r,e){return S.makeOrd(r,e,"mathord")},mathmlBuilder(r,e){var t=new R.MathNode("mi",[Rt(r.text,r.mode,e)]),n=nu(r,e)||"italic";return n!==l4[t.type]&&t.setAttribute("mathvariant",n),t}});mn({type:"textord",htmlBuilder(r,e){return S.makeOrd(r,e,"textord")},mathmlBuilder(r,e){var t=Rt(r.text,r.mode,e),n=nu(r,e)||"normal",s;return r.mode==="text"?s=new R.MathNode("mtext",[t]):/[0-9]/.test(r.text)?s=new R.MathNode("mn",[t]):r.text==="\\prime"?s=new R.MathNode("mo",[t]):s=new R.MathNode("mi",[t]),n!==l4[s.type]&&s.setAttribute("mathvariant",n),s}});var U0={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},V0={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};mn({type:"spacing",htmlBuilder(r,e){if(V0.hasOwnProperty(r.text)){var t=V0[r.text].className||"";if(r.mode==="text"){var n=S.makeOrd(r,e,"textord");return n.classes.push(t),n}else return S.makeSpan(["mspace",t],[S.mathsym(r.text,r.mode,e)],e)}else{if(U0.hasOwnProperty(r.text))return S.makeSpan(["mspace",U0[r.text]],[],e);throw new $('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,e){var t;if(V0.hasOwnProperty(r.text))t=new R.MathNode("mtext",[new R.TextNode("\xA0")]);else{if(U0.hasOwnProperty(r.text))return new R.MathNode("mspace");throw new $('Unknown type of space "'+r.text+'"')}return t}});var zh=()=>{var r=new R.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};mn({type:"tag",mathmlBuilder(r,e){var t=new R.MathNode("mtable",[new R.MathNode("mtr",[zh(),new R.MathNode("mtd",[Pr(r.body,e)]),zh(),new R.MathNode("mtd",[Pr(r.tag,e)])])]);return t.setAttribute("width","100%"),t}});var Ph={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Bh={"\\textbf":"textbf","\\textmd":"textmd"},I9={"\\textit":"textit","\\textup":"textup"},Fh=(r,e)=>{var t=r.font;return t?Ph[t]?e.withTextFontFamily(Ph[t]):Bh[t]?e.withTextFontWeight(Bh[t]):e.withTextFontShape(I9[t]):e};V({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,e){var{parser:t,funcName:n}=r,s=e[0];return{type:"text",mode:t.mode,body:Pe(s),font:n}},htmlBuilder(r,e){var t=Fh(r,e),n=Ke(r.body,t,!0);return S.makeSpan(["mord","text"],n,t)},mathmlBuilder(r,e){var t=Fh(r,e);return Pr(r.body,t)}});V({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,e){var{parser:t}=r;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(r,e){var t=_e(r.body,e),n=S.makeLineSpan("underline-line",e),s=e.fontMetrics().defaultRuleThickness,i=S.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:s},{type:"elem",elem:n},{type:"kern",size:3*s},{type:"elem",elem:t}]},e);return S.makeSpan(["mord","underline"],[i],e)},mathmlBuilder(r,e){var t=new R.MathNode("mo",[new R.TextNode("\u203E")]);t.setAttribute("stretchy","true");var n=new R.MathNode("munder",[Ie(r.body,e),t]);return n.setAttribute("accentunder","true"),n}});V({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,e){var{parser:t}=r;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(r,e){var t=_e(r.body,e),n=e.fontMetrics().axisHeight,s=.5*(t.height-n-(t.depth+n));return S.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(r,e){return new R.MathNode("mpadded",[Ie(r.body,e)],["vcenter"])}});V({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,e,t){throw new $("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,e){for(var t=qh(r),n=[],s=e.havingStyle(e.style.text()),i=0;i<t.length;i++){var a=t[i];a==="~"&&(a="\\textasciitilde"),n.push(S.makeSymbol(a,"Typewriter-Regular",r.mode,s,["mord","texttt"]))}return S.makeSpan(["mord","text"].concat(s.sizingClasses(e)),S.tryCombineChars(n),s)},mathmlBuilder(r,e){var t=new R.TextNode(qh(r)),n=new R.MathNode("mtext",[t]);return n.setAttribute("mathvariant","monospace"),n}});var qh=r=>r.body.replace(/ /g,r.star?"\u2423":"\xA0"),Ar=Dm,u4=`[ \r
	]`,A9="\\\\[a-zA-Z@]+",M9="\\\\[^\uD800-\uDFFF]",C9="("+A9+")"+u4+"*",D9=`\\\\(
|[ \r	]+
?)[ \r	]*`,Do="[\u0300-\u036F]",N9=new RegExp(Do+"+$"),R9="("+u4+"+)|"+(D9+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(Do+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Do+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+C9)+("|"+M9+")");class Uh{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(R9,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Mt("EOF",new Tt(this,t,t));var n=this.tokenRegex.exec(e);if(n===null||n.index!==t)throw new $("Unexpected character: '"+e[t]+"'",new Mt(e[t],new Tt(this,t,t+1)));var s=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[s]===14){var i=e.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new Mt(s,new Tt(this,t,this.tokenRegex.lastIndex))}}class O9{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new $("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(n===void 0&&(n=!1),n){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var $9=Jm;p("\\noexpand",function(r){var e=r.popToken();return r.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});p("\\expandafter",function(r){var e=r.popToken();return r.expandOnce(!0),{tokens:[e],numArgs:0}});p("\\@firstoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[0],numArgs:0}});p("\\@secondoftwo",function(r){var e=r.consumeArgs(2);return{tokens:e[1],numArgs:0}});p("\\@ifnextchar",function(r){var e=r.consumeArgs(3);r.consumeSpaces();var t=r.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});p("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");p("\\TextOrMath",function(r){var e=r.consumeArgs(2);return r.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Vh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};p("\\char",function(r){var e=r.popToken(),t,n="";if(e.text==="'")t=8,e=r.popToken();else if(e.text==='"')t=16,e=r.popToken();else if(e.text==="`")if(e=r.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new $("\\char` missing argument");n=e.text.charCodeAt(0)}else t=10;if(t){if(n=Vh[e.text],n==null||n>=t)throw new $("Invalid base-"+t+" digit "+e.text);for(var s;(s=Vh[r.future().text])!=null&&s<t;)n*=t,n+=s,r.popToken()}return"\\@char{"+n+"}"});var du=(r,e,t)=>{var n=r.consumeArg().tokens;if(n.length!==1)throw new $("\\newcommand's first argument must be a macro name");var s=n[0].text,i=r.isDefined(s);if(i&&!e)throw new $("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!i&&!t)throw new $("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var a=0;if(n=r.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var o="",l=r.expandNextToken();l.text!=="]"&&l.text!=="EOF";)o+=l.text,l=r.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new $("Invalid number of arguments: "+o);a=parseInt(o),n=r.consumeArg().tokens}return r.macros.set(s,{tokens:n,numArgs:a}),""};p("\\newcommand",r=>du(r,!1,!0));p("\\renewcommand",r=>du(r,!0,!1));p("\\providecommand",r=>du(r,!0,!0));p("\\message",r=>{var e=r.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});p("\\errmessage",r=>{var e=r.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});p("\\show",r=>{var e=r.popToken(),t=e.text;return console.log(e,r.macros.get(t),Ar[t],De.math[t],De.text[t]),""});p("\\bgroup","{");p("\\egroup","}");p("~","\\nobreakspace");p("\\lq","`");p("\\rq","'");p("\\aa","\\r a");p("\\AA","\\r A");p("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");p("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");p("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");p("\u212C","\\mathscr{B}");p("\u2130","\\mathscr{E}");p("\u2131","\\mathscr{F}");p("\u210B","\\mathscr{H}");p("\u2110","\\mathscr{I}");p("\u2112","\\mathscr{L}");p("\u2133","\\mathscr{M}");p("\u211B","\\mathscr{R}");p("\u212D","\\mathfrak{C}");p("\u210C","\\mathfrak{H}");p("\u2128","\\mathfrak{Z}");p("\\Bbbk","\\Bbb{k}");p("\xB7","\\cdotp");p("\\llap","\\mathllap{\\textrm{#1}}");p("\\rlap","\\mathrlap{\\textrm{#1}}");p("\\clap","\\mathclap{\\textrm{#1}}");p("\\mathstrut","\\vphantom{(}");p("\\underbar","\\underline{\\text{#1}}");p("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');p("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");p("\\ne","\\neq");p("\u2260","\\neq");p("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");p("\u2209","\\notin");p("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");p("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");p("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");p("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");p("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");p("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");p("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");p("\u27C2","\\perp");p("\u203C","\\mathclose{!\\mkern-0.8mu!}");p("\u220C","\\notni");p("\u231C","\\ulcorner");p("\u231D","\\urcorner");p("\u231E","\\llcorner");p("\u231F","\\lrcorner");p("\xA9","\\copyright");p("\xAE","\\textregistered");p("\uFE0F","\\textregistered");p("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');p("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');p("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');p("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');p("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");p("\u22EE","\\vdots");p("\\varGamma","\\mathit{\\Gamma}");p("\\varDelta","\\mathit{\\Delta}");p("\\varTheta","\\mathit{\\Theta}");p("\\varLambda","\\mathit{\\Lambda}");p("\\varXi","\\mathit{\\Xi}");p("\\varPi","\\mathit{\\Pi}");p("\\varSigma","\\mathit{\\Sigma}");p("\\varUpsilon","\\mathit{\\Upsilon}");p("\\varPhi","\\mathit{\\Phi}");p("\\varPsi","\\mathit{\\Psi}");p("\\varOmega","\\mathit{\\Omega}");p("\\substack","\\begin{subarray}{c}#1\\end{subarray}");p("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");p("\\boxed","\\fbox{$\\displaystyle{#1}$}");p("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");p("\\implies","\\DOTSB\\;\\Longrightarrow\\;");p("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Hh={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};p("\\dots",function(r){var e="\\dotso",t=r.expandAfterFuture().text;return t in Hh?e=Hh[t]:(t.slice(0,4)==="\\not"||t in De.math&&se.contains(["bin","rel"],De.math[t].group))&&(e="\\dotsb"),e});var mu={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};p("\\dotso",function(r){var e=r.future().text;return e in mu?"\\ldots\\,":"\\ldots"});p("\\dotsc",function(r){var e=r.future().text;return e in mu&&e!==","?"\\ldots\\,":"\\ldots"});p("\\cdots",function(r){var e=r.future().text;return e in mu?"\\@cdots\\,":"\\@cdots"});p("\\dotsb","\\cdots");p("\\dotsm","\\cdots");p("\\dotsi","\\!\\cdots");p("\\dotsx","\\ldots\\,");p("\\DOTSI","\\relax");p("\\DOTSB","\\relax");p("\\DOTSX","\\relax");p("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");p("\\,","\\tmspace+{3mu}{.1667em}");p("\\thinspace","\\,");p("\\>","\\mskip{4mu}");p("\\:","\\tmspace+{4mu}{.2222em}");p("\\medspace","\\:");p("\\;","\\tmspace+{5mu}{.2777em}");p("\\thickspace","\\;");p("\\!","\\tmspace-{3mu}{.1667em}");p("\\negthinspace","\\!");p("\\negmedspace","\\tmspace-{4mu}{.2222em}");p("\\negthickspace","\\tmspace-{5mu}{.277em}");p("\\enspace","\\kern.5em ");p("\\enskip","\\hskip.5em\\relax");p("\\quad","\\hskip1em\\relax");p("\\qquad","\\hskip2em\\relax");p("\\tag","\\@ifstar\\tag@literal\\tag@paren");p("\\tag@paren","\\tag@literal{({#1})}");p("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new $("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});p("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");p("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");p("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");p("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");p("\\newline","\\\\\\relax");p("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var c4=B(Vt["Main-Regular"]["T".charCodeAt(0)][1]-.7*Vt["Main-Regular"]["A".charCodeAt(0)][1]);p("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+c4+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");p("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+c4+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");p("\\hspace","\\@ifstar\\@hspacer\\@hspace");p("\\@hspace","\\hskip #1\\relax");p("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");p("\\ordinarycolon",":");p("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");p("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');p("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');p("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');p("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');p("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');p("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');p("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');p("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');p("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');p("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');p("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');p("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');p("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');p("\u2237","\\dblcolon");p("\u2239","\\eqcolon");p("\u2254","\\coloneqq");p("\u2255","\\eqqcolon");p("\u2A74","\\Coloneqq");p("\\ratio","\\vcentcolon");p("\\coloncolon","\\dblcolon");p("\\colonequals","\\coloneqq");p("\\coloncolonequals","\\Coloneqq");p("\\equalscolon","\\eqqcolon");p("\\equalscoloncolon","\\Eqqcolon");p("\\colonminus","\\coloneq");p("\\coloncolonminus","\\Coloneq");p("\\minuscolon","\\eqcolon");p("\\minuscoloncolon","\\Eqcolon");p("\\coloncolonapprox","\\Colonapprox");p("\\coloncolonsim","\\Colonsim");p("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");p("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");p("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");p("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");p("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");p("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");p("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");p("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");p("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");p("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");p("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");p("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");p("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");p("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");p("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");p("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");p("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");p("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");p("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");p("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");p("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");p("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");p("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");p("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");p("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");p("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");p("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");p("\\imath","\\html@mathml{\\@imath}{\u0131}");p("\\jmath","\\html@mathml{\\@jmath}{\u0237}");p("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");p("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");p("\u27E6","\\llbracket");p("\u27E7","\\rrbracket");p("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");p("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");p("\u2983","\\lBrace");p("\u2984","\\rBrace");p("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");p("\u29B5","\\minuso");p("\\darr","\\downarrow");p("\\dArr","\\Downarrow");p("\\Darr","\\Downarrow");p("\\lang","\\langle");p("\\rang","\\rangle");p("\\uarr","\\uparrow");p("\\uArr","\\Uparrow");p("\\Uarr","\\Uparrow");p("\\N","\\mathbb{N}");p("\\R","\\mathbb{R}");p("\\Z","\\mathbb{Z}");p("\\alef","\\aleph");p("\\alefsym","\\aleph");p("\\Alpha","\\mathrm{A}");p("\\Beta","\\mathrm{B}");p("\\bull","\\bullet");p("\\Chi","\\mathrm{X}");p("\\clubs","\\clubsuit");p("\\cnums","\\mathbb{C}");p("\\Complex","\\mathbb{C}");p("\\Dagger","\\ddagger");p("\\diamonds","\\diamondsuit");p("\\empty","\\emptyset");p("\\Epsilon","\\mathrm{E}");p("\\Eta","\\mathrm{H}");p("\\exist","\\exists");p("\\harr","\\leftrightarrow");p("\\hArr","\\Leftrightarrow");p("\\Harr","\\Leftrightarrow");p("\\hearts","\\heartsuit");p("\\image","\\Im");p("\\infin","\\infty");p("\\Iota","\\mathrm{I}");p("\\isin","\\in");p("\\Kappa","\\mathrm{K}");p("\\larr","\\leftarrow");p("\\lArr","\\Leftarrow");p("\\Larr","\\Leftarrow");p("\\lrarr","\\leftrightarrow");p("\\lrArr","\\Leftrightarrow");p("\\Lrarr","\\Leftrightarrow");p("\\Mu","\\mathrm{M}");p("\\natnums","\\mathbb{N}");p("\\Nu","\\mathrm{N}");p("\\Omicron","\\mathrm{O}");p("\\plusmn","\\pm");p("\\rarr","\\rightarrow");p("\\rArr","\\Rightarrow");p("\\Rarr","\\Rightarrow");p("\\real","\\Re");p("\\reals","\\mathbb{R}");p("\\Reals","\\mathbb{R}");p("\\Rho","\\mathrm{P}");p("\\sdot","\\cdot");p("\\sect","\\S");p("\\spades","\\spadesuit");p("\\sub","\\subset");p("\\sube","\\subseteq");p("\\supe","\\supseteq");p("\\Tau","\\mathrm{T}");p("\\thetasym","\\vartheta");p("\\weierp","\\wp");p("\\Zeta","\\mathrm{Z}");p("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");p("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");p("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");p("\\bra","\\mathinner{\\langle{#1}|}");p("\\ket","\\mathinner{|{#1}\\rangle}");p("\\braket","\\mathinner{\\langle{#1}\\rangle}");p("\\Bra","\\left\\langle#1\\right|");p("\\Ket","\\left|#1\\right\\rangle");var h4=r=>e=>{var t=e.consumeArg().tokens,n=e.consumeArg().tokens,s=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>g=>{r&&(g.macros.set("|",a),s.length&&g.macros.set("\\|",o));var v=d;if(!d&&s.length){var w=g.future();w.text==="|"&&(g.popToken(),v=!0)}return{tokens:v?s:n,numArgs:0}};e.macros.set("|",l(!1)),s.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,h=e.expandTokens([...i,...u,...t]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};p("\\bra@ket",h4(!1));p("\\bra@set",h4(!0));p("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");p("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");p("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");p("\\angln","{\\angl n}");p("\\blue","\\textcolor{##6495ed}{#1}");p("\\orange","\\textcolor{##ffa500}{#1}");p("\\pink","\\textcolor{##ff00af}{#1}");p("\\red","\\textcolor{##df0030}{#1}");p("\\green","\\textcolor{##28ae7b}{#1}");p("\\gray","\\textcolor{gray}{#1}");p("\\purple","\\textcolor{##9d38bd}{#1}");p("\\blueA","\\textcolor{##ccfaff}{#1}");p("\\blueB","\\textcolor{##80f6ff}{#1}");p("\\blueC","\\textcolor{##63d9ea}{#1}");p("\\blueD","\\textcolor{##11accd}{#1}");p("\\blueE","\\textcolor{##0c7f99}{#1}");p("\\tealA","\\textcolor{##94fff5}{#1}");p("\\tealB","\\textcolor{##26edd5}{#1}");p("\\tealC","\\textcolor{##01d1c1}{#1}");p("\\tealD","\\textcolor{##01a995}{#1}");p("\\tealE","\\textcolor{##208170}{#1}");p("\\greenA","\\textcolor{##b6ffb0}{#1}");p("\\greenB","\\textcolor{##8af281}{#1}");p("\\greenC","\\textcolor{##74cf70}{#1}");p("\\greenD","\\textcolor{##1fab54}{#1}");p("\\greenE","\\textcolor{##0d923f}{#1}");p("\\goldA","\\textcolor{##ffd0a9}{#1}");p("\\goldB","\\textcolor{##ffbb71}{#1}");p("\\goldC","\\textcolor{##ff9c39}{#1}");p("\\goldD","\\textcolor{##e07d10}{#1}");p("\\goldE","\\textcolor{##a75a05}{#1}");p("\\redA","\\textcolor{##fca9a9}{#1}");p("\\redB","\\textcolor{##ff8482}{#1}");p("\\redC","\\textcolor{##f9685d}{#1}");p("\\redD","\\textcolor{##e84d39}{#1}");p("\\redE","\\textcolor{##bc2612}{#1}");p("\\maroonA","\\textcolor{##ffbde0}{#1}");p("\\maroonB","\\textcolor{##ff92c6}{#1}");p("\\maroonC","\\textcolor{##ed5fa6}{#1}");p("\\maroonD","\\textcolor{##ca337c}{#1}");p("\\maroonE","\\textcolor{##9e034e}{#1}");p("\\purpleA","\\textcolor{##ddd7ff}{#1}");p("\\purpleB","\\textcolor{##c6b9fc}{#1}");p("\\purpleC","\\textcolor{##aa87ff}{#1}");p("\\purpleD","\\textcolor{##7854ab}{#1}");p("\\purpleE","\\textcolor{##543b78}{#1}");p("\\mintA","\\textcolor{##f5f9e8}{#1}");p("\\mintB","\\textcolor{##edf2df}{#1}");p("\\mintC","\\textcolor{##e0e5cc}{#1}");p("\\grayA","\\textcolor{##f6f7f7}{#1}");p("\\grayB","\\textcolor{##f0f1f2}{#1}");p("\\grayC","\\textcolor{##e3e5e6}{#1}");p("\\grayD","\\textcolor{##d6d8da}{#1}");p("\\grayE","\\textcolor{##babec2}{#1}");p("\\grayF","\\textcolor{##888d93}{#1}");p("\\grayG","\\textcolor{##626569}{#1}");p("\\grayH","\\textcolor{##3b3e40}{#1}");p("\\grayI","\\textcolor{##21242c}{#1}");p("\\kaBlue","\\textcolor{##314453}{#1}");p("\\kaGreen","\\textcolor{##71B307}{#1}");var f4={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class L9{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new O9($9,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new Uh(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,s;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:s,end:n}=this.consumeArg(["]"])}else({tokens:s,start:t,end:n}=this.consumeArg());return this.pushToken(new Mt("EOF",n.loc)),this.pushTokens(s),t.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var s=this.future(),i,a=0,o=0;do{if(i=this.popToken(),t.push(i),i.text==="{")++a;else if(i.text==="}"){if(--a,a===-1)throw new $("Extra }",i)}else if(i.text==="EOF")throw new $("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",i);if(e&&n)if((a===0||a===1&&e[o]==="{")&&i.text===e[o]){if(++o,o===e.length){t.splice(-o,o);break}}else o=0}while(a!==0||n);return s.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:s,end:i}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new $("The length of delimiters doesn't match the number of args!");for(var n=t[0],s=0;s<n.length;s++){var i=this.popToken();if(n[s]!==i.text)throw new $("Use of the macro doesn't match its definition",i)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(t&&t[o+1]).tokens);return a}expandOnce(e){var t=this.popToken(),n=t.text,s=t.noexpand?null:this._getExpansion(n);if(s==null||e&&s.unexpandable){if(e&&s==null&&n[0]==="\\"&&!this.isDefined(n))throw new $("Undefined control sequence: "+n);return this.pushToken(t),t}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new $("Too many expansions: infinite loop or need to increase maxExpand setting");var i=s.tokens,a=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){i=i.slice();for(var o=i.length-1;o>=0;--o){var l=i[o];if(l.text==="#"){if(o===0)throw new $("Incomplete placeholder at end of macro body",l);if(l=i[--o],l.text==="#")i.splice(o+1,1);else if(/^[1-9]$/.test(l.text))i.splice(o,2,...a[+l.text-1]);else throw new $("Not a valid argument number",l)}}}return this.pushTokens(i),i}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var e=this.expandOnce();if(e instanceof Mt)return e.treatAsRelax&&(e.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Mt(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;){var s=this.expandOnce(!0);s instanceof Mt&&(s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),t.push(this.stack.pop()))}return t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(n=>n.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var s=typeof t=="function"?t(this):t;if(typeof s=="string"){var i=0;if(s.indexOf("#")!==-1)for(var a=s.replace(/##/g,"");a.indexOf("#"+(i+1))!==-1;)++i;for(var o=new Uh(s,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var h={tokens:l,numArgs:i};return h}return s}isDefined(e){return this.macros.has(e)||Ar.hasOwnProperty(e)||De.math.hasOwnProperty(e)||De.text.hasOwnProperty(e)||f4.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:Ar.hasOwnProperty(e)&&!Ar[e].primitive}}var jh=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Mi=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),H0={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},Gh={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class Ls{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new L9(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new $("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Mt("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(Ls.endOfExpression.indexOf(s.text)!==-1||t&&s.text===t||e&&Ar[s.text]&&Ar[s.text].infix)break;var i=this.parseAtom(t);if(i){if(i.type==="internal")continue}else break;n.push(i)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t=-1,n,s=0;s<e.length;s++)if(e[s].type==="infix"){if(t!==-1)throw new $("only one infix operator per group",e[s].token);t=s,n=e[s].replaceWith}if(t!==-1&&n){var i,a,o=e.slice(0,t),l=e.slice(t+1);o.length===1&&o[0].type==="ordgroup"?i=o[0]:i={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[i,e[t],a],[]):u=this.callFunction(n,[i,a],[]),[u]}else return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var s=this.parseGroup(e);if(!s)throw new $("Expected group after '"+n+"'",t);return s}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var s={type:"text",mode:this.mode,body:t},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return i}parseAtom(e){var t=this.parseGroup("atom",e);if(this.mode==="text")return t;for(var n,s;;){this.consumeSpaces();var i=this.fetch();if(i.text==="\\limits"||i.text==="\\nolimits"){if(t&&t.type==="op"){var a=i.text==="\\limits";t.limits=a,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=i.text==="\\limits");else throw new $("Limit controls must follow a math operator",i);this.consume()}else if(i.text==="^"){if(n)throw new $("Double superscript",i);n=this.handleSupSubscript("superscript")}else if(i.text==="_"){if(s)throw new $("Double subscript",i);s=this.handleSupSubscript("subscript")}else if(i.text==="'"){if(n)throw new $("Double superscript",i);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(Mi[i.text]){var u=Mi[i.text],h=jh.test(i.text);for(this.consume();;){var d=this.fetch().text;if(!Mi[d]||jh.test(d)!==h)break;this.consume(),u+=Mi[d]}var g=new Ls(u,this.settings).parse();h?s={type:"ordgroup",mode:"math",body:g}:n={type:"ordgroup",mode:"math",body:g}}else break}return n||s?{type:"supsub",mode:this.mode,base:t,sup:n,sub:s}:t}parseFunction(e,t){var n=this.fetch(),s=n.text,i=Ar[s];if(!i)return null;if(this.consume(),t&&t!=="atom"&&!i.allowedInArgument)throw new $("Got function '"+s+"' with no arguments"+(t?" as "+t:""),n);if(this.mode==="text"&&!i.allowedInText)throw new $("Can't use function '"+s+"' in text mode",n);if(this.mode==="math"&&i.allowedInMath===!1)throw new $("Can't use function '"+s+"' in math mode",n);var{args:a,optArgs:o}=this.parseArguments(s,i);return this.callFunction(s,a,o,n,e)}callFunction(e,t,n,s,i){var a={funcName:e,parser:this,token:s,breakOnTokenText:i},o=Ar[e];if(o&&o.handler)return o.handler(a,t,n);throw new $("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var s=[],i=[],a=0;a<n;a++){var o=t.argTypes&&t.argTypes[a],l=a<t.numOptionalArgs;(t.primitive&&o==null||t.type==="sqrt"&&a===1&&i[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)i.push(u);else if(u!=null)s.push(u);else throw new $("Null argument, please report this as a bug")}return{args:s,optArgs:i}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":{var s=this.parseArgumentGroup(n,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var i=this.parseStringGroup("raw",n);return i!=null?{type:"raw",mode:"text",string:i.text}:null}case"primitive":{if(n)throw new $("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new $("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new $("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(n==null)return null;for(var s="",i;(i=this.fetch()).text!=="EOF";)s+=i.text,this.consume();return this.consume(),n.text=s,n}parseRegexGroup(e,t){for(var n=this.fetch(),s=n,i="",a;(a=this.fetch()).text!=="EOF"&&e.test(i+a.text);)s=a,i+=s.text,this.consume();if(i==="")throw new $("Invalid "+t+": '"+n.text+"'",n);return n.range(s,i)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new $("Invalid color: '"+t.text+"'",t);var s=n[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",n=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!s)throw new $("Invalid size: '"+t.text+"'",t);var i={number:+(s[1]+s[2]),unit:s[3]};if(!km(i))throw new $("Invalid unit: '"+i.unit+"'",t);return{type:"size",mode:this.mode,value:i,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(n==null)return null;var s=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:i};return t&&this.switchMode(s),a}parseGroup(e,t){var n=this.fetch(),s=n.text,i;if(s==="{"||s==="\\begingroup"){this.consume();var a=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:Tt.range(n,l),body:o,semisimple:s==="\\begingroup"||void 0}}else if(i=this.parseFunction(t,e)||this.parseSymbol(),i==null&&s[0]==="\\"&&!f4.hasOwnProperty(s)){if(this.settings.throwOnError)throw new $("Undefined control sequence: "+s,n);i=this.formatUnsupportedCmd(s),this.consume()}return i}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var s=e[n],i=s.text;i==="-"&&e[n+1].text==="-"&&(n+1<t&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:Tt.range(s,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Tt.range(s,e[n+1]),text:"--"}),t-=1)),(i==="'"||i==="`")&&e[n+1].text===i&&(e.splice(n,2,{type:"textord",mode:"text",loc:Tt.range(s,e[n+1]),text:i+i}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),s=n.charAt(0)==="*";if(s&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new $(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:s}}Gh.hasOwnProperty(t[0])&&!De[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Gh[t[0]]+t.slice(1));var i=N9.exec(t);i&&(t=t.substring(0,i.index),t==="i"?t="\u0131":t==="j"&&(t="\u0237"));var a;if(De[this.mode][t]){this.settings.strict&&this.mode==="math"&&Eo.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var o=De[this.mode][t].group,l=Tt.range(e),u;if(Ty.hasOwnProperty(o)){var h=o;u={type:"atom",mode:this.mode,family:h,loc:l,text:t}}else u={type:o,mode:this.mode,loc:l,text:t};a=u}else if(t.charCodeAt(0)>=128)this.settings.strict&&(_m(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:Tt.range(e),text:t};else return null;if(this.consume(),i)for(var d=0;d<i[0].length;d++){var g=i[0][d];if(!H0[g])throw new $("Unknown accent ' "+g+"'",e);var v=H0[g][this.mode]||H0[g].text;if(!v)throw new $("Accent "+g+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Tt.range(e),label:v,isStretchy:!1,isShifty:!0,base:a}}return a}}Ls.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var pu=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new Ls(e,t);delete n.gullet.macros.current["\\df@tag"];var s=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new $("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:n.subparse([new Mt("\\df@tag")])}]}return s},d4=function(e,t,n){t.textContent="";var s=gu(e,n).toNode();t.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),d4=function(){throw new $("KaTeX doesn't work in quirks mode.")});var z9=function(e,t){var n=gu(e,t).toMarkup();return n},P9=function(e,t){var n=new Ql(t);return pu(e,n)},m4=function(e,t,n){if(n.throwOnError||!(e instanceof $))throw e;var s=S.makeSpan(["katex-error"],[new Nt(t)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+n.errorColor),s},gu=function(e,t){var n=new Ql(t);try{var s=pu(e,n);return Wy(s,e,n)}catch(i){return m4(i,e,n)}},B9=function(e,t){var n=new Ql(t);try{var s=pu(e,n);return Ky(s,e,n)}catch(i){return m4(i,e,n)}},F9={version:"0.16.2",render:d4,renderToString:z9,ParseError:$,SETTINGS_SCHEMA:Fi,__parse:P9,__renderToDomTree:gu,__renderToHTMLTree:B9,__setFontMetrics:vy,__defineSymbol:c,__defineMacro:p,__domTree:{Span:oi,Anchor:eu,SymbolNode:Nt,SvgNode:dr,PathNode:zr,LineNode:xo}};function Wh(r,e=!1){let t={displayMode:!e,throwOnError:!1};return F9.renderToString(r,t)}const Kh=r=>r.replace(/^# (.*$)/gim,"<h1>$1</h1>").replace(/\*\*(.*)\*\*/gim,"<b>$1</b>").replace(/\_\_(.*)\_\_/gim,"<i>$1</i>").replace(/\n/gim,"<br>").replace(/\[([^\]]+)\]\(([^\)]+)\)/,"<a href=$2>$1</a>").replace(/\\begin{inline}(.*)\\end{inline}/,(t,n)=>Wh(n,!0)).replace(/\\begin{equation}(.*)\\end{equation}/,(t,n)=>Wh(n,!1)).trim();function Yh(r,e,t){const n=r.slice();return n[4]=e[t],n}function Xh(r){let e,t,n,s,i=r[1],a=[];for(let o=0;o<i.length;o+=1)a[o]=Qh(Yh(r,i,o));return{c(){e=le("div"),t=le("div"),n=J(),s=le("div");for(let o=0;o<a.length;o+=1)a[o].c();E(t,"class","person svelte-hhi843"),Bt(t,"--clr-border","var(--clr-"+r[0].color+")"),Bt(t,"background-image","url("+r[0].image+")"),E(s,"class","tasks svelte-hhi843"),E(e,"class","task-row svelte-hhi843"),Bt(e,"--clr-border","var(--clr-"+r[0].color+")")},m(o,l){A(o,e,l),re(e,t),re(e,n),re(e,s);for(let u=0;u<a.length;u+=1)a[u].m(s,null)},p(o,l){if(l&1&&Bt(t,"--clr-border","var(--clr-"+o[0].color+")"),l&1&&Bt(t,"background-image","url("+o[0].image+")"),l&2){i=o[1];let u;for(u=0;u<i.length;u+=1){const h=Yh(o,i,u);a[u]?a[u].p(h,l):(a[u]=Qh(h),a[u].c(),a[u].m(s,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}l&1&&Bt(e,"--clr-border","var(--clr-"+o[0].color+")")},d(o){o&&I(e),Ro(a,o)}}}function Qh(r){let e,t,n=r[4].title+"",s,i,a,o=Kh(r[4].description)+"",l;return{c(){e=le("div"),t=le("h3"),s=Nn(n),i=J(),a=le("p"),l=J(),E(t,"class","svelte-hhi843"),E(a,"class","svelte-hhi843"),E(e,"class","task svelte-hhi843")},m(u,h){A(u,e,h),re(e,t),re(t,s),re(e,i),re(e,a),a.innerHTML=o,re(e,l)},p(u,h){h&2&&n!==(n=u[4].title+"")&&Vi(s,n),h&2&&o!==(o=Kh(u[4].description)+"")&&(a.innerHTML=o)},d(u){u&&I(e)}}}function q9(r){let e,t=r[1].length>0&&Xh(r);return{c(){t&&t.c(),e=Ne()},m(n,s){t&&t.m(n,s),A(n,e,s)},p(n,[s]){n[1].length>0?t?t.p(n,s):(t=Xh(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ve,o:ve,d(n){t&&t.d(n),n&&I(e)}}}function U9(r,e,t){let{researcher:n}=e,s=[];const i=Ga(r0,`users/${n.alias}/tasks`);return qd(Qa(i,Pl("tag","==","Doing")),a=>{let o=[];a.forEach(l=>{o=[{id:l.id,...l.data()},...o]}),t(1,s=o)}),r.$$set=a=>{"researcher"in a&&t(0,n=a.researcher)},[n,s]}class V9 extends Ee{constructor(e){super(),xe(this,e,U9,q9,Se,{researcher:0})}}function Jh(r,e,t){const n=r.slice();return n[1]=e[t],n}function Zh(r){let e,t;return e=new V9({props:{researcher:r[1]}}),{c(){G(e.$$.fragment)},m(n,s){H(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.researcher=n[1]),e.$set(i)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function H9(r){let e,t,n,s,i=r[0],a=[];for(let l=0;l<i.length;l+=1)a[l]=Zh(Jh(r,i,l));const o=l=>D(a[l],1,1,()=>{a[l]=null});return{c(){e=le("span"),e.innerHTML=`<h3>What are NPCs</h3> 
  <div class="tag svelte-klsfng">Doing</div>`,t=J(),n=le("div");for(let l=0;l<a.length;l+=1)a[l].c();E(e,"class","svelte-klsfng"),E(n,"class","work svelte-klsfng")},m(l,u){A(l,e,u),A(l,t,u),A(l,n,u);for(let h=0;h<a.length;h+=1)a[h].m(n,null);s=!0},p(l,[u]){if(u&1){i=l[0];let h;for(h=0;h<i.length;h+=1){const d=Jh(l,i,h);a[h]?(a[h].p(d,u),M(a[h],1)):(a[h]=Zh(d),a[h].c(),M(a[h],1),a[h].m(n,null))}for(Ae(),h=i.length;h<a.length;h+=1)o(h);Me()}},i(l){if(!s){for(let u=0;u<i.length;u+=1)M(a[u]);s=!0}},o(l){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)D(a[u]);s=!1},d(l){l&&I(e),l&&I(t),l&&I(n),Ro(a,l)}}}function j9(r,e,t){let{researchers:n}=e;return r.$$set=s=>{"researchers"in s&&t(0,n=s.researchers)},[n]}class G9 extends Ee{constructor(e){super(),xe(this,e,j9,H9,Se,{researchers:0})}}function e1(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function t1(r){let e,t,n,s,i,a,o=r[4].first_name+"",l,u,h,d=r[4].last_name+"",g,v,w,k,T;return{c(){e=le("div"),t=le("a"),n=le("div"),s=le("div"),i=J(),a=le("div"),l=Nn(o),u=J(),h=le("div"),g=Nn(d),w=J(),E(s,"class","person svelte-upzmgz"),Bt(s,"--clr-border","var(--clr-"+r[4].color+")"),Bt(s,"background-image","url("+r[4].image+")"),E(a,"class","first_name svelte-upzmgz"),E(h,"class","last_name svelte-upzmgz"),E(n,"class","content svelte-upzmgz"),E(t,"href",v="/researchers/"+r[4].alias),E(t,"class","svelte-upzmgz"),E(e,"class","card svelte-upzmgz")},m(x,O){A(x,e,O),re(e,t),re(t,n),re(n,s),re(n,i),re(n,a),re(a,l),re(n,u),re(n,h),re(h,g),re(e,w),k||(T=x4(v2.call(null,t)),k=!0)},p(x,O){O&1&&Bt(s,"--clr-border","var(--clr-"+x[4].color+")"),O&1&&Bt(s,"background-image","url("+x[4].image+")"),O&1&&o!==(o=x[4].first_name+"")&&Vi(l,o),O&1&&d!==(d=x[4].last_name+"")&&Vi(g,d),O&1&&v!==(v="/researchers/"+x[4].alias)&&E(t,"href",v)},d(x){x&&I(e),k=!1,T()}}}function W9(r){return{c:ve,m:ve,p:ve,i:ve,o:ve,d:ve}}function K9(r){let e=vm.includes(r[1]),t,n,s=e&&Y9(r);return{c(){s&&s.c(),t=Ne()},m(i,a){s&&s.m(i,a),A(i,t,a),n=!0},p(i,a){e&&s.p(i,a)},i(i){n||(M(s),n=!0)},o(i){D(s),n=!1},d(i){s&&s.d(i),i&&I(t)}}}function Y9(r){let e,t;return e=new G9({props:{researchers:r[0]}}),{c(){G(e.$$.fragment)},m(n,s){H(e,n,s),t=!0},p(n,s){const i={};s&1&&(i.researchers=n[0]),e.$set(i)},i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function X9(r){let e;return{c(){e=le("p"),e.textContent="...waiting"},m(t,n){A(t,e,n)},p:ve,i:ve,o:ve,d(t){t&&I(e)}}}function Q9(r){let e,t,n,s,i,a,o,l=r[0],u=[];for(let d=0;d<l.length;d+=1)u[d]=t1(e1(r,l,d));let h={ctx:r,current:null,token:null,hasCatch:!1,pending:X9,then:K9,catch:W9,value:1,blocks:[,,,]};return z4(r[1],h),{c(){e=le("div"),t=le("div"),t.innerHTML=`<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 193.17 209.06"><defs><style>.cls-1 {
            fill: none;
            stroke: #000;
            stroke-miterlimit: 10;
            stroke-width: 18.08px;
          }
        </style></defs><path class="cls-1 svelte-upzmgz" d="M17 96.54a25.31 25.31 0 0 1 35.8-35.8M15.71 95.26l107.41 107.41M51.51 59.46l89.51 89.5M176.72 112.73a25.32 25.32 0 0 1-35.81 35.8M70.69 7.03l106.13 106.13M176.18 95.9a25.31 25.31 0 1 0-35.8-35.8M177.46 94.62 70.05 202.03M141.66 58.82l-89.51 89.5M16.46 112.09a25.31 25.31 0 1 0 35.8 35.8M122.48 6.39 16.35 112.52"></path></svg>`,n=J(),s=le("div");for(let d=0;d<u.length;d+=1)u[d].c();i=J(),a=Ne(),h.block.c(),E(t,"class","back-icon svelte-upzmgz"),E(s,"class","researchers svelte-upzmgz"),E(e,"class","bigger-container svelte-upzmgz")},m(d,g){A(d,e,g),re(e,t),re(e,n),re(e,s);for(let v=0;v<u.length;v+=1)u[v].m(s,null);A(d,i,g),A(d,a,g),h.block.m(d,h.anchor=g),h.mount=()=>a.parentNode,h.anchor=a,o=!0},p(d,[g]){if(r=d,g&1){l=r[0];let v;for(v=0;v<l.length;v+=1){const w=e1(r,l,v);u[v]?u[v].p(w,g):(u[v]=t1(w),u[v].c(),u[v].m(s,null))}for(;v<u.length;v+=1)u[v].d(1);u.length=l.length}P4(h,r,g)},i(d){o||(M(h.block),o=!0)},o(d){for(let g=0;g<3;g+=1){const v=h.blocks[g];D(v)}o=!1},d(d){d&&I(e),Ro(u,d),d&&I(i),d&&I(a),h.block.d(d),h.token=null,h=null}}}function J9(r,e,t){const n=pv();let s=[];const i=Ga(r0,"users/");return qd(Qa(i,p6("seniority","asc")),a=>{let o=[];a.forEach(l=>{o=[l.data(),...o]}),t(0,s=o)}),[s,n]}class Z9 extends Ee{constructor(e){super(),xe(this,e,J9,Q9,Se,{})}}function ew(r){let e,t,n;return{c(){e=le("div"),e.innerHTML=`<h1>Loading...</h1>
  This loading is for security reasons, in reality the app is very fast.`,t=J(),n=le("div"),n.innerHTML=`<div class="inner svelte-jxo998"><div class="left svelte-jxo998"></div> 
    <div class="middle svelte-jxo998"></div> 
    <div class="right svelte-jxo998"></div></div> 
  <ul class="svelte-jxo998"><li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li> 
    <li class="svelte-jxo998"></li></ul>`,E(e,"class","text svelte-jxo998"),E(n,"class","book svelte-jxo998")},m(s,i){A(s,e,i),A(s,t,i),A(s,n,i)},p:ve,i:ve,o:ve,d(s){s&&I(e),s&&I(t),s&&I(n)}}}class r1 extends Ee{constructor(e){super(),xe(this,e,null,ew,Se,{})}}function tw(r){let e,t,n,s,i,a,o,l;return t=new da({props:{name:r[1]}}),{c(){e=le("button"),G(t.$$.fragment),n=J(),s=le("p"),i=Nn(r[0]),E(s,"class","svelte-g3nwf7"),E(e,"class","svelte-g3nwf7"),Tu(e,"white",r[2])},m(u,h){A(u,e,h),H(t,e,null),re(e,n),re(e,s),re(s,i),a=!0,o||(l=Ui(e,"click",function(){un(r[3])&&r[3].apply(this,arguments)}),o=!0)},p(u,[h]){r=u;const d={};h&2&&(d.name=r[1]),t.$set(d),(!a||h&1)&&Vi(i,r[0]),(!a||h&4)&&Tu(e,"white",r[2])},i(u){a||(M(t.$$.fragment,u),a=!0)},o(u){D(t.$$.fragment,u),a=!1},d(u){u&&I(e),j(t),o=!1,l()}}}function rw(r,e,t){let{text:n="Sign out"}=e,{icon_name:s="user"}=e,{white:i=!1}=e,{clickFunction:a}=e;return r.$$set=o=>{"text"in o&&t(0,n=o.text),"icon_name"in o&&t(1,s=o.icon_name),"white"in o&&t(2,i=o.white),"clickFunction"in o&&t(3,a=o.clickFunction)},[n,s,i,a]}class p4 extends Ee{constructor(e){super(),xe(this,e,rw,tw,Se,{text:0,icon_name:1,white:2,clickFunction:3})}}function nw(r){let e,t,n,s,i,a,o,l,u,h,d,g,v,w,k,T,x,O,U,q;return h=new da({props:{name:"corner up left"}}),k=new da({props:{name:"user"}}),{c(){e=le("div"),t=le("div"),n=le("div"),n.innerHTML=`<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 193.17 209.06"><defs><style>.cls-1 {
              fill: none;
              stroke: currentColor;
              stroke-miterlimit: 10;
              stroke-width: 18.08px;
            }
          </style></defs><path class="cls-1 svelte-6l9pz2" d="M17 96.54a25.31 25.31 0 0 1 35.8-35.8M15.71 95.26l107.41 107.41M51.51 59.46l89.51 89.5M176.72 112.73a25.32 25.32 0 0 1-35.81 35.8M70.69 7.03l106.13 106.13M176.18 95.9a25.31 25.31 0 1 0-35.8-35.8M177.46 94.62 70.05 202.03M141.66 58.82l-89.51 89.5M16.46 112.09a25.31 25.31 0 1 0 35.8 35.8M122.48 6.39 16.35 112.52"></path></svg>`,s=J(),i=le("div"),i.innerHTML=`<h2>You do not have permission</h2> 
      <p class="svelte-6l9pz2">or are no longer signed in</p>`,a=J(),o=le("div"),l=le("span"),u=le("button"),G(h.$$.fragment),d=J(),g=le("p"),g.textContent="Back",v=J(),w=le("button"),G(k.$$.fragment),T=J(),x=le("p"),x.textContent="Sign in with Google",E(n,"class","back-icon svelte-6l9pz2"),E(i,"class","icon-row svelte-6l9pz2"),E(g,"class","svelte-6l9pz2"),E(u,"class","white svelte-6l9pz2"),E(x,"class","svelte-6l9pz2"),E(w,"class","white svelte-6l9pz2"),E(l,"class","svelte-6l9pz2"),E(o,"class","button-row svelte-6l9pz2"),E(t,"class","login svelte-6l9pz2"),E(e,"class","limiter svelte-6l9pz2")},m(z,P){A(z,e,P),re(e,t),re(t,n),re(t,s),re(t,i),re(t,a),re(t,o),re(o,l),re(l,u),H(h,u,null),re(u,d),re(u,g),re(l,v),re(l,w),H(k,w,null),re(w,T),re(w,x),O=!0,U||(q=[Ui(u,"click",r[0]),Ui(w,"click",wm)],U=!0)},p:ve,i(z){O||(M(h.$$.fragment,z),M(k.$$.fragment,z),O=!0)},o(z){D(h.$$.fragment,z),D(k.$$.fragment,z),O=!1},d(z){z&&I(e),j(h),j(k),U=!1,gr(q)}}}function sw(r){return[()=>$n("/researchers")]}class iw extends Ee{constructor(e){super(),xe(this,e,sw,nw,Se,{})}}function n1(r){let e,t,n,s,i,a,o=r[1]!=="/researchers"&&s1(r);return i=new p4({props:{clickFunction:fv,icon_name:"user",text:"Sign out",white:!0}}),{c(){e=le("span"),t=le("div"),t.innerHTML=`<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 476.69 107.13" class="svelte-9l2fu5"><defs><style>.cls-4 {
              stroke: #000;
              stroke-miterlimit: 10;
              fill: none;
              stroke-width: 5.88px;
            }
          </style></defs><text transform="translate(30.59 69)" style="stroke:#000;stroke-miterlimit:10;font-size:54.57px;stroke-width:3.12px;font-family:Helvetica-Bold,Helvetica;font-weight:700;letter-spacing:.07em">NP<tspan x="83.45" y="0" style="letter-spacing:.05em">L</tspan></text><text transform="translate(159.86 63.7)" style="font-size:38.98px;font-family:Helvetica-Light,Helvetica;font-weight:300;letter-spacing:.3em">RESEARCH</text><path class="cls-4" d="M39.42 104.19H2.94V2.94h36.48M437 2.94h36.75v101.25H437"></path></svg>`,n=J(),o&&o.c(),s=J(),G(i.$$.fragment),E(t,"class","banner svelte-9l2fu5"),E(e,"class","svelte-9l2fu5")},m(l,u){A(l,e,u),re(e,t),re(e,n),o&&o.m(e,null),re(e,s),H(i,e,null),a=!0},p(l,u){l[1]!=="/researchers"?o?(o.p(l,u),u&2&&M(o,1)):(o=s1(l),o.c(),M(o,1),o.m(e,s)):o&&(Ae(),D(o,1,1,()=>{o=null}),Me())},i(l){a||(M(o),M(i.$$.fragment,l),a=!0)},o(l){D(o),D(i.$$.fragment,l),a=!1},d(l){l&&I(e),o&&o.d(),j(i)}}}function s1(r){let e,t;return e=new p4({props:{clickFunction:r[3],icon_name:"corner up left",text:"Back",white:!0}}),{c(){G(e.$$.fragment)},m(n,s){H(e,n,s),t=!0},p:ve,i(n){t||(M(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function aw(r){let e=!["/","/denied"].includes(r[1]),t,n,s,i,a=e&&n1(r);return s=new _2({props:{routes:r[0]}}),s.$on("conditionsFailed",r[2]),{c(){a&&a.c(),t=J(),n=le("div"),G(s.$$.fragment),E(n,"class","wrapper svelte-9l2fu5")},m(o,l){a&&a.m(o,l),A(o,t,l),A(o,n,l),H(s,n,null),i=!0},p(o,[l]){l&2&&(e=!["/","/denied"].includes(o[1])),e?a?(a.p(o,l),l&2&&M(a,1)):(a=n1(o),a.c(),M(a,1),a.m(t.parentNode,t)):a&&(Ae(),D(a,1,1,()=>{a=null}),Me())},i(o){i||(M(a),M(s.$$.fragment,o),i=!0)},o(o){D(a),D(s.$$.fragment,o),i=!1},d(o){a&&a.d(o),o&&I(t),o&&I(n),j(s)}}}function ow(r,e,t){let n;T4(r,g2,o=>t(1,n=o));const s={"/":F8,"/researchers":$u({component:Z9,conditions:[mv],loadingComponent:r1}),"/researchers/:name/":$u({asyncComponent:()=>_4(()=>import("./Guarded.1504d545.js"),["assets/Guarded.1504d545.js","assets/Guarded.e3332439.css"]),conditions:[o=>dv(o.params.name)],loadingComponent:r1}),"/denied":iw,"/*":U8};function i(){$n("/denied")}return[s,n,i,()=>$n("/researchers")]}class lw extends Ee{constructor(e){super(),xe(this,e,ow,aw,Se,{routes:0})}get routes(){return this.$$.ctx[0]}}new lw({target:document.getElementById("app")});export{P4 as $,$4 as A,Nn as B,Vi as C,Eu as D,G as E,H as F,j as G,cw as H,ve as I,_w as J,Bt as K,da as L,uw as M,mw as N,yw as O,Ro as P,dw as Q,Kh as R,Ee as S,bw as T,ww as U,vw as V,fw as W,hw as X,be as Y,z4 as Z,Mw as _,wa as a,kw as a0,r0 as a1,qd as a2,Ga as a3,Qa as a4,p6 as a5,Aw as a6,Iw as a7,Tw as a8,Pl as a9,Fd as aa,pv as ab,Ew as ac,Sw as ad,xw as ae,xe as b,A as c,D as d,Ne as e,Me as f,Ae as g,I as h,un as i,Ye as j,le as k,J as l,E as m,Tu as n,re as o,Ui as p,x4 as q,Je as r,Se as s,M as t,Qe as u,Xe as v,Rn as w,pw as x,gw as y,gr as z};
